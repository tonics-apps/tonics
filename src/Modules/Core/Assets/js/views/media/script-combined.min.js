var wi=Object.defineProperty;var mi=Object.getOwnPropertySymbols;var gr=Object.prototype.hasOwnProperty,mr=Object.prototype.propertyIsEnumerable;var Tt=(e,t,n)=>t in e?wi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dt=(e,t)=>{for(var n in t||(t={}))gr.call(t,n)&&Tt(e,n,t[n]);if(mi)for(var n of mi(t))mr.call(t,n)&&Tt(e,n,t[n]);return e};var v=(e,t)=>wi(e,"name",{value:t,configurable:!0});var X=(e,t,n)=>(Tt(e,typeof t!="symbol"?t+"":t,n),n);var re=Object.defineProperty,d=v((e,t)=>re(e,"name",{value:t,configurable:!0}),"__name"),te=v(class{constructor(e){return e?this.query(e):this}query(e){let t=document.querySelector(`${e}`);if(t)return this.setQueryResult(t),this;console.log(`Invalid class or id name - ${e}`)}setQueryResult(e){return this.$queryResult=e,this}getQueryResult(){return this.$queryResult}},"ElementAbstract");d(te,"ElementAbstract");var Ti=v(class extends te{constructor(e){super(e),this.dragging=null,this.droppedTarget=null,this._draggingOriginalRect=null,this.xPosition=0,this.yPosition=-1,this.mouseActive=!1,this._constrainedQuad=!1,this.$draggableElementDetails={}}get draggingOriginalRect(){return this._draggingOriginalRect}set draggingOriginalRect(e){this._draggingOriginalRect=e}get constrainedQuad(){return this._constrainedQuad}set constrainedQuad(e){this._constrainedQuad=e}settings(e,t,n=!1){return this.constrainedQuad=n,this.getDraggableElementDetails().draggable={constrainedQuad:n,draggableElement:e,ignoreElements:t,callbacks:{onDragging:null,onDragDrop:null,onDragRight:null,onDragLeft:null,onDragBottom:null,onDragTop:null}},this}getDraggableElementDetails(){return this.$draggableElementDetails}checkIfSettingsIsSet(){return this.getDraggableElementDetails().draggable}onDragDrop(e){if(this.checkIfSettingsIsSet())return this.getDraggableElementDetails().draggable.callbacks.onDragDrop=e,this}onDragRight(e){if(this.checkIfSettingsIsSet())return this.getDraggableElementDetails().draggable.callbacks.onDragRight=e,this}onDragLeft(e){if(this.checkIfSettingsIsSet())return this.getDraggableElementDetails().draggable.callbacks.onDragLeft=e,this}onDragBottom(e){if(this.checkIfSettingsIsSet())return this.getDraggableElementDetails().draggable.callbacks.onDragBottom=e,this}onDragTop(e){if(this.checkIfSettingsIsSet())return this.getDraggableElementDetails().draggable.callbacks.onDragTop=e,this}run(){let e=this.getQueryResult(),t=this,n,r;e&&e.addEventListener("pointerdown",function(u){t.setMouseActive(!0);let p=u.target,h=!0;t.getDraggableElementDetails().draggable.ignoreElements.forEach((y,w)=>{p.closest(y)&&(h=!1)});let g=t.getDraggableElementDetails().draggable.draggableElement;if(p.closest(g)&&h){t==null||t.setDragging(p.closest(g));let y=t.getDragging();n=u.clientX,r=u.clientY,y.classList.add("draggable-start"),y.classList.add("touch-action:none"),y.classList.remove("draggable-animation"),t._draggingOriginalRect=y.getBoundingClientRect()}}),e.addEventListener("pointerup",function(u){let p=u.target;if(t.isMouseActive()){t.setMouseActive(!1);let h=!0;t.getDraggableElementDetails().draggable.ignoreElements.forEach((w,o)=>{p.closest(w)&&(h=!1)}),t.setXPosition(0),t.setYPosition(-1);let g=t.getDragging();if(g&&h)g.style.transform="",g.classList.remove("draggable-start"),g.classList.remove("touch-action:none"),g.classList.add("draggable-animation");else return!1;let y=t.getDraggableElementDetails().draggable.callbacks.onDragDrop;y!==null&&typeof y=="function"&&y(p,t)}}),e.addEventListener("pointermove",function(u){if(t.isMouseActive()){let p=u.target,h=!0;t.getDraggableElementDetails().draggable.ignoreElements.forEach((w,o)=>{p.closest(w)&&(h=!1)});let g=t.getDragging(),y=t.getDraggableElementDetails().draggable.draggableElement;if(p.closest(y)&&h&&g){g.classList.add("pointer-events:none");let w=document.elementFromPoint(u.clientX,u.clientY);t.setDroppedTarget(w.closest(y)),g.classList.remove("pointer-events:none"),u.preventDefault();let o=u.clientX-n,a=u.clientY-r;if(t.constrainedQuad||(g.style.transform="translate3d("+o+"px,"+a+"px, 0px)"),u.movementX>=1&&u.movementY===0){t.constrainedQuad&&(g.style.transform="translate3d("+o+"px,"+0+"px, 0px)");let c=t.getDraggableElementDetails().draggable.callbacks.onDragRight;c!==null&&typeof c=="function"&&c(g)}if(u.movementX<0&&u.movementY===0){t.constrainedQuad&&(g.style.transform="translate3d("+o+"px,"+0+"px, 0px)");let c=t.getDraggableElementDetails().draggable.callbacks.onDragLeft;c!==null&&typeof c=="function"&&c(g,t)}if(u.movementX===0&&u.movementY>0){t.constrainedQuad&&(g.style.transform="translate3d("+0+"px,"+a+"px, 0px)");let c=t.getDraggableElementDetails().draggable.callbacks.onDragBottom;c!==null&&typeof c=="function"&&c(g,t)}else if(u.movementX===0&&u.movementY<0){t.constrainedQuad&&(g.style.transform="translate3d("+0+"px,"+a+"px, 0px)");let c=t.getDraggableElementDetails().draggable.callbacks.onDragTop;c!==null&&typeof c=="function"&&c(g,t)}}}})}getXPosition(){return this.xPosition}setXPosition(e){this.xPosition=e}getYPosition(){return this.yPosition}setYPosition(e){this.yPosition=e}incrementXPosition(){return++this.xPosition}decrementXPosition(){return this.xPosition=this.xPosition-1}incrementYPosition(){return++this.yPosition}decrementYPosition(){return this.yPosition=this.xPosition-1}getDragging(){return this.dragging}setDragging(e){this.dragging=e}getDroppedTarget(){return this.droppedTarget}setDroppedTarget(e){this.droppedTarget=e}isMouseActive(){return this.mouseActive}setMouseActive(e){this.mouseActive=e}},"Draggables");d(Ti,"Draggables");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.Draggables=e=>new Ti(e);var re=Object.defineProperty,d=v((e,t)=>re(e,"name",{value:t,configurable:!0}),"__name"),te=v(class{constructor(e){return e?this.query(e):this}query(e){let t=document.querySelector(`${e}`);if(t)return this.setQueryResult(t),this;console.log(`Invalid class or id name - ${e}`)}setQueryResult(e){return this.$queryResult=e,this}getQueryResult(){return this.$queryResult}},"ElementAbstract");d(te,"ElementAbstract");var Di=v(class extends te{constructor(e,t){super(e),this.$menuDetails={},this.queryAdapter=t}getQueryAdapter(){return this.queryAdapter}settings(e,t,n){return this.getMenuDetails().menu={parent:{element:this.getQueryResult(),event:""},propagate:!0,propagateElements:[],menuClass:e,buttonClass:t,subMenuClass:n,on:{button:{icon:{add:"",remove:""}},subMenu:{class:{add:"",remove:"",animation:{start:"",end:""}}}},off:{button:{icon:{add:"",remove:""}},subMenu:{class:{add:"",remove:"",animation:{start:"",end:""}}}}},this}stopPropagation(e=!0){return this.getMenuDetails().hasOwnProperty("menu")&&(this.getMenuDetails().menu.propagate=e),this}propagateElements(e=[]){return this.getMenuDetails().hasOwnProperty("menu")&&(this.getMenuDetails().menu.propagateElements=e),this}buttonIcon(e,t){if(this.getMenuDetails().hasOwnProperty("menu"))return this.getMenuDetails().menu.on.button.icon.add=e,this.getMenuDetails().menu.off.button.icon.add=t,this;throw new DOMException("No Menu Element Added")}menuIsOn(e,t){if(this.getMenuDetails().hasOwnProperty("menu"))return this.getMenuDetails().menu.on.subMenu.class.add=e,this.getMenuDetails().menu.on.subMenu.class.remove=t,this;throw new DOMException("No Menu Element Added")}menuIsOff(e,t){if(this.getMenuDetails().hasOwnProperty("menu"))return this.getMenuDetails().menu.off.subMenu.class.add=e,this.getMenuDetails().menu.off.subMenu.class.remove=t,this;throw new DOMException("No Menu Element Added")}run(){let e=this.getMenuDetails().menu.parent.element;e&&e.addEventListener("click",t=>{var n,r;let u=t.target;if(this.getMenuDetails().menu.propagate){let p=!1;this.getMenuDetails().menu.propagateElements.forEach(h=>{u.closest(h)&&(p=!0)}),p||t.stopPropagation()}if(u.closest(this.getMenuDetails().menu.buttonClass)){t.preventDefault();let p=u.closest(this.getMenuDetails().menu.buttonClass);if(p.classList.toggle("toggle-on"),p.ariaLabel="Expand child menu",p.ariaExpanded="false",p.classList.contains("toggle-on")){if(p.closest("[data-menu-depth]")){let y=p.closest("[data-menu-depth]"),w=document.querySelectorAll(`[data-menu-depth="${y.dataset.menuDepth}"]`);w.length>0&&w.forEach(o=>{let a=o.querySelector(this.getMenuDetails().menu.buttonClass);a!==p&&a&&a.classList.contains("toggle-on")&&a.click()})}p.ariaLabel="Collapse child menu",p.ariaExpanded="true"}let h=p.closest(this.getMenuDetails().menu.menuClass),g=(r=(n=this.getQueryAdapter().addNodeElement(h).in())==null?void 0:n.forward(this.getMenuDetails().menu.subMenuClass))==null?void 0:r.getQueryResult();if(g||(g=this.getQueryAdapter().addNodeElement(h).queryChildren(this.getMenuDetails().menu.subMenuClass).getQueryResult()),g.classList.contains(this.getMenuDetails().menu.on.subMenu.class.add[0]))if(this.hasAnimation(g)){let y=this.getMenuDetails().menu.off.subMenu.class.remove.find(c=>c.includes("flex")||c.includes("display-block")),w=this.getMenuDetails().menu.off.subMenu.class.remove.filter(c=>c!==y),o=this.getMenuDetails().menu.off.subMenu.class.add.find(c=>c.includes("none")),a=this.getMenuDetails().menu.off.subMenu.class.add.filter(c=>c!==o);g.classList.remove(w),g.classList.add(a),g.addEventListener("animationend",()=>{g.classList.remove(y),g.classList.add(o)},{once:!0})}else g.classList.remove(...this.getMenuDetails().menu.off.subMenu.class.remove),g.classList.add(...this.getMenuDetails().menu.off.subMenu.class.add);else g.classList.add(...this.getMenuDetails().menu.on.subMenu.class.add),g.classList.remove(...this.getMenuDetails().menu.on.subMenu.class.remove);if(this.getMenuDetails().menu.off.button.icon.add){let y=p.querySelector(".svgUse");if(y)y.getAttribute("xlink:href")===this.getMenuDetails().menu.off.button.icon.add?this.getQueryAdapter().addNodeElement(y).setSVGUseAttribute(this.getMenuDetails().menu.on.button.icon.add):this.getQueryAdapter().addNodeElement(y).setSVGUseAttribute(this.getMenuDetails().menu.off.button.icon.add);else throw new DOMException("Add class `svgUse` to svg use element")}}})}getMenuDetails(){return this.$menuDetails}closeMenuToggle(e=null){let t=this;e===null&&(e=document),e.querySelectorAll(t.getMenuDetails().menu.buttonClass).forEach(n=>{n.classList.contains("toggle-on")&&n.dataset.hasOwnProperty("menutoggle_click_outside")&&n.dataset.menutoggle_click_outside==="true"&&n.click()})}closeOnClickOutSide(e){e&&this.getMenuDetails().menu.parent.element.querySelectorAll(this.getMenuDetails().menu.buttonClass).forEach(r=>{r.setAttribute("data-menutoggle_click_outside","true")});let t=this;return document.addEventListener("click",function(n){t.closeMenuToggle()}),document.addEventListener("keyup",function(n){n.key==="Escape"&&t.closeMenuToggle()}),this}hasAnimation(e){let t=window.getComputedStyle(e,null),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0}},"MenuToggle");d(Di,"MenuToggle");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.MenuToggle=(e,t)=>new Di(e,t);var re=Object.defineProperty,d=v((e,t)=>re(e,"name",{value:t,configurable:!0}),"__name"),te=v(class{constructor(e){return e?this.query(e):this}query(e){let t=document.querySelector(`${e}`);if(t)return this.setQueryResult(t),this;console.log(`Invalid class or id name - ${e}`)}setQueryResult(e){return this.$queryResult=e,this}getQueryResult(){return this.$queryResult}},"ElementAbstract");d(te,"ElementAbstract");var Le=v(class extends te{addNodeElement(e){return this.setQueryResult(e),this}forward(e){let t=this.getQueryResult().nextElementSibling;for(;t;){if(t.matches(e))return this.setQueryResult(t),this;t=t.nextElementSibling}return null}backward(e){let t=this.getQueryResult().previousElementSibling;for(;t;){if(t.matches(e))return this.setQueryResult(t),this;t=t.previousElementSibling}return null}in(){let e=this.getQueryResult().firstElementChild;return e?(this.setQueryResult(e),this):null}out(){let e=this.getQueryResult().parentElement;return e?(this.setQueryResult(e),this):null}queryChildren(e,t=!0){let n=this.getQueryResult().querySelector(e);return n?t?(this.setQueryResult(n),this):n:null}setSVGUseAttribute(e){let t=this.getQueryResult();if(t.tagName=="use")t.removeAttribute("xlink:href"),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e);else throw new DOMException("Not a valid svg use element")}},"Query");d(Le,"Query");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.Query=()=>new Le;var wr=Object.create,re=Object.defineProperty,vr=Object.getOwnPropertyDescriptor,yr=Object.getOwnPropertyNames,vi=Object.getOwnPropertySymbols,br=Object.getPrototypeOf,Pi=Object.prototype.hasOwnProperty,_r=Object.prototype.propertyIsEnumerable,yi=v((e,t,n)=>t in e?re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"__defNormalProp"),bi=v((e,t)=>{for(var n in t||(t={}))Pi.call(t,n)&&yi(e,n,t[n]);if(vi)for(var n of vi(t))_r.call(t,n)&&yi(e,n,t[n]);return e},"__spreadValues"),Er=v(e=>re(e,"__esModule",{value:!0}),"__markAsModule"),d=v((e,t)=>re(e,"name",{value:t,configurable:!0}),"__name"),kr=v((e,t)=>v(function(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports},"__require"),"__commonJS"),Sr=v((e,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of yr(t))!Pi.call(e,r)&&r!=="default"&&re(e,r,{get:()=>t[r],enumerable:!(n=vr(t,r))||n.enumerable});return e},"__reExport"),Cr=v(e=>Sr(Er(re(e!=null?wr(br(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),"__toModule"),oe=v((e,t,n)=>new Promise((r,u)=>{var p=v(y=>{try{g(n.next(y))}catch(w){u(w)}},"fulfilled"),h=v(y=>{try{g(n.throw(y))}catch(w){u(w)}},"rejected"),g=v(y=>y.done?r(y.value):Promise.resolve(y.value).then(p,h),"step");g((n=n.apply(e,t)).next())}),"__async"),xr=kr({"node_modules/sweetalert2/dist/sweetalert2.all.js"(e,t){(function(n,r){typeof e=="object"&&typeof t!="undefined"?t.exports=r():typeof define=="function"&&define.amd?define(r):(n=n||self,n.Sweetalert2=r())})(e,function(){"use strict";let n=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),r="SweetAlert2:",u=d(i=>{let s=[];for(let l=0;l<i.length;l++)s.indexOf(i[l])===-1&&s.push(i[l]);return s},"uniqueArray"),p=d(i=>i.charAt(0).toUpperCase()+i.slice(1),"capitalizeFirstLetter"),h=d(i=>Array.prototype.slice.call(i),"toArray"),g=d(i=>{console.warn("".concat(r," ").concat(typeof i=="object"?i.join(" "):i))},"warn"),y=d(i=>{console.error("".concat(r," ").concat(i))},"error"),w=[],o=d(i=>{w.includes(i)||(w.push(i),g(i))},"warnOnce"),a=d((i,s)=>{o('"'.concat(i,'" is deprecated and will be removed in the next major release. Please use "').concat(s,'" instead.'))},"warnAboutDeprecation"),c=d(i=>typeof i=="function"?i():i,"callIfFunction"),m=d(i=>i&&typeof i.toPromise=="function","hasToPromiseFn"),b=d(i=>m(i)?i.toPromise():Promise.resolve(i),"asPromise"),k=d(i=>i&&Promise.resolve(i)===i,"isPromise"),_=d(i=>typeof i=="object"&&i.jquery,"isJqueryElement"),x=d(i=>i instanceof Element||_(i),"isElement"),L=d(i=>{let s={};return typeof i[0]=="object"&&!x(i[0])?Object.assign(s,i[0]):["title","html","icon"].forEach((l,f)=>{let S=i[f];typeof S=="string"||x(S)?s[l]=S:S!==void 0&&y("Unexpected type of ".concat(l,'! Expected "string" or "Element", got ').concat(typeof S))}),s},"argsToParams"),R="swal2-",Y=d(i=>{let s={};for(let l in i)s[i[l]]=R+i[l];return s},"prefix"),E=Y(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),ae=Y(["success","warning","info","question","error"]),H=d(()=>document.body.querySelector(".".concat(E.container)),"getContainer"),B=d(i=>{let s=H();return s?s.querySelector(i):null},"elementBySelector"),z=d(i=>B(".".concat(i)),"elementByClass"),q=d(()=>z(E.popup),"getPopup"),ge=d(()=>z(E.icon),"getIcon"),Ae=d(()=>z(E.title),"getTitle"),ne=d(()=>z(E["html-container"]),"getHtmlContainer"),Ve=d(()=>z(E.image),"getImage"),fn=d(()=>z(E["progress-steps"]),"getProgressSteps"),ze=d(()=>z(E["validation-message"]),"getValidationMessage"),ie=d(()=>B(".".concat(E.actions," .").concat(E.confirm)),"getConfirmButton"),fe=d(()=>B(".".concat(E.actions," .").concat(E.deny)),"getDenyButton"),os=d(()=>z(E["input-label"]),"getInputLabel"),ke=d(()=>B(".".concat(E.loader)),"getLoader"),me=d(()=>B(".".concat(E.actions," .").concat(E.cancel)),"getCancelButton"),Qe=d(()=>z(E.actions),"getActions"),hn=d(()=>z(E.footer),"getFooter"),Ge=d(()=>z(E["timer-progress-bar"]),"getTimerProgressBar"),at=d(()=>z(E.close),"getCloseButton"),rs=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,lt=d(()=>{let i=h(q().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((l,f)=>(l=parseInt(l.getAttribute("tabindex")),f=parseInt(f.getAttribute("tabindex")),l>f?1:l<f?-1:0)),s=h(q().querySelectorAll(rs)).filter(l=>l.getAttribute("tabindex")!=="-1");return u(i.concat(s)).filter(l=>Z(l))},"getFocusableElements"),ct=d(()=>!Ie()&&!document.body.classList.contains(E["no-backdrop"]),"isModal"),Ie=d(()=>document.body.classList.contains(E["toast-shown"]),"isToast"),as=d(()=>q().hasAttribute("data-loading"),"isLoading"),Se={previousBodyPadding:null},j=d((i,s)=>{if(i.textContent="",s){let f=new DOMParser().parseFromString(s,"text/html");h(f.querySelector("head").childNodes).forEach(S=>{i.appendChild(S)}),h(f.querySelector("body").childNodes).forEach(S=>{i.appendChild(S)})}},"setInnerHtml"),Oe=d((i,s)=>{if(!s)return!1;let l=s.split(/\s+/);for(let f=0;f<l.length;f++)if(!i.classList.contains(l[f]))return!1;return!0},"hasClass"),ls=d((i,s)=>{h(i.classList).forEach(l=>{!Object.values(E).includes(l)&&!Object.values(ae).includes(l)&&!Object.values(s.showClass).includes(l)&&i.classList.remove(l)})},"removeCustomClasses"),se=d((i,s,l)=>{if(ls(i,s),s.customClass&&s.customClass[l]){if(typeof s.customClass[l]!="string"&&!s.customClass[l].forEach)return g("Invalid type of customClass.".concat(l,'! Expected string or iterable object, got "').concat(typeof s.customClass[l],'"'));M(i,s.customClass[l])}},"applyCustomClass"),ut=d((i,s)=>{if(!s)return null;switch(s){case"select":case"textarea":case"file":return ce(i,E[s]);case"checkbox":return i.querySelector(".".concat(E.checkbox," input"));case"radio":return i.querySelector(".".concat(E.radio," input:checked"))||i.querySelector(".".concat(E.radio," input:first-child"));case"range":return i.querySelector(".".concat(E.range," input"));default:return ce(i,E.input)}},"getInput"),gn=d(i=>{if(i.focus(),i.type!=="file"){let s=i.value;i.value="",i.value=s}},"focusInput"),mn=d((i,s,l)=>{!i||!s||(typeof s=="string"&&(s=s.split(/\s+/).filter(Boolean)),s.forEach(f=>{i.forEach?i.forEach(S=>{l?S.classList.add(f):S.classList.remove(f)}):l?i.classList.add(f):i.classList.remove(f)}))},"toggleClass"),M=d((i,s)=>{mn(i,s,!0)},"addClass"),le=d((i,s)=>{mn(i,s,!1)},"removeClass"),ce=d((i,s)=>{for(let l=0;l<i.childNodes.length;l++)if(Oe(i.childNodes[l],s))return i.childNodes[l]},"getChildByClass"),Me=d((i,s,l)=>{l==="".concat(parseInt(l))&&(l=parseInt(l)),l||parseInt(l)===0?i.style[s]=typeof l=="number"?"".concat(l,"px"):l:i.style.removeProperty(s)},"applyNumericalStyle"),$=d(function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";i.style.display=s},"show"),V=d(i=>{i.style.display="none"},"hide"),wn=d((i,s,l,f)=>{let S=i.querySelector(s);S&&(S.style[l]=f)},"setStyle"),Xe=d((i,s,l)=>{s?$(i,l):V(i)},"toggle"),Z=d(i=>!!(i&&(i.offsetWidth||i.offsetHeight||i.getClientRects().length)),"isVisible"),cs=d(()=>!Z(ie())&&!Z(fe())&&!Z(me()),"allButtonsAreHidden"),vn=d(i=>i.scrollHeight>i.clientHeight,"isScrollable"),yn=d(i=>{let s=window.getComputedStyle(i),l=parseFloat(s.getPropertyValue("animation-duration")||"0"),f=parseFloat(s.getPropertyValue("transition-duration")||"0");return l>0||f>0},"hasCssAnimation"),dt=d(function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=Ge();Z(l)&&(s&&(l.style.transition="none",l.style.width="100%"),setTimeout(()=>{l.style.transition="width ".concat(i/1e3,"s linear"),l.style.width="0%"},10))},"animateTimerProgressBar"),us=d(()=>{let i=Ge(),s=parseInt(window.getComputedStyle(i).width);i.style.removeProperty("transition"),i.style.width="100%";let l=parseInt(window.getComputedStyle(i).width),f=parseInt(s/l*100);i.style.removeProperty("transition"),i.style.width="".concat(f,"%")},"stopTimerProgressBar"),bn=d(()=>typeof window=="undefined"||typeof document=="undefined","isNodeEnv"),ds=`
 <div aria-labelledby="`.concat(E.title,'" aria-describedby="').concat(E["html-container"],'" class="').concat(E.popup,`" tabindex="-1">
   <button type="button" class="`).concat(E.close,`"></button>
   <ul class="`).concat(E["progress-steps"],`"></ul>
   <div class="`).concat(E.icon,`"></div>
   <img class="`).concat(E.image,`" />
   <h2 class="`).concat(E.title,'" id="').concat(E.title,`"></h2>
   <div class="`).concat(E["html-container"],'" id="').concat(E["html-container"],`"></div>
   <input class="`).concat(E.input,`" />
   <input type="file" class="`).concat(E.file,`" />
   <div class="`).concat(E.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(E.select,`"></select>
   <div class="`).concat(E.radio,`"></div>
   <label for="`).concat(E.checkbox,'" class="').concat(E.checkbox,`">
     <input type="checkbox" />
     <span class="`).concat(E.label,`"></span>
   </label>
   <textarea class="`).concat(E.textarea,`"></textarea>
   <div class="`).concat(E["validation-message"],'" id="').concat(E["validation-message"],`"></div>
   <div class="`).concat(E.actions,`">
     <div class="`).concat(E.loader,`"></div>
     <button type="button" class="`).concat(E.confirm,`"></button>
     <button type="button" class="`).concat(E.deny,`"></button>
     <button type="button" class="`).concat(E.cancel,`"></button>
   </div>
   <div class="`).concat(E.footer,`"></div>
   <div class="`).concat(E["timer-progress-bar-container"],`">
     <div class="`).concat(E["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),ps=d(()=>{let i=H();return i?(i.remove(),le([document.documentElement,document.body],[E["no-backdrop"],E["toast-shown"],E["has-column"]]),!0):!1},"resetOldContainer"),we=d(()=>{ye.isVisible()&&ye.resetValidationMessage()},"resetValidationMessage"),fs=d(()=>{let i=q(),s=ce(i,E.input),l=ce(i,E.file),f=i.querySelector(".".concat(E.range," input")),S=i.querySelector(".".concat(E.range," output")),F=ce(i,E.select),U=i.querySelector(".".concat(E.checkbox," input")),J=ce(i,E.textarea);s.oninput=we,l.onchange=we,F.onchange=we,U.onchange=we,J.oninput=we,f.oninput=()=>{we(),S.value=f.value},f.onchange=()=>{we(),f.nextSibling.value=f.value}},"addInputChangeListeners"),hs=d(i=>typeof i=="string"?document.querySelector(i):i,"getTarget"),gs=d(i=>{let s=q();s.setAttribute("role",i.toast?"alert":"dialog"),s.setAttribute("aria-live",i.toast?"polite":"assertive"),i.toast||s.setAttribute("aria-modal","true")},"setupAccessibility"),ms=d(i=>{window.getComputedStyle(i).direction==="rtl"&&M(H(),E.rtl)},"setupRTL"),ws=d(i=>{let s=ps();if(bn()){y("SweetAlert2 requires document to initialize");return}let l=document.createElement("div");l.className=E.container,s&&M(l,E["no-transition"]),j(l,ds);let f=hs(i.target);f.appendChild(l),gs(i),ms(f),fs()},"init"),pt=d((i,s)=>{i instanceof HTMLElement?s.appendChild(i):typeof i=="object"?vs(i,s):i&&j(s,i)},"parseHtmlToContainer"),vs=d((i,s)=>{i.jquery?ys(s,i):j(s,i.toString())},"handleObject"),ys=d((i,s)=>{if(i.textContent="",0 in s)for(let l=0;l in s;l++)i.appendChild(s[l].cloneNode(!0));else i.appendChild(s.cloneNode(!0))},"handleJqueryElem"),Re=(()=>{if(bn())return!1;let i=document.createElement("div"),s={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(let l in s)if(Object.prototype.hasOwnProperty.call(s,l)&&typeof i.style[l]!="undefined")return s[l];return!1})(),bs=d(()=>{let i=document.createElement("div");i.className=E["scrollbar-measure"],document.body.appendChild(i);let s=i.getBoundingClientRect().width-i.clientWidth;return document.body.removeChild(i),s},"measureScrollbar"),_s=d((i,s)=>{let l=Qe(),f=ke();!s.showConfirmButton&&!s.showDenyButton&&!s.showCancelButton?V(l):$(l),se(l,s,"actions"),_n(l,f,s),j(f,s.loaderHtml),se(f,s,"loader")},"renderActions");function _n(i,s,l){let f=ie(),S=fe(),F=me();We(f,"confirm",l),We(S,"deny",l),We(F,"cancel",l),En(f,S,F,l),l.reverseButtons&&(l.toast?(i.insertBefore(F,f),i.insertBefore(S,f)):(i.insertBefore(F,s),i.insertBefore(S,s),i.insertBefore(f,s)))}v(_n,"renderButtons"),d(_n,"renderButtons");function En(i,s,l,f){if(!f.buttonsStyling)return le([i,s,l],E.styled);M([i,s,l],E.styled),f.confirmButtonColor&&(i.style.backgroundColor=f.confirmButtonColor,M(i,E["default-outline"])),f.denyButtonColor&&(s.style.backgroundColor=f.denyButtonColor,M(s,E["default-outline"])),f.cancelButtonColor&&(l.style.backgroundColor=f.cancelButtonColor,M(l,E["default-outline"]))}v(En,"handleButtonsStyling"),d(En,"handleButtonsStyling");function We(i,s,l){Xe(i,l["show".concat(p(s),"Button")],"inline-block"),j(i,l["".concat(s,"ButtonText")]),i.setAttribute("aria-label",l["".concat(s,"ButtonAriaLabel")]),i.className=E[s],se(i,l,"".concat(s,"Button")),M(i,l["".concat(s,"ButtonClass")])}v(We,"renderButton"),d(We,"renderButton");function kn(i,s){typeof s=="string"?i.style.background=s:s||M([document.documentElement,document.body],E["no-backdrop"])}v(kn,"handleBackdropParam"),d(kn,"handleBackdropParam");function Sn(i,s){s in E?M(i,E[s]):(g('The "position" parameter is not valid, defaulting to "center"'),M(i,E.center))}v(Sn,"handlePositionParam"),d(Sn,"handlePositionParam");function Cn(i,s){if(s&&typeof s=="string"){let l="grow-".concat(s);l in E&&M(i,E[l])}}v(Cn,"handleGrowParam"),d(Cn,"handleGrowParam");let Es=d((i,s)=>{let l=H();!l||(kn(l,s.backdrop),Sn(l,s.position),Cn(l,s.grow),se(l,s,"container"))},"renderContainer");var I={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};let ks=["input","file","range","select","radio","checkbox","textarea"],Ss=d((i,s)=>{let l=q(),f=I.innerParams.get(i),S=!f||s.input!==f.input;ks.forEach(F=>{let U=E[F],J=ce(l,U);Fs(F,s.inputAttributes),J.className=U,S&&V(J)}),s.input&&(S&&Cs(s),Ts(s))},"renderInput"),Cs=d(i=>{if(!G[i.input])return y('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(i.input,'"'));let s=xn(i.input),l=G[i.input](s,i);$(l),setTimeout(()=>{gn(l)})},"showInput"),xs=d(i=>{for(let s=0;s<i.attributes.length;s++){let l=i.attributes[s].name;["type","value","style"].includes(l)||i.removeAttribute(l)}},"removeAttributes"),Fs=d((i,s)=>{let l=ut(q(),i);if(!!l){xs(l);for(let f in s)l.setAttribute(f,s[f])}},"setAttributes"),Ts=d(i=>{let s=xn(i.input);i.customClass&&M(s,i.customClass.input)},"setCustomClass"),ft=d((i,s)=>{(!i.placeholder||s.inputPlaceholder)&&(i.placeholder=s.inputPlaceholder)},"setInputPlaceholder"),qe=d((i,s,l)=>{if(l.inputLabel){i.id=E.input;let f=document.createElement("label"),S=E["input-label"];f.setAttribute("for",i.id),f.className=S,M(f,l.customClass.inputLabel),f.innerText=l.inputLabel,s.insertAdjacentElement("beforebegin",f)}},"setInputLabel"),xn=d(i=>{let s=E[i]?E[i]:E.input;return ce(q(),s)},"getInputContainer"),G={};G.text=G.email=G.password=G.number=G.tel=G.url=(i,s)=>(typeof s.inputValue=="string"||typeof s.inputValue=="number"?i.value=s.inputValue:k(s.inputValue)||g('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof s.inputValue,'"')),qe(i,i,s),ft(i,s),i.type=s.input,i),G.file=(i,s)=>(qe(i,i,s),ft(i,s),i),G.range=(i,s)=>{let l=i.querySelector("input"),f=i.querySelector("output");return l.value=s.inputValue,l.type=s.input,f.value=s.inputValue,qe(l,i,s),i},G.select=(i,s)=>{if(i.textContent="",s.inputPlaceholder){let l=document.createElement("option");j(l,s.inputPlaceholder),l.value="",l.disabled=!0,l.selected=!0,i.appendChild(l)}return qe(i,i,s),i},G.radio=i=>(i.textContent="",i),G.checkbox=(i,s)=>{let l=ut(q(),"checkbox");l.value=1,l.id=E.checkbox,l.checked=Boolean(s.inputValue);let f=i.querySelector("span");return j(f,s.inputPlaceholder),i},G.textarea=(i,s)=>{i.value=s.inputValue,ft(i,s),qe(i,i,s);let l=d(f=>parseInt(window.getComputedStyle(f).marginLeft)+parseInt(window.getComputedStyle(f).marginRight),"getMargin");return setTimeout(()=>{if("MutationObserver"in window){let f=parseInt(window.getComputedStyle(q()).width),S=d(()=>{let F=i.offsetWidth+l(i);F>f?q().style.width="".concat(F,"px"):q().style.width=null},"textareaResizeHandler");new MutationObserver(S).observe(i,{attributes:!0,attributeFilter:["style"]})}}),i};let Ds=d((i,s)=>{let l=ne();se(l,s,"htmlContainer"),s.html?(pt(s.html,l),$(l,"block")):s.text?(l.textContent=s.text,$(l,"block")):V(l),Ss(i,s)},"renderContent"),Ps=d((i,s)=>{let l=hn();Xe(l,s.footer),s.footer&&pt(s.footer,l),se(l,s,"footer")},"renderFooter"),Ls=d((i,s)=>{let l=at();j(l,s.closeButtonHtml),se(l,s,"closeButton"),Xe(l,s.showCloseButton),l.setAttribute("aria-label",s.closeButtonAriaLabel)},"renderCloseButton"),As=d((i,s)=>{let l=I.innerParams.get(i),f=ge();if(l&&s.icon===l.icon){Tn(f,s),Fn(f,s);return}if(!s.icon&&!s.iconHtml)return V(f);if(s.icon&&Object.keys(ae).indexOf(s.icon)===-1)return y('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(s.icon,'"')),V(f);$(f),Tn(f,s),Fn(f,s),M(f,s.showClass.icon)},"renderIcon"),Fn=d((i,s)=>{for(let l in ae)s.icon!==l&&le(i,ae[l]);M(i,ae[s.icon]),Os(i,s),Is(),se(i,s,"icon")},"applyStyles"),Is=d(()=>{let i=q(),s=window.getComputedStyle(i).getPropertyValue("background-color"),l=i.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let f=0;f<l.length;f++)l[f].style.backgroundColor=s},"adjustSuccessIconBackgoundColor"),Tn=d((i,s)=>{i.textContent="",s.iconHtml?j(i,Dn(s.iconHtml)):s.icon==="success"?j(i,`
      <div class="swal2-success-circular-line-left"></div>
      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
      <div class="swal2-success-circular-line-right"></div>
    `):s.icon==="error"?j(i,`
      <span class="swal2-x-mark">
        <span class="swal2-x-mark-line-left"></span>
        <span class="swal2-x-mark-line-right"></span>
      </span>
    `):j(i,Dn({question:"?",warning:"!",info:"i"}[s.icon]))},"setContent"),Os=d((i,s)=>{if(!!s.iconColor){i.style.color=s.iconColor,i.style.borderColor=s.iconColor;for(let l of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])wn(i,l,"backgroundColor",s.iconColor);wn(i,".swal2-success-ring","borderColor",s.iconColor)}},"setColor"),Dn=d(i=>'<div class="'.concat(E["icon-content"],'">').concat(i,"</div>"),"iconContent"),Ms=d((i,s)=>{let l=Ve();if(!s.imageUrl)return V(l);$(l,""),l.setAttribute("src",s.imageUrl),l.setAttribute("alt",s.imageAlt),Me(l,"width",s.imageWidth),Me(l,"height",s.imageHeight),l.className=E.image,se(l,s,"image")},"renderImage"),Rs=d(i=>{let s=document.createElement("li");return M(s,E["progress-step"]),j(s,i),s},"createStepElement"),qs=d(i=>{let s=document.createElement("li");return M(s,E["progress-step-line"]),i.progressStepsDistance&&(s.style.width=i.progressStepsDistance),s},"createLineElement"),Bs=d((i,s)=>{let l=fn();if(!s.progressSteps||s.progressSteps.length===0)return V(l);$(l),l.textContent="",s.currentProgressStep>=s.progressSteps.length&&g("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.progressSteps.forEach((f,S)=>{let F=Rs(f);if(l.appendChild(F),S===s.currentProgressStep&&M(F,E["active-progress-step"]),S!==s.progressSteps.length-1){let U=qs(s);l.appendChild(U)}})},"renderProgressSteps"),Hs=d((i,s)=>{let l=Ae();Xe(l,s.title||s.titleText,"block"),s.title&&pt(s.title,l),s.titleText&&(l.innerText=s.titleText),se(l,s,"title")},"renderTitle"),Ns=d((i,s)=>{let l=H(),f=q();s.toast?(Me(l,"width",s.width),f.style.width="100%",f.insertBefore(ke(),ge())):Me(f,"width",s.width),Me(f,"padding",s.padding),s.background&&(f.style.background=s.background),V(ze()),Us(f,s)},"renderPopup"),Us=d((i,s)=>{i.className="".concat(E.popup," ").concat(Z(i)?s.showClass.popup:""),s.toast?(M([document.documentElement,document.body],E["toast-shown"]),M(i,E.toast)):M(i,E.modal),se(i,s,"popup"),typeof s.customClass=="string"&&M(i,s.customClass),s.icon&&M(i,E["icon-".concat(s.icon)])},"addClasses"),Pn=d((i,s)=>{Ns(i,s),Es(i,s),Bs(i,s),As(i,s),Ms(i,s),Hs(i,s),Ls(i,s),Ds(i,s),_s(i,s),Ps(i,s),typeof s.didRender=="function"&&s.didRender(q())},"render"),$s=d(()=>Z(q()),"isVisible$1"),Ln=d(()=>ie()&&ie().click(),"clickConfirm"),js=d(()=>fe()&&fe().click(),"clickDeny"),Vs=d(()=>me()&&me().click(),"clickCancel");function An(){let i=this;for(var s=arguments.length,l=new Array(s),f=0;f<s;f++)l[f]=arguments[f];return new i(...l)}v(An,"fire"),d(An,"fire");function In(i){class s extends this{_main(f,S){return super._main(f,Object.assign({},i,S))}}return v(s,"MixinSwal"),d(s,"MixinSwal"),s}v(In,"mixin"),d(In,"mixin");let Ce=d(i=>{let s=q();s||ye.fire(),s=q();let l=ke();Ie()?V(ge()):zs(s,i),$(l),s.setAttribute("data-loading",!0),s.setAttribute("aria-busy",!0),s.focus()},"showLoading"),zs=d((i,s)=>{let l=Qe(),f=ke();!s&&Z(ie())&&(s=ie()),$(l),s&&(V(s),f.setAttribute("data-button-to-replace",s.className)),f.parentNode.insertBefore(f,s),M([i,l],E.loading)},"replaceButton"),Qs=100,P={},Gs=d(()=>{P.previousActiveElement&&P.previousActiveElement.focus?(P.previousActiveElement.focus(),P.previousActiveElement=null):document.body&&document.body.focus()},"focusPreviousActiveElement"),Xs=d(i=>new Promise(s=>{if(!i)return s();let l=window.scrollX,f=window.scrollY;P.restoreFocusTimeout=setTimeout(()=>{Gs(),s()},Qs),window.scrollTo(l,f)}),"restoreActiveElement"),Ws=d(()=>P.timeout&&P.timeout.getTimerLeft(),"getTimerLeft"),On=d(()=>{if(P.timeout)return us(),P.timeout.stop()},"stopTimer"),Mn=d(()=>{if(P.timeout){let i=P.timeout.start();return dt(i),i}},"resumeTimer"),Ks=d(()=>{let i=P.timeout;return i&&(i.running?On():Mn())},"toggleTimer"),Ys=d(i=>{if(P.timeout){let s=P.timeout.increase(i);return dt(s,!0),s}},"increaseTimer"),Js=d(()=>P.timeout&&P.timeout.isRunning(),"isTimerRunning"),Rn=!1,ht={};function qn(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";ht[i]=this,Rn||(document.body.addEventListener("click",Zs),Rn=!0)}v(qn,"bindClickHandler"),d(qn,"bindClickHandler");let Zs=d(i=>{for(let s=i.target;s&&s!==document;s=s.parentNode)for(let l in ht){let f=s.getAttribute(l);if(f){ht[l].fire({template:f});return}}},"bodyClickListener"),xe={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},eo=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],to={},no=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Bn=d(i=>Object.prototype.hasOwnProperty.call(xe,i),"isValidParameter"),io=d(i=>eo.indexOf(i)!==-1,"isUpdatableParameter"),gt=d(i=>to[i],"isDeprecatedParameter"),so=d(i=>{Bn(i)||g('Unknown parameter "'.concat(i,'"'))},"checkIfParamIsValid"),oo=d(i=>{no.includes(i)&&g('The parameter "'.concat(i,'" is incompatible with toasts'))},"checkIfToastParamIsValid"),ro=d(i=>{gt(i)&&a(i,gt(i))},"checkIfParamIsDeprecated"),ao=d(i=>{!i.backdrop&&i.allowOutsideClick&&g('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let s in i)so(s),i.toast&&oo(s),ro(s)},"showWarningsForParams");var lo=Object.freeze({isValidParameter:Bn,isUpdatableParameter:io,isDeprecatedParameter:gt,argsToParams:L,isVisible:$s,clickConfirm:Ln,clickDeny:js,clickCancel:Vs,getContainer:H,getPopup:q,getTitle:Ae,getHtmlContainer:ne,getImage:Ve,getIcon:ge,getInputLabel:os,getCloseButton:at,getActions:Qe,getConfirmButton:ie,getDenyButton:fe,getCancelButton:me,getLoader:ke,getFooter:hn,getTimerProgressBar:Ge,getFocusableElements:lt,getValidationMessage:ze,isLoading:as,fire:An,mixin:In,showLoading:Ce,enableLoading:Ce,getTimerLeft:Ws,stopTimer:On,resumeTimer:Mn,toggleTimer:Ks,increaseTimer:Ys,isTimerRunning:Js,bindClickHandler:qn});function mt(){let i=I.innerParams.get(this);if(!i)return;let s=I.domCache.get(this);V(s.loader),Ie()?i.icon&&$(ge()):co(s),le([s.popup,s.actions],E.loading),s.popup.removeAttribute("aria-busy"),s.popup.removeAttribute("data-loading"),s.confirmButton.disabled=!1,s.denyButton.disabled=!1,s.cancelButton.disabled=!1}v(mt,"hideLoading"),d(mt,"hideLoading");let co=d(i=>{let s=i.popup.getElementsByClassName(i.loader.getAttribute("data-button-to-replace"));s.length?$(s[0],"inline-block"):cs()&&V(i.actions)},"showRelatedButton");function Hn(i){let s=I.innerParams.get(i||this),l=I.domCache.get(i||this);return l?ut(l.popup,s.input):null}v(Hn,"getInput$1"),d(Hn,"getInput$1");let uo=d(()=>{Se.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(Se.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Se.previousBodyPadding+bs(),"px"))},"fixScrollbar"),po=d(()=>{Se.previousBodyPadding!==null&&(document.body.style.paddingRight="".concat(Se.previousBodyPadding,"px"),Se.previousBodyPadding=null)},"undoScrollbar"),fo=d(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!Oe(document.body,E.iosfix)){let s=document.body.scrollTop;document.body.style.top="".concat(s*-1,"px"),M(document.body,E.iosfix),go(),ho()}},"iOSfix"),ho=d(()=>{!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)&&q().scrollHeight>window.innerHeight-44&&(H().style.paddingBottom="".concat(44,"px"))},"addBottomPaddingForTallPopups"),go=d(()=>{let i=H(),s;i.ontouchstart=l=>{s=mo(l)},i.ontouchmove=l=>{s&&(l.preventDefault(),l.stopPropagation())}},"lockBodyScroll"),mo=d(i=>{let s=i.target,l=H();return wo(i)||vo(i)?!1:s===l||!vn(l)&&s.tagName!=="INPUT"&&s.tagName!=="TEXTAREA"&&!(vn(ne())&&ne().contains(s))},"shouldPreventTouchMove"),wo=d(i=>i.touches&&i.touches.length&&i.touches[0].touchType==="stylus","isStylys"),vo=d(i=>i.touches&&i.touches.length>1,"isZoom"),yo=d(()=>{if(Oe(document.body,E.iosfix)){let i=parseInt(document.body.style.top,10);le(document.body,E.iosfix),document.body.style.top="",document.body.scrollTop=i*-1}},"undoIOSfix"),bo=d(()=>{h(document.body.children).forEach(s=>{s===H()||s.contains(H())||(s.hasAttribute("aria-hidden")&&s.setAttribute("data-previous-aria-hidden",s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))})},"setAriaHidden"),Nn=d(()=>{h(document.body.children).forEach(s=>{s.hasAttribute("data-previous-aria-hidden")?(s.setAttribute("aria-hidden",s.getAttribute("data-previous-aria-hidden")),s.removeAttribute("data-previous-aria-hidden")):s.removeAttribute("aria-hidden")})},"unsetAriaHidden");var Be={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function wt(i,s,l,f){Ie()?zn(i,f):(Xs(l).then(()=>zn(i,f)),P.keydownTarget.removeEventListener("keydown",P.keydownHandler,{capture:P.keydownListenerCapture}),P.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(s.setAttribute("style","display:none !important"),s.removeAttribute("class"),s.innerHTML=""):s.remove(),ct()&&(po(),yo(),Nn()),Un()}v(wt,"removePopupAndResetState"),d(wt,"removePopupAndResetState");function Un(){le([document.documentElement,document.body],[E.shown,E["height-auto"],E["no-backdrop"],E["toast-shown"]])}v(Un,"removeBodyClasses"),d(Un,"removeBodyClasses");function He(i){i=Eo(i);let s=Be.swalPromiseResolve.get(this),l=_o(this);this.isAwaitingPromise()?i.isDismissed||(Vn(this),s(i)):l&&s(i)}v(He,"close"),d(He,"close");function $n(){return!!I.awaitingPromise.get(this)}v($n,"isAwaitingPromise"),d($n,"isAwaitingPromise");let _o=d(i=>{let s=q();if(!s)return!1;let l=I.innerParams.get(i);if(!l||Oe(s,l.hideClass.popup))return!1;le(s,l.showClass.popup),M(s,l.hideClass.popup);let f=H();return le(f,l.showClass.backdrop),M(f,l.hideClass.backdrop),ko(i,s,l),!0},"triggerClosePopup");function jn(i){let s=Be.swalPromiseReject.get(this);Vn(this),s&&s(i)}v(jn,"rejectPromise"),d(jn,"rejectPromise");let Vn=d(i=>{i.isAwaitingPromise()&&(I.awaitingPromise.delete(i),I.innerParams.get(i)||i._destroy())},"handleAwaitingPromise"),Eo=d(i=>typeof i=="undefined"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},i),"prepareResolveValue"),ko=d((i,s,l)=>{let f=H(),S=Re&&yn(s);typeof l.willClose=="function"&&l.willClose(s),S?So(i,s,f,l.returnFocus,l.didClose):wt(i,f,l.returnFocus,l.didClose)},"handlePopupAnimation"),So=d((i,s,l,f,S)=>{P.swalCloseEventFinishedCallback=wt.bind(null,i,l,f,S),s.addEventListener(Re,function(F){F.target===s&&(P.swalCloseEventFinishedCallback(),delete P.swalCloseEventFinishedCallback)})},"animatePopup"),zn=d((i,s)=>{setTimeout(()=>{typeof s=="function"&&s.bind(i.params)(),i._destroy()})},"triggerDidCloseAndDispose");function vt(i,s,l){let f=I.domCache.get(i);s.forEach(S=>{f[S].disabled=l})}v(vt,"setButtonsDisabled"),d(vt,"setButtonsDisabled");function yt(i,s){if(!i)return!1;if(i.type==="radio"){let f=i.parentNode.parentNode.querySelectorAll("input");for(let S=0;S<f.length;S++)f[S].disabled=s}else i.disabled=s}v(yt,"setInputDisabled"),d(yt,"setInputDisabled");function Qn(){vt(this,["confirmButton","denyButton","cancelButton"],!1)}v(Qn,"enableButtons"),d(Qn,"enableButtons");function Gn(){vt(this,["confirmButton","denyButton","cancelButton"],!0)}v(Gn,"disableButtons"),d(Gn,"disableButtons");function Xn(){return yt(this.getInput(),!1)}v(Xn,"enableInput"),d(Xn,"enableInput");function Wn(){return yt(this.getInput(),!0)}v(Wn,"disableInput"),d(Wn,"disableInput");function Kn(i){let s=I.domCache.get(this),l=I.innerParams.get(this);j(s.validationMessage,i),s.validationMessage.className=E["validation-message"],l.customClass&&l.customClass.validationMessage&&M(s.validationMessage,l.customClass.validationMessage),$(s.validationMessage);let f=this.getInput();f&&(f.setAttribute("aria-invalid",!0),f.setAttribute("aria-describedby",E["validation-message"]),gn(f),M(f,E.inputerror))}v(Kn,"showValidationMessage"),d(Kn,"showValidationMessage");function Yn(){let i=I.domCache.get(this);i.validationMessage&&V(i.validationMessage);let s=this.getInput();s&&(s.removeAttribute("aria-invalid"),s.removeAttribute("aria-describedby"),le(s,E.inputerror))}v(Yn,"resetValidationMessage$1"),d(Yn,"resetValidationMessage$1");function Jn(){return I.domCache.get(this).progressSteps}v(Jn,"getProgressSteps$1"),d(Jn,"getProgressSteps$1");class bt{constructor(s,l){this.callback=s,this.remaining=l,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(s){let l=this.running;return l&&this.stop(),this.remaining+=s,l&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}v(bt,"Timer"),d(bt,"Timer");var Zn={email:(i,s)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(i)?Promise.resolve():Promise.resolve(s||"Invalid email address"),url:(i,s)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(i)?Promise.resolve():Promise.resolve(s||"Invalid URL")};function ei(i){i.inputValidator||Object.keys(Zn).forEach(s=>{i.input===s&&(i.inputValidator=Zn[s])})}v(ei,"setDefaultInputValidators"),d(ei,"setDefaultInputValidators");function ti(i){(!i.target||typeof i.target=="string"&&!document.querySelector(i.target)||typeof i.target!="string"&&!i.target.appendChild)&&(g('Target parameter is not valid, defaulting to "body"'),i.target="body")}v(ti,"validateCustomTargetElement"),d(ti,"validateCustomTargetElement");function ni(i){ei(i),i.showLoaderOnConfirm&&!i.preConfirm&&g(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),ti(i),typeof i.title=="string"&&(i.title=i.title.split(`
`).join("<br />")),ws(i)}v(ni,"setParameters"),d(ni,"setParameters");let ii=["swal-title","swal-html","swal-footer"],Co=d(i=>{let s=typeof i.template=="string"?document.querySelector(i.template):i.template;if(!s)return{};let l=s.content;return Ao(l),Object.assign(xo(l),Fo(l),To(l),Do(l),Po(l),Lo(l,ii))},"getTemplateParams"),xo=d(i=>{let s={};return h(i.querySelectorAll("swal-param")).forEach(l=>{ve(l,["name","value"]);let f=l.getAttribute("name"),S=l.getAttribute("value");typeof xe[f]=="boolean"&&S==="false"&&(S=!1),typeof xe[f]=="object"&&(S=JSON.parse(S)),s[f]=S}),s},"getSwalParams"),Fo=d(i=>{let s={};return h(i.querySelectorAll("swal-button")).forEach(l=>{ve(l,["type","color","aria-label"]);let f=l.getAttribute("type");s["".concat(f,"ButtonText")]=l.innerHTML,s["show".concat(p(f),"Button")]=!0,l.hasAttribute("color")&&(s["".concat(f,"ButtonColor")]=l.getAttribute("color")),l.hasAttribute("aria-label")&&(s["".concat(f,"ButtonAriaLabel")]=l.getAttribute("aria-label"))}),s},"getSwalButtons"),To=d(i=>{let s={},l=i.querySelector("swal-image");return l&&(ve(l,["src","width","height","alt"]),l.hasAttribute("src")&&(s.imageUrl=l.getAttribute("src")),l.hasAttribute("width")&&(s.imageWidth=l.getAttribute("width")),l.hasAttribute("height")&&(s.imageHeight=l.getAttribute("height")),l.hasAttribute("alt")&&(s.imageAlt=l.getAttribute("alt"))),s},"getSwalImage"),Do=d(i=>{let s={},l=i.querySelector("swal-icon");return l&&(ve(l,["type","color"]),l.hasAttribute("type")&&(s.icon=l.getAttribute("type")),l.hasAttribute("color")&&(s.iconColor=l.getAttribute("color")),s.iconHtml=l.innerHTML),s},"getSwalIcon"),Po=d(i=>{let s={},l=i.querySelector("swal-input");l&&(ve(l,["type","label","placeholder","value"]),s.input=l.getAttribute("type")||"text",l.hasAttribute("label")&&(s.inputLabel=l.getAttribute("label")),l.hasAttribute("placeholder")&&(s.inputPlaceholder=l.getAttribute("placeholder")),l.hasAttribute("value")&&(s.inputValue=l.getAttribute("value")));let f=i.querySelectorAll("swal-input-option");return f.length&&(s.inputOptions={},h(f).forEach(S=>{ve(S,["value"]);let F=S.getAttribute("value"),U=S.innerHTML;s.inputOptions[F]=U})),s},"getSwalInput"),Lo=d((i,s)=>{let l={};for(let f in s){let S=s[f],F=i.querySelector(S);F&&(ve(F,[]),l[S.replace(/^swal-/,"")]=F.innerHTML.trim())}return l},"getSwalStringParams"),Ao=d(i=>{let s=ii.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);h(i.children).forEach(l=>{let f=l.tagName.toLowerCase();s.indexOf(f)===-1&&g("Unrecognized element <".concat(f,">"))})},"showWarningsForElements"),ve=d((i,s)=>{h(i.attributes).forEach(l=>{s.indexOf(l.name)===-1&&g(['Unrecognized attribute "'.concat(l.name,'" on <').concat(i.tagName.toLowerCase(),">."),"".concat(s.length?"Allowed attributes are: ".concat(s.join(", ")):"To set the value, use HTML within the element.")])})},"showWarningsForAttributes"),si=10,Io=d(i=>{let s=H(),l=q();typeof i.willOpen=="function"&&i.willOpen(l);let S=window.getComputedStyle(document.body).overflowY;Ro(s,l,i),setTimeout(()=>{Oo(s,l)},si),ct()&&(Mo(s,i.scrollbarPadding,S),bo()),!Ie()&&!P.previousActiveElement&&(P.previousActiveElement=document.activeElement),typeof i.didOpen=="function"&&setTimeout(()=>i.didOpen(l)),le(s,E["no-transition"])},"openPopup"),oi=d(i=>{let s=q();if(i.target!==s)return;let l=H();s.removeEventListener(Re,oi),l.style.overflowY="auto"},"swalOpenAnimationFinished"),Oo=d((i,s)=>{Re&&yn(s)?(i.style.overflowY="hidden",s.addEventListener(Re,oi)):i.style.overflowY="auto"},"setScrollingVisibility"),Mo=d((i,s,l)=>{fo(),s&&l!=="hidden"&&uo(),setTimeout(()=>{i.scrollTop=0})},"fixScrollContainer"),Ro=d((i,s,l)=>{M(i,l.showClass.backdrop),s.style.setProperty("opacity","0","important"),$(s,"grid"),setTimeout(()=>{M(s,l.showClass.popup),s.style.removeProperty("opacity")},si),M([document.documentElement,document.body],E.shown),l.heightAuto&&l.backdrop&&!l.toast&&M([document.documentElement,document.body],E["height-auto"])},"addClasses$1"),qo=d((i,s)=>{s.input==="select"||s.input==="radio"?$o(i,s):["text","email","number","tel","textarea"].includes(s.input)&&(m(s.inputValue)||k(s.inputValue))&&(Ce(ie()),jo(i,s))},"handleInputOptionsAndValue"),Bo=d((i,s)=>{let l=i.getInput();if(!l)return null;switch(s.input){case"checkbox":return Ho(l);case"radio":return No(l);case"file":return Uo(l);default:return s.inputAutoTrim?l.value.trim():l.value}},"getInputValue"),Ho=d(i=>i.checked?1:0,"getCheckboxValue"),No=d(i=>i.checked?i.value:null,"getRadioValue"),Uo=d(i=>i.files.length?i.getAttribute("multiple")!==null?i.files:i.files[0]:null,"getFileValue"),$o=d((i,s)=>{let l=q(),f=d(S=>Vo[s.input](l,_t(S),s),"processInputOptions");m(s.inputOptions)||k(s.inputOptions)?(Ce(ie()),b(s.inputOptions).then(S=>{i.hideLoading(),f(S)})):typeof s.inputOptions=="object"?f(s.inputOptions):y("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof s.inputOptions))},"handleInputOptions"),jo=d((i,s)=>{let l=i.getInput();V(l),b(s.inputValue).then(f=>{l.value=s.input==="number"?parseFloat(f)||0:"".concat(f),$(l),l.focus(),i.hideLoading()}).catch(f=>{y("Error in inputValue promise: ".concat(f)),l.value="",$(l),l.focus(),i.hideLoading()})},"handleInputValue"),Vo={select:(i,s,l)=>{let f=ce(i,E.select),S=d((F,U,J)=>{let Q=document.createElement("option");Q.value=J,j(Q,U),Q.selected=ri(J,l.inputValue),F.appendChild(Q)},"renderOption");s.forEach(F=>{let U=F[0],J=F[1];if(Array.isArray(J)){let Q=document.createElement("optgroup");Q.label=U,Q.disabled=!1,f.appendChild(Q),J.forEach(Fe=>S(Q,Fe[1],Fe[0]))}else S(f,J,U)}),f.focus()},radio:(i,s,l)=>{let f=ce(i,E.radio);s.forEach(F=>{let U=F[0],J=F[1],Q=document.createElement("input"),Fe=document.createElement("label");Q.type="radio",Q.name=E.radio,Q.value=U,ri(U,l.inputValue)&&(Q.checked=!0);let Ft=document.createElement("span");j(Ft,J),Ft.className=E.label,Fe.appendChild(Q),Fe.appendChild(Ft),f.appendChild(Fe)});let S=f.querySelectorAll("input");S.length&&S[0].focus()}},_t=d(i=>{let s=[];return typeof Map!="undefined"&&i instanceof Map?i.forEach((l,f)=>{let S=l;typeof S=="object"&&(S=_t(S)),s.push([f,S])}):Object.keys(i).forEach(l=>{let f=i[l];typeof f=="object"&&(f=_t(f)),s.push([l,f])}),s},"formatInputOptions"),ri=d((i,s)=>s&&s.toString()===i.toString(),"isSelected"),zo=d(i=>{let s=I.innerParams.get(i);i.disableButtons(),s.input?ai(i,"confirm"):kt(i,!0)},"handleConfirmButtonClick"),Qo=d(i=>{let s=I.innerParams.get(i);i.disableButtons(),s.returnInputValueOnDeny?ai(i,"deny"):Et(i,!1)},"handleDenyButtonClick"),Go=d((i,s)=>{i.disableButtons(),s(n.cancel)},"handleCancelButtonClick"),ai=d((i,s)=>{let l=I.innerParams.get(i),f=Bo(i,l);l.inputValidator?Xo(i,f,s):i.getInput().checkValidity()?s==="deny"?Et(i,f):kt(i,f):(i.enableButtons(),i.showValidationMessage(l.validationMessage))},"handleConfirmOrDenyWithInput"),Xo=d((i,s,l)=>{let f=I.innerParams.get(i);i.disableInput(),Promise.resolve().then(()=>b(f.inputValidator(s,f.validationMessage))).then(F=>{i.enableButtons(),i.enableInput(),F?i.showValidationMessage(F):l==="deny"?Et(i,s):kt(i,s)})},"handleInputValidator"),Et=d((i,s)=>{let l=I.innerParams.get(i||void 0);l.showLoaderOnDeny&&Ce(fe()),l.preDeny?(I.awaitingPromise.set(i||void 0,!0),Promise.resolve().then(()=>b(l.preDeny(s,l.validationMessage))).then(S=>{S===!1?i.hideLoading():i.closePopup({isDenied:!0,value:typeof S=="undefined"?s:S})}).catch(S=>ci(i||void 0,S))):i.closePopup({isDenied:!0,value:s})},"deny"),li=d((i,s)=>{i.closePopup({isConfirmed:!0,value:s})},"succeedWith"),ci=d((i,s)=>{i.rejectPromise(s)},"rejectWith"),kt=d((i,s)=>{let l=I.innerParams.get(i||void 0);l.showLoaderOnConfirm&&Ce(),l.preConfirm?(i.resetValidationMessage(),I.awaitingPromise.set(i||void 0,!0),Promise.resolve().then(()=>b(l.preConfirm(s,l.validationMessage))).then(S=>{Z(ze())||S===!1?i.hideLoading():li(i,typeof S=="undefined"?s:S)}).catch(S=>ci(i||void 0,S))):li(i,s)},"confirm"),Wo=d((i,s,l,f)=>{s.keydownTarget&&s.keydownHandlerAdded&&(s.keydownTarget.removeEventListener("keydown",s.keydownHandler,{capture:s.keydownListenerCapture}),s.keydownHandlerAdded=!1),l.toast||(s.keydownHandler=S=>Yo(i,S,f),s.keydownTarget=l.keydownListenerCapture?window:q(),s.keydownListenerCapture=l.keydownListenerCapture,s.keydownTarget.addEventListener("keydown",s.keydownHandler,{capture:s.keydownListenerCapture}),s.keydownHandlerAdded=!0)},"addKeydownHandler"),St=d((i,s,l)=>{let f=lt();if(f.length)return s=s+l,s===f.length?s=0:s===-1&&(s=f.length-1),f[s].focus();q().focus()},"setFocus"),ui=["ArrowRight","ArrowDown"],Ko=["ArrowLeft","ArrowUp"],Yo=d((i,s,l)=>{let f=I.innerParams.get(i);!f||(f.stopKeydownPropagation&&s.stopPropagation(),s.key==="Enter"?Jo(i,s,f):s.key==="Tab"?Zo(s,f):[...ui,...Ko].includes(s.key)?er(s.key):s.key==="Escape"&&tr(s,f,l))},"keydownHandler"),Jo=d((i,s,l)=>{if(!s.isComposing&&s.target&&i.getInput()&&s.target.outerHTML===i.getInput().outerHTML){if(["textarea","file"].includes(l.input))return;Ln(),s.preventDefault()}},"handleEnter"),Zo=d((i,s)=>{let l=i.target,f=lt(),S=-1;for(let F=0;F<f.length;F++)if(l===f[F]){S=F;break}i.shiftKey?St(s,S,-1):St(s,S,1),i.stopPropagation(),i.preventDefault()},"handleTab"),er=d(i=>{let s=ie(),l=fe(),f=me();if(![s,l,f].includes(document.activeElement))return;let S=ui.includes(i)?"nextElementSibling":"previousElementSibling",F=document.activeElement[S];F&&F.focus()},"handleArrows"),tr=d((i,s,l)=>{c(s.allowEscapeKey)&&(i.preventDefault(),l(n.esc))},"handleEsc"),nr=d((i,s,l)=>{I.innerParams.get(i).toast?ir(i,s,l):(sr(s),or(s),rr(i,s,l))},"handlePopupClick"),ir=d((i,s,l)=>{s.popup.onclick=()=>{let f=I.innerParams.get(i);f.showConfirmButton||f.showDenyButton||f.showCancelButton||f.showCloseButton||f.timer||f.input||l(n.close)}},"handleToastClick"),Ke=!1,sr=d(i=>{i.popup.onmousedown=()=>{i.container.onmouseup=function(s){i.container.onmouseup=void 0,s.target===i.container&&(Ke=!0)}}},"handleModalMousedown"),or=d(i=>{i.container.onmousedown=()=>{i.popup.onmouseup=function(s){i.popup.onmouseup=void 0,(s.target===i.popup||i.popup.contains(s.target))&&(Ke=!0)}}},"handleContainerMousedown"),rr=d((i,s,l)=>{s.container.onclick=f=>{let S=I.innerParams.get(i);if(Ke){Ke=!1;return}f.target===s.container&&c(S.allowOutsideClick)&&l(n.backdrop)}},"handleModalClick");function di(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ao(Object.assign({},s,i)),P.currentInstance&&(P.currentInstance._destroy(),ct()&&Nn()),P.currentInstance=this;let l=ar(i,s);ni(l),Object.freeze(l),P.timeout&&(P.timeout.stop(),delete P.timeout),clearTimeout(P.restoreFocusTimeout);let f=cr(this);return Pn(this,l),I.innerParams.set(this,l),lr(this,f,l)}v(di,"_main"),d(di,"_main");let ar=d((i,s)=>{let l=Co(i),f=Object.assign({},xe,s,l,i);return f.showClass=Object.assign({},xe.showClass,f.showClass),f.hideClass=Object.assign({},xe.hideClass,f.hideClass),f},"prepareParams"),lr=d((i,s,l)=>new Promise((f,S)=>{let F=d(U=>{i.closePopup({isDismissed:!0,dismiss:U})},"dismissWith");Be.swalPromiseResolve.set(i,f),Be.swalPromiseReject.set(i,S),s.confirmButton.onclick=()=>zo(i),s.denyButton.onclick=()=>Qo(i),s.cancelButton.onclick=()=>Go(i,F),s.closeButton.onclick=()=>F(n.close),nr(i,s,F),Wo(i,P,l,F),qo(i,l),Io(l),ur(P,l,F),dr(s,l),setTimeout(()=>{s.container.scrollTop=0})}),"swalPromise"),cr=d(i=>{let s={popup:q(),container:H(),actions:Qe(),confirmButton:ie(),denyButton:fe(),cancelButton:me(),loader:ke(),closeButton:at(),validationMessage:ze(),progressSteps:fn()};return I.domCache.set(i,s),s},"populateDomCache"),ur=d((i,s,l)=>{let f=Ge();V(f),s.timer&&(i.timeout=new bt(()=>{l("timer"),delete i.timeout},s.timer),s.timerProgressBar&&($(f),setTimeout(()=>{i.timeout&&i.timeout.running&&dt(s.timer)})))},"setupTimer"),dr=d((i,s)=>{if(!s.toast){if(!c(s.allowEnterKey))return fr();pr(i,s)||St(s,-1,1)}},"initFocus"),pr=d((i,s)=>s.focusDeny&&Z(i.denyButton)?(i.denyButton.focus(),!0):s.focusCancel&&Z(i.cancelButton)?(i.cancelButton.focus(),!0):s.focusConfirm&&Z(i.confirmButton)?(i.confirmButton.focus(),!0):!1,"focusButton"),fr=d(()=>{document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()},"blurActiveElement");function pi(i){let s=q(),l=I.innerParams.get(this);if(!s||Oe(s,l.hideClass.popup))return g("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");let f={};Object.keys(i).forEach(F=>{ye.isUpdatableParameter(F)?f[F]=i[F]:g('Invalid parameter to update: "'.concat(F,`". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js

If you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md`))});let S=Object.assign({},l,f);Pn(this,S),I.innerParams.set(this,S),Object.defineProperties(this,{params:{value:Object.assign({},this.params,i),writable:!1,enumerable:!0}})}v(pi,"update"),d(pi,"update");function fi(){let i=I.domCache.get(this),s=I.innerParams.get(this);if(!s){hi(this);return}i.popup&&P.swalCloseEventFinishedCallback&&(P.swalCloseEventFinishedCallback(),delete P.swalCloseEventFinishedCallback),P.deferDisposalTimer&&(clearTimeout(P.deferDisposalTimer),delete P.deferDisposalTimer),typeof s.didDestroy=="function"&&s.didDestroy(),hr(this)}v(fi,"_destroy"),d(fi,"_destroy");let hr=d(i=>{hi(i),delete i.params,delete P.keydownHandler,delete P.keydownTarget,delete P.currentInstance},"disposeSwal"),hi=d(i=>{i.isAwaitingPromise()?(Ct(I,i),I.awaitingPromise.set(i,!0)):(Ct(Be,i),Ct(I,i))},"disposeWeakMaps"),Ct=d((i,s)=>{for(let l in i)i[l].delete(s)},"unsetWeakMaps");var gi=Object.freeze({hideLoading:mt,disableLoading:mt,getInput:Hn,close:He,isAwaitingPromise:$n,rejectPromise:jn,closePopup:He,closeModal:He,closeToast:He,enableButtons:Qn,disableButtons:Gn,enableInput:Xn,disableInput:Wn,showValidationMessage:Kn,resetValidationMessage:Yn,getProgressSteps:Jn,_main:di,update:pi,_destroy:fi});let xt;class he{constructor(){if(typeof window=="undefined")return;xt=this;for(var s=arguments.length,l=new Array(s),f=0;f<s;f++)l[f]=arguments[f];let S=Object.freeze(this.constructor.argsToParams(l));Object.defineProperties(this,{params:{value:S,writable:!1,enumerable:!0,configurable:!0}});let F=this._main(this.params);I.promise.set(this,F)}then(s){return I.promise.get(this).then(s)}finally(s){return I.promise.get(this).finally(s)}}v(he,"SweetAlert"),d(he,"SweetAlert"),Object.assign(he.prototype,gi),Object.assign(he,lo),Object.keys(gi).forEach(i=>{he[i]=function(){if(xt)return xt[i](...arguments)}}),he.DismissReason=n,he.version="11.1.10";let ye=he;return ye.default=ye,ye}),typeof e!="undefined"&&e.Sweetalert2&&(e.swal=e.sweetAlert=e.Swal=e.SweetAlert=e.Sweetalert2),typeof document!="undefined"&&function(n,r){var u=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(u),u.styleSheet)u.styleSheet.disabled||(u.styleSheet.cssText=r);else try{u.innerHTML=r}catch(p){u.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')}}),It=v(class{constructor(e){return this.$request=e,this}run(){return oe(this,null,function*(){return yield fetch(this.getRequest())})}getRequest(){return this.$request}},"FetchAPI");d(It,"FetchAPI");var Xt=v(class{constructor(e){this.list=e}getList(){return this.list}},"CommandRegistrar");d(Xt,"CommandRegistrar");var D={play:'<svg class="icon tonics-play-outline"><use xlink:href="#tonics-play-outline"></use></svg>',playlist:'<svg class="icon tonics-music-playlist"><use xlink:href="#tonics-music-playlist"></use></svg>',plus:'<svg class="icon tonics-add-new"><use xlink:href="#tonics-add-new"></use></svg>',archive:'<svg class="icon tonics-archive"><use xlink:href="#tonics-archive"></use></svg>',note:'<svg class="icon tonics-note"><use xlink:href="#tonics-note"></use></svg>',notes:'<svg class="icon tonics-multiple-notes"><use xlink:href="#tonics-multiple-notes"></use></svg>',category:'<svg class="icon tonics-categories"><use xlink:href="#tonics-categories"></use></svg>',cog:'<svg class="icon tonics-cog"> <use xlink:href="#tonics-cog"></use></svg>',dashboard:'<svg class="icon tonics-dashboard"> <use xlink:href="#tonics-dashboard"></use></svg>',menu:'<svg class="icon tonics-menu"> <use xlink:href="#tonics-menu"></use></svg>',"trash-can":'<svg class="icon tonics-trash-can"> <use xlink:href="#tonics-trash-can"></use></svg>',cart:'<svg class="icon tonics-cart"> <use xlink:href="#tonics-cart"></use></svg>',widget:'<svg class="icon tonics-widgets"> <use xlink:href="#tonics-widgets"></use></svg>',tools:'<svg class="icon tonics-tools"> <use xlink:href="#tonics-tools"></use></svg>',"toggle-left":'<svg class="icon tonics-toggle-left"> <use xlink:href="#tonics-toggle-left"></use></svg>',"toggle-right":'<svg class="icon tonics-toggle-right"> <use xlink:href="#tonics-toggle-right"></use></svg>',"arrow-down":'<svg class="icon tonics-arrow-down"> <use xlink:href="#tonics-arrow-down"></use></svg>',"arrow-up":'<svg class="icon tonics-arrow-up"> <use xlink:href="#tonics-arrow-up"></use></svg>',"arrow-right":'<svg class="icon tonics-chevron-with-circle-right"> <use xlink:href="#tonics-chevron-with-circle-right"></use></svg>',"arrow-left":'<svg class="icon tonics-chevron-with-circle-left"> <use xlink:href="#tonics-chevron-with-circle-left"></use></svg>',"sign-out":'<svg class="icon tonics-sign-out"> <use xlink:href="#tonics-dashboard"></use></svg>',"user-solid-circle":'<svg class="icon tonics-user-solid-circle"> <use xlink:href="#tonics-user-solid-circle"></use></svg>',users:'<svg class="icon tonics-users"> <use xlink:href="#tonics-users"></use></svg>',"profile-settings":'<svg class="icon tonics-profile-settings"><use xlink:href="#tonics-profile-settings"></use></svg>',"more-horizontal":'<svg class="icon tonics-more-horizontal"><use xlink:href="#tonics-more-horizontal"></use></svg>',"more-vertical":'<svg class="icon tonics-more-vertical"><use xlink:href="#tonics-more-vertical"></use></svg>',heart:'<svg class="icon tonics-heart"> <use xlink:href="#tonics-heart"></use></svg>',"dots-two-vertical":'<svg class="icon tonics-dots-two-vertical"><use xlink:href="#tonics-dots-two-vertical"></use></svg>',"dots-two-horizontal":'<svg class="icon tonics-dots-two-horizontal"><use xlink:href="#tonics-dots-two-horizontal"></use></svg>',"heart-fill":'<svg class="icon tonics-heart-fill"> <use xlink:href="#tonics-heart-fill"></use></svg>',pending:'<svg class="icon tonics-pending"><use xlink:href="#tonics-pending"></use></svg>',remove:'<svg class="icon tonics-remove"> <use xlink:href="#tonics-remove"></use></svg>',"shopping-cart":'<svg class="icon tonics-shopping-cart"> <use xlink:href="#tonics-shopping-cart"></use></svg>',dollar:'<svg class="icon tonics-dollar"> <use xlink:href="#tonics-dollar"></use></svg>',"align-left":'<svg class="icon tonics-align_left"> <use xlink:href="#tonics-align_left"></use></svg>',"align-right":'<svg class="icon tonics-align_right"> <use xlink:href="#tonics-align_right"></use></svg>',"align-column":'<svg class="icon tonics-align-column"> <use xlink:href="#tonics-align-column"></use></svg>',"align-row":'<svg class="icon tonics-align-row"> <use xlink:href="#tonics-align-row"></use></svg>',MEDIA:{shuffle:'<svg class="icon tonics-shuffle"> <use xlink:href="#tonics-shuffle"></use></svg>',refresh:'<svg class="icon tonics-refresh"> <use xlink:href="#tonics-refresh"></use></svg>',"step-forward":'<svg class="icon tonics-step-forward"> <use xlink:href="#tonics-step-forward"></use></svg>',"step-backward":'<svg class="icon tonics-step-backward"> <use xlink:href="#tonics-step-backward"></use></svg>',"pause-outline":'<svg class="icon tonics-pause-outline"> <use xlink:href="#tonics-pause-outline"></use></svg>',"play-outline":'<svg class="icon tonics-play-outline"> <use xlink:href="#tonics-play-outline"></use></svg>'},SOCIAL:{mail:'<svg class="icon tonics-mail"> <use xlink:href="#tonics-mail"></use></svg>',"google-plus":'<svg class="icon tonics-google-plus"> <use xlink:href="#tonics-google-plus"></use></svg>',hangouts:'<svg class="icon tonics-hangouts"> <use xlink:href="#tonics-hangouts"></use></svg>',facebook:'<svg class="icon tonics-facebook"> <use xlink:href="#tonics-facebook"></use></svg>',instagram:'<svg class="icon tonics-instagram"> <use xlink:href="#tonics-instagram"></use></svg>',whatsapp:'<svg class="icon tonics-whatsapp"> <use xlink:href="#tonics-whatsapp"></use></svg>',telegram:'<svg class="icon tonics-telegram"> <use xlink:href="#tonics-telegram"></use></svg>',renren:'<svg class="icon tonics-renren"> <use xlink:href="#tonics-renren"></use></svg>',rss:'<svg class="icon tonics-rss"> <use xlink:href="#tonics-rss"></use></svg>',twitch:'<svg class="icon tonics-twitch"> <use xlink:href="#tonics-twitch"></use></svg>',vimeo:'<svg class="icon tonics-vimeo"> <use xlink:href="#tonics-vimeo"></use></svg>',flickr:'<svg class="icon tonics-flickr"> <use xlink:href="#tonics-flickr"></use></svg>',dribble:'<svg class="icon tonics-dribble"> <use xlink:href="#tonics-dribble"></use></svg>',behance:'<svg class="icon tonics-behance"> <use xlink:href="#tonics-behance"></use></svg>',deviantart:'<svg class="icon tonics-deviantart"> <use xlink:href="#tonics-deviantart"></use></svg>',"500px":'<svg class="icon tonics-500px"> <use xlink:href="#tonics-500px"></use></svg>',steam:'<svg class="icon tonics-steam"> <use xlink:href="#tonics-steam"></use></svg>',soundcloud:'<svg class="icon tonics-soundcloud"> <use xlink:href="#tonics-soundcloud"></use></svg>',skype:'<svg class="icon tonics-skype"> <use xlink:href="#tonics-skype"></use></svg>',lastfm:'<svg class="icon tonics-lastfm"> <use xlink:href="#tonics-lastfm"></use></svg>',linkedin:'<svg class="icon tonics-linkedin"> <use xlink:href="#tonics-linkedin"></use></svg>',github:'<svg class="icon tonics-github"> <use xlink:href="#tonics-github"></use></svg>',twitter:'<svg class="icon tonics-twitter"> <use xlink:href="#tonics-twitter"></use></svg>',youtube:'<svg class="icon tonics-youtube"> <use xlink:href="#tonics-youtube"></use></svg>',reddit:'<svg class="icon reddit"> <use xlink:href="#tonics-reddit"></use></svg>',delicious:'<svg class="icon tonics-delicious"> <use xlink:href="#tonics-delicious"></use></svg>',stackoverflow:'<svg class="icon tonics-stackoverflow"> <use xlink:href="#tonics-stackoverflow"></use></svg>',pinterest:'<svg class="icon tonics-dashboard"> <use xlink:href="#tonics-pinterest"></use></svg>',xing:'<svg class="icon tonics-dashboard"> <use xlink:href="#tonics-xing"></use></svg>',flattr:'<svg class="icon tonics-flattr"> <use xlink:href="#tonics-flattr"></use></svg>',foursquare:'<svg class="icon tonics-foursquare"> <use xlink:href="#tonics-foursquare"></use></svg>',yelp:'<svg class="icon tonics-yelp"> <use xlink:href="#tonics-yelp"></use></svg>'},FILE:{file:'<svg class="icon tonics-file"> <use xlink:href="#tonics-file"></use></svg>',folder:'<svg class="icon tonics-folder"> <use xlink:href="#tonics-folder"></use></svg>',image:'<svg class="icon tonics-file-image"> <use xlink:href="#tonics-file-image"></use></svg>',"load-more":'<svg class="icon tonics-load-more"> <use xlink:href="#tonics-load-more"></use></svg>',music:'<svg class="icon tonics-music"> <use xlink:href="#tonics-music"></use></svg>',note:'<svg class="icon tonics-note"> <use xlink:href="#tonics-note"></use></svg>',pdf:'<svg class="icon tonics-pdf"> <use xlink:href="#tonics-pdf"></use></svg>',docx:'<svg class="icon tonics-docx"> <use xlink:href="#tonics-docx"></use></svg>',code:'<svg class="icon tonics-code"> <use xlink:href="#tonics-code"></use></svg>',zip:'<svg class="icon tonics-zip"> <use xlink:href="#tonics-zip"></use></svg>',compress:'<svg class="icon tonics-compress"> <use xlink:href="#tonics-compress"></use></svg>',exclamation:'<svg class="icon tonics-exclamation"> <use xlink:href="#tonics-exclamation"></use></svg>'},CONTEXT:{link:'<svg class="icon tonics-download-link"> <use xlink:href="#tonics-download-link"></use></svg>',preview_link:'<svg class="icon tonics-link"> <use xlink:href="#tonics-link"></use></svg>',edit:'<svg class="icon tonics-edit-icon"> <use xlink:href="#tonics-edit-icon"></use></svg>',cut:'<svg class="icon tonics-cut-icon"> <use xlink:href="#tonics-cut"></use></svg>',trash:'<svg class="icon tonics-trash-icon"> <use xlink:href="#tonics-trash-can"></use></svg>',paste:'<svg class="icon tonics-paste-icon"> <use xlink:href="#tonics-paste"></use></svg>',upload:'<svg class="icon tonics-plus-icon"> <use class="svgUse" xlink:href="#tonics-upload-icon"></use></svg>',refresh:'<svg class="icon tonics-refresh"><use class="svgUse" xlink:href="#tonics-refresh"></use></svg>',plus:'<svg class="icon tonics-plus"><use class="svgUse" xlink:href="#tonics-plus2"></use></svg>'}};function C(){return{EDIT_IMAGE_FILE:"EditImageFileEvent",DELETE_FILE:"DeleteFileEvent",RENAME_FILE:"RenameFileEvent",CUT_FILE:"CutFileEvent",PASTE_FILE:"PasteFileEvent",UPLOAD_FILE:"UploadFileEvent",COPY_LINK:"CopyLinkEvent",COPY_PREVIEW_LINK:"CopyPreviewLinkEvent",CREATE_FOLDER:"NewFolderEvent",REFRESH_FOLDER:"RefreshFolderEvent"}}v(C,"MenuActions");d(C,"MenuActions");var W=Cr(xr()),A={HEAD:{PARENT:".tonics-main-header-menu",MENU_SECTION:".menu-section",NAV:"#site-navigation"},FILES:{BREADCRUMB:".breadcrumb",CONTEXT:".context-menu",PROGRESS:{CONTAINER:".upload-progress-container",UPLOAD_FILE_CONTAINER:".upload-files",UPLOAD_STRING:".upload-string",PROGRESS_PERCENTAGE:".upload-percentage",CONTROL:{RESUME_PAUSE:".resume-pause",CANCEL:".cancel"}},FILE_MAIN_CONTENT:".tonics-fm-main-content",FILE_PARENT:".tonics-files-parent",FILE_CONTAINER:".tonics-files-container",SINGLE_FILE:"li.tonics-file"},DRIVE:{TOGGLE:".drive-toggle",DRIVE_NAVIGATION:".tonics-fm-nav-menu",DISK_DRIVE_CONTAINER:".tonics-disk-drive-container",DRIVE_FOLDER:".drive-folder",FILE_DISK_DRIVES:".tonics-disk-drive-container",INDIVIDUAL_DRIVE:".tonics-individual-drive",DRIVE_SELECTED:".tonics-drive-selected"},Button:{FILE_LOAD_MORE:".file-load-more"},SEARCH:".filter-search"},nt=v(class{constructor(e={}){this.$callbacks={},this.http=new XMLHttpRequest,this.headers=e,this.settings()}getCallbacks(){return this.$callbacks}settings(){this.getCallbacks().callbacks={onProgress:null}}checkIfCallbackIsSet(){if(!this.getCallbacks().callbacks)throw new DOMException("No Callbacks exist");return!0}onProgress(e){if(this.checkIfCallbackIsSet())return this.getCallbacks().callbacks.onProgress=e,this}Get(e,t){this.getHttp().open("GET",e,!0),this.setHeaders(),this.getHttp().send();let n=this;this.getHttp().onreadystatechange=function(){try{n.http.readyState===XMLHttpRequest.DONE&&(n.http.status===200?t(null,n.http.response):t(n.http.response))}catch(r){t("Something Went Wrong: "+r.description)}}}Post(e,t,n){this.getHttp().open("POST",e,!0),this.setHeaders(),this.getHttp().send(t);let r=this,u=r.getCallbacks().callbacks.onProgress;u!==null&&typeof u=="function"&&this.getHttp().upload.addEventListener("progress",function(p){u(p)}),this.getHttp().onreadystatechange=function(){try{r.http.onload=function(){n(null,r.http.responseText)}}catch(p){n("Something Went Wrong: "+p.description)}}}Put(e,t,n){this.getHttp().open("PUT",e,!0),this.setHeaders(),this.getHttp().send(t);let r=this,u=r.getCallbacks().callbacks.onProgress;u!==null&&typeof u=="function"&&this.getHttp().upload.addEventListener("progress",function(p){u(p)});try{this.http.onload=function(){r.http.status===200?n(null,r.http.response):n(r.http.response)}}catch(p){n("Something Went Wrong: "+p.description)}}Delete(e,t=null,n){this.http.open("DELETE",e,!0),this.setHeaders(),t?this.http.send(t):this.http.send();let r=this;try{this.http.onload=function(){r.http.status===200?n(null,r.http.response):n(r.http.response)}}catch(u){n("Something Went Wrong: "+u.description)}}getHeaders(){return this.headers}setHeaders(){if(this.getHeaders())for(let e in this.getHeaders())this.getHttp().setRequestHeader(e,this.getHeaders()[e])}getHttp(){return this.http}},"XHRApi");d(nt,"XHRApi");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.XHRApi=(e={})=>new nt(e);function Li(e,t=""){let n="";return e.lastIndexOf("/")!==-1&&(n=e.substring(0,e.lastIndexOf("/"))),e.lastIndexOf("\\")!==-1&&(n=e.substring(0,e.lastIndexOf("\\"))),n||t}v(Li,"getFileDirectory");d(Li,"getFileDirectory");function Wt(e){return e.toLowerCase().replace(/\b(\w)/g,function(t){return t.toLocaleUpperCase()})}v(Wt,"titleCase");d(Wt,"titleCase");function de(e){return new Promise((t,n)=>{navigator.clipboard.writeText(e).then(()=>{t(e)}).catch(r=>{n(r)})})}v(de,"copyToClipBoard");d(de,"copyToClipBoard");function Ai(e,t=!1){let n,r,u=document.createElement("a");return u.style.display="none",u.setAttribute("href",e),e=e.replace(u.protocol,""),e=e.replace(u.hostname,""),e=e.replace(":"+u.port,""),e=e.split("?")[0],e=e.split("#")[0],e=e.substr(1+e.lastIndexOf("/")),n=e,!t&&n.startsWith(".")||n.lastIndexOf(".")===-1?"":(r=n.substr(1+n.lastIndexOf(".")),r)}v(Ai,"getFileExtension");d(Ai,"getFileExtension");function O(e,t,n){return`
<li class="context-menu-item" data-menu-action=${n}>
      ${t}
      <a class="" href="javascript:void(0);">
        ${e}
      </a>
    </li>
`}v(O,"contextMenuListCreator");d(O,"contextMenuListCreator");function Kt(e,t="",n="text"){return W.default.fire({title:e,input:n,inputValue:t,inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Save",backdrop:!0,allowOutsideClick:()=>!W.default.isLoading(),confirmButtonColor:"#0c132c",focusConfirm:!0,background:"#eaeaea",iconColor:"#264762d1"})}v(Kt,"inputToast");d(Kt,"inputToast");function ee(e,t=4e3){return W.default.mixin({toast:!0,position:"bottom-right",showConfirmButton:!1,timer:t,timerProgressBar:!0,background:"#eaeaea",iconColor:"#264762d1",didOpen:r=>{r.addEventListener("mouseenter",W.default.stopTimer),r.addEventListener("mouseleave",W.default.resumeTimer)}}).fire({customClass:{title:"swal2-title-dark"},icon:"success",title:e})}v(ee,"successToast");d(ee,"successToast");function Ii(e,t=4e3){return W.default.mixin({toast:!0,position:"bottom-right",showConfirmButton:!1,timer:t,timerProgressBar:!0,background:"#eaeaea",iconColor:"#264762d1",didOpen:r=>{r.addEventListener("mouseenter",W.default.stopTimer),r.addEventListener("mouseleave",W.default.resumeTimer)}}).fire({customClass:{title:"swal2-title-dark"},icon:"info",title:e})}v(Ii,"infoToast");d(Ii,"infoToast");function K(e,t=5e3){return W.default.mixin({toast:!0,position:"bottom-right",showConfirmButton:!1,timer:t,timerProgressBar:!0,background:"#eaeaea",iconColor:"#941943",didOpen:r=>{r.addEventListener("mouseenter",W.default.stopTimer),r.addEventListener("mouseleave",W.default.resumeTimer)}}).fire({customClass:{title:"swal2-title-red"},icon:"error",title:e})}v(K,"errorToast");d(K,"errorToast");function Yt(e,t="Proceed",n,r=null,u=null){W.default.mixin({toast:!0,position:"bottom-right",timer:5e4,timerProgressBar:!0,showCancelButton:!0,showConfirmButton:!0,confirmButtonText:t,confirmButtonColor:"#0c132c",focusConfirm:!0,background:"#eaeaea",iconColor:"#264762d1",didOpen:h=>{h.addEventListener("mouseenter",W.default.stopTimer),h.addEventListener("mouseleave",W.default.resumeTimer)}}).fire({title:e}).then(h=>{h.isConfirmed?typeof n=="function"&&n():h.isDenied?r&&typeof r=="function"&&r():h.isDismissed&&u&&typeof u=="function"&&u()})}v(Yt,"promptToast");d(Yt,"promptToast");function Te(e){let t=document.querySelector(A.HEAD.MENU_SECTION);e.forEach(function(n,r){let u=t.querySelector(`[data-menu-action="${n}"]`);u&&(u.closest(".menu-item").classList.remove("deactivate-menu-pointer"),u.querySelector(".icon").classList.remove("deactivate-menu"))})}v(Te,"activateMenus");d(Te,"activateMenus");function Ot(e){let t=document.querySelector(A.HEAD.MENU_SECTION);e.forEach(function(n,r){let u=t.querySelector(`[data-menu-action="${n}"]`);u&&(u.closest(".menu-item").classList.add("deactivate-menu-pointer"),u.querySelector(".icon").classList.add("deactivate-menu"))})}v(Ot,"deActivateMenus");d(Ot,"deActivateMenus");function Jt(e,t){return new Promise((n,r)=>{if(document.querySelector(`[data-script_id="${t}"]`))n();else{let p=document.createElement("script");p.dataset.script_id=t,document.body.appendChild(p),p.onload=n,p.onerror=r,p.async=!0,p.src=e}})}v(Jt,"loadScriptDynamically");d(Jt,"loadScriptDynamically");function Mt(e){let t=null;return e.forEach((n,r)=>{var u,p;let h=(u=document.querySelector(`input[name=${n}]`))==null?void 0:u.value;h||(h=(p=document.querySelector(`meta[name=${n}]`))==null?void 0:p.content),!t&&h&&(t=h)}),t}v(Mt,"getCSRFFromInput");d(Mt,"getCSRFFromInput");function Ee(e=!0,t=!1){let n=document.querySelector(A.Button.FILE_LOAD_MORE),r=document.querySelector(".dot-elastic.loading");e?(n==null||n.classList.remove("display-none"),n==null||n.classList.add("display-flex")):(n==null||n.classList.remove("display-flex"),n==null||n.classList.add("display-none")),t?r.classList.remove("display-none"):r.classList.add("display-none")}v(Ee,"fileLoadMoreButton");d(Ee,"fileLoadMoreButton");function Rt(e=!0){let t=document.querySelector(A.FILES.FILE_PARENT),n=document.querySelector(".dot-elastic.loading");e?document.querySelector("[data-list_id]:nth-of-type(1)")||(t==null||t.classList.remove("align-content-fs"),n.classList.remove("display-none")):(t==null||t.classList.add("align-content-fs"),n.classList.add("display-none"))}v(Rt,"filesLoadingAnimation");d(Rt,"filesLoadingAnimation");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.promptToast=(e,t="Proceed",n,r=null,u=null)=>Yt(e,t,n,r,u);window.TonicsScript.successToast=(e,t=4e3)=>ee(e,t);window.TonicsScript.errorToast=(e,t=4e3)=>K(e,t);window.TonicsScript.infoToast=(e,t=4e3)=>Ii(e,t);var T={Rename:{Success:"File Successfully Renamed",Error:"Failed To Rename File"},Folder:{Success:"Folder Successfully Created",Error:"Failed To Create Folder"},Update:{Success:"File Successfully Updated",Error:"Failed To Update File"},Upload:{Success:"File Successfully Uploaded",Error:"Failed To Upload File"},Deleted:{Success:"File(s) Successfully Deleted",Error:"Failed To Delete File(s)"},Refresh:{Success:"Refreshed",Error:"Failed To Refresh Folder"},Move:{Success:"File(s) Successfully Moved",Error:"Failed To Move File(s)"},Link:{Copy:{Preview:{Success:"Preview Link Copied To Clipboard",Error:"Failed To Copy Link To Clipboard"},Download:{Success:"Download Link Copied To Clipboard",Error:"Failed To Copy Link To Clipboard"}}},Context:{Media:{Play:"Play",Pause:"Pause"},Rename:"Rename",Link:{Copy:"Download Link",Preview:"Preview Link"},Edit:{Image:"Edit Image"},Cut:"Cut",Delete:"Delete",Paste:"Paste",Refresh:"Refresh",Upload:"Upload",New_Folder:"New Folder"}},qt=v(class{get audioFile(){return this._audioFile}constructor(e){this._audioFile=e}},"OnAudioFileEvent");d(qt,"OnAudioFileEvent");var Zt=v(class{constructor(){this.$eventHandlers=new Map}attachHandlerToEvent(e,t){var n;return this.getHandlers().has(e)?((n=this.getHandlers().get(e))==null||n.push(t),this):(this.getHandlers().set(e,[t]),this)}getHandlers(){return this.$eventHandlers}detachHandlerFromEvent(e){if(this.getHandlers().has(e))return this.getHandlers().delete(e),this}getEventHandlers(e){var t;return this.getHandlers().has(e)?(t=this.getHandlers().get(e))!=null?t:[]:[]}},"EventQueue");d(Zt,"EventQueue");window.hasOwnProperty("TonicsEvent")||(window.TonicsEvent={});window.TonicsEvent.EventQueue=()=>new Zt;var Oi=v(class{constructor(e){this._shiftClick=new Map,this.fileContainerEvent=e,this.addClickEvent()}get shiftClick(){return this._shiftClick}set shiftClick(e){this._shiftClick=e}addClickEvent(){let e=this,t=document.querySelector(A.FILES.FILE_PARENT);t.hasAttribute("data-event-click")||t.addEventListener("click",n=>{t.setAttribute("data-event-click","true");let r=n.target,u=A.FILES.SINGLE_FILE;if(r.closest(".tonics-file-filename-input"))return!1;if(r.closest(u)){let p=r.closest(u);if(n.ctrlKey)return n.preventDefault(),p.classList.contains("selected-file")?e.getFileContainerEvent().unHighlightFile(p):e.getFileContainerEvent().highlightFile(p),!1;n.shiftKey?(this.getFileContainerEvent().resetPreviousFilesState(),this.setShiftClick(p)):(e.getFileContainerEvent().resetPreviousFilesState(),e.getFileContainerEvent().highlightFile(p),this.resetShiftClick(),this.setShiftClick(p))}else this.resetShiftClick(),e.getFileContainerEvent().resetPreviousFilesState()},!1)}setShiftClick(e){let t=e.dataset.list_id;if(this.shiftClick.get(t)&&this.shiftClick.delete(t),this.shiftClick.set(t,e),this.shiftClick.size>=2){let n=[...this.shiftClick][0][0],r=[...this.shiftClick][this.shiftClick.size-1][0],u=[n,r];u.sort();for(let p=u[0];p<=u[1];p++){let h=document.querySelector(`[data-list_id="${p}"]`);h&&this.getFileContainerEvent().highlightFile(h)}}}resetShiftClick(){this.shiftClick=new Map}getFileContainerEvent(){return this.fileContainerEvent}},"AddClickEventToFileContainer");d(Oi,"AddClickEventToFileContainer");var Mi=v(class{constructor(e){let t=e.getFileContainer();t.hasAttribute("data-event-dblclick")||(t.setAttribute("data-event-dblclick","true"),t.addEventListener("dblclick",n=>{let r=e.getSelectedFile();r.dataset.file_type==="directory"&&(r.querySelector(".svg-per-file-loading").classList.remove("display-none"),e.currentDrive.openFolderHandler(r,e).then(()=>{e.resetPreviousFilesState()}).catch(()=>{r.querySelector(".svg-per-file-loading").classList.add("display-none")})),r.dataset.file_type==="file"&&e.copyPreviewLinkEvent()}))}},"DoubleClickEventToFileContainer");d(Mi,"DoubleClickEventToFileContainer");var Ri=v(class{constructor(e){this.fileContainerEventObject=e,this.addContextMenuClickEvent()}getFileContainerEventObject(){return this.fileContainerEventObject}addContextMenuClickEvent(){let e=document.querySelector(A.FILES.CONTEXT);document.addEventListener("click",t=>{if(t.target.closest(A.FILES.CONTEXT))return!1;e.classList.remove("show")}),e!=null&&e.hasAttribute("data-event-contextmenu")||(e.setAttribute("data-event-contextmenu","true"),e.addEventListener("click",t=>{let n=t.target;if(n.closest(".context-menu-item").hasAttribute("data-menu-action")){let r=n.closest(".context-menu-item").getAttribute("data-menu-action");this.getFileContainerEventObject().menuEventAction(r)}}))}},"ContextMenuProcessor");d(Ri,"ContextMenuProcessor");var it=v(class{extensions(){return[""]}run(e,t,n=null){if(n&&typeof n=="function")return n(D.FILE.exclamation,t,e)}fileContext(e){return`
    ${O(T.Context.Rename,D.CONTEXT.edit,C().RENAME_FILE)}
    ${O(T.Context.Link.Copy,D.CONTEXT.link,C().COPY_LINK)}
    ${O(T.Context.Link.Preview,D.CONTEXT.preview_link,C().COPY_PREVIEW_LINK)}
    ${O(T.Context.Cut,D.CONTEXT.cut,C().CUT_FILE)}
    ${O(T.Context.Delete,D.CONTEXT.trash,C().DELETE_FILE)}`}},"DefaultFilePlacement");d(it,"DefaultFilePlacement");var qi=v(class{fileContext(e){return`
    ${O(T.Context.Refresh,D.CONTEXT.refresh,C().REFRESH_FOLDER)}
    ${O(T.Context.New_Folder,D.CONTEXT.plus,C().CREATE_FOLDER)}
    ${O(T.Context.Upload,D.CONTEXT.upload,C().UPLOAD_FILE)}`}},"BackgroundFilePlacement");d(qi,"BackgroundFilePlacement");var Bi=v(class{constructor(e){let t=e.getContextMenu();e.getFileContainer().addEventListener("contextmenu",r=>{let u=r.target;if(r.preventDefault(),u.closest(A.FILES.SINGLE_FILE)){let p=u.closest(A.FILES.SINGLE_FILE),h=p.dataset.ext,g=!1;on.FileByExtensions.forEach(y=>{y.extensions().includes(h)&&(g=!0,e.highlightFile(p),this.showContextMenu(t,y.fileContext(e),r))}),g||(e.highlightFile(p),this.showContextMenu(t,new it().fileContext(e),r))}else this.showContextMenu(t,new qi().fileContext(e),r)})}showContextMenu(e,t,n){e==null||e.replaceChildren(),e.insertAdjacentHTML("beforeend",t);let r=n.clientX,u=n.clientY;e.classList.remove("show"),e.style.top=`${u}px`,e.style.left=`${r-30}px`,setTimeout(()=>{e.classList.add("show")})}},"ContextHandler");d(Bi,"ContextHandler");var Hi=v(class{constructor(e){this.fileContainerEventObject=e,this.addHeaderMenuClickEvent()}getFileContainerEventObject(){return this.fileContainerEventObject}addHeaderMenuClickEvent(){let e=document.querySelector(".site-navigation-ul");e&&(e!=null&&e.hasAttribute("data-event-menu")||(e.setAttribute("data-event-menu","true"),e.addEventListener("click",t=>{let n=t.target;if(n.closest("button")){let r=n.closest("button");if(r.hasAttribute("data-menu-action")){let u=r.getAttribute("data-menu-action");this.getFileContainerEventObject().menuEventAction(u)}}})))}hideHeaderMenuOnScroll(){let e=document.querySelector(A.HEAD.PARENT),t=e==null?void 0:e.getBoundingClientRect().height,n=20;window.addEventListener("scroll",()=>{n>window.scrollY?e.style.top="0":e.style.top=`-${t}px`,n=window.scrollY})}},"HeaderSectionHandler");d(Hi,"HeaderSectionHandler");var te=v(class{constructor(e){return e?this.query(e):this}query(e){let t=document.querySelector(`${e}`);if(t)return this.setQueryResult(t),this;console.log(`Invalid class or id name - ${e}`)}setQueryResult(e){return this.$queryResult=e,this}getQueryResult(){return this.$queryResult}},"ElementAbstract");d(te,"ElementAbstract");var en=v(class extends te{constructor(e){super(e),this.$dragAndDropDetails={},this.settings()}settings(){this.getDragAndDropElementDetails().callbacks={onDragEnter:null,onDragOver:null,onDragLeave:null,onDragDrop:null}}getDragAndDropElementDetails(){return this.$dragAndDropDetails}checkIfSettingsIsSet(){if(!this.getDragAndDropElementDetails().callbacks)throw new DOMException("No Callbacks exist for the DragAndDropElement");return!0}onDragEnter(e){if(this.checkIfSettingsIsSet())return this.getDragAndDropElementDetails().callbacks.onDragEnter=e,this}onDragOver(e){if(this.checkIfSettingsIsSet())return this.getDragAndDropElementDetails().callbacks.onDragOver=e,this}onDragLeave(e){if(this.checkIfSettingsIsSet())return this.getDragAndDropElementDetails().callbacks.onDragLeave=e,this}onDragDrop(e){if(this.checkIfSettingsIsSet())return this.getDragAndDropElementDetails().callbacks.onDragDrop=e,this}run(){let e=this.getQueryResult(),t=this;e&&(e.addEventListener("dragenter",function(n){t.preventDefaults(n),e.classList.add("highlight");let r=t.getDragAndDropElementDetails().callbacks.onDragEnter;r!==null&&typeof r=="function"&&r(n)}),e.addEventListener("dragover",function(n){t.preventDefaults(n),e.classList.add("highlight");let r=t.getDragAndDropElementDetails().callbacks.onDragOver;r!==null&&typeof r=="function"&&r(n)}),e.addEventListener("dragleave",function(n){t.preventDefaults(n),e.classList.remove("highlight");let r=t.getDragAndDropElementDetails().callbacks.onDragLeave;r!==null&&typeof r=="function"&&r(n)}),e.addEventListener("drop",function(n){t.preventDefaults(n),e.classList.remove("highlight");let r=t.getDragAndDropElementDetails().callbacks.onDragDrop;r!==null&&typeof r=="function"&&r(n)},!1))}preventDefaults(e){e.preventDefault(),e.stopPropagation()}},"DragAndDrop");d(en,"DragAndDrop");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.DragAndDrop=e=>new en(e);var Le=v(class extends te{addNodeElement(e){return this.setQueryResult(e),this}forward(e){let t=this.getQueryResult().nextElementSibling;for(;t;){if(t.matches(e))return this.setQueryResult(t),this;t=t.nextElementSibling}return null}backward(e){let t=this.getQueryResult().previousElementSibling;for(;t;){if(t.matches(e))return this.setQueryResult(t),this;t=t.previousElementSibling}return null}in(){let e=this.getQueryResult().firstElementChild;return e?(this.setQueryResult(e),this):null}out(){let e=this.getQueryResult().parentElement;return e?(this.setQueryResult(e),this):null}queryChildren(e,t=!0){let n=this.getQueryResult().querySelector(e);return n?t?(this.setQueryResult(n),this):n:null}setSVGUseAttribute(e){let t=this.getQueryResult();if(t.tagName=="use")t.removeAttribute("xlink:href"),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e);else throw new DOMException("Not a valid svg use element")}},"Query");d(Le,"Query");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.Query=()=>new Le;var st=v(class{constructor(e,t,n){this._$uploadedFilesObject=new Map,this._maxRequestToSend=4,this._byteToSendPerChunk=.5*1048576,this._isUploadInParallel=!1,this._$fileSequence={},this.fileContainerEvent=e,t!==null&&n!==null&&this.handleFiles(t,n),this.UploadFileEvent=this}get maxRequestToSend(){return this._maxRequestToSend}get $uploadedFilesObject(){return this._$uploadedFilesObject}get $fileSequence(){return this._$fileSequence}set $fileSequence(e){this._$fileSequence=e}get byteToSendPerChunk(){return this._byteToSendPerChunk}set byteToSendPerChunk(e){this._byteToSendPerChunk=e}get isUploadInParallel(){return this._isUploadInParallel}set isUploadInParallel(e){this._isUploadInParallel=e}getFileContainerEvent(){return this.fileContainerEvent}handleFiles(e,t){this.handleUploadedFiles(e,t)}setUploadFileObject(e,t){this.$uploadedFilesObject.set(e,t)}handleFileUpload(){let e=this,t=this.fileContainerEvent,n=document.createElement("input");n.type="file",n.multiple=!0,n.click(),n.onchange=function(r){let u=r.target.files,p=t.getCurrentDirectory();e.handleUploadedFiles(u,p)}}handleUploadedFiles(e,t){let n=this,r,u=n.fileContainerEvent;u.removeContextMenu();for(let p=0,h=e.length;p<h;p++){let g=u.currentDrive.driveSignature+"_"+e[p].name;n.addFileToProgressContainer(e[p],g,null,(y,w,o,a)=>{a=n.UploadFileEvent,u.currentDrive.uploadFile(o,w,a)},(y,w)=>{w=n.UploadFileEvent,u.currentDrive.cancelFileUploadHandler(y,w).then(()=>{ee(`${y.fileObject.name} Upload Terminated`)}).catch(()=>{K("Failed To Cancel Upload")})}),n.isUploadingSequentially()&&n.attachFileToSequence(g)}n.isUploadingSequentially()?n.uploadFileNextSequence(u.currentDrive.driveSignature):n.uploadFiles()}uploadFiles(){this.$uploadedFilesObject.forEach((e,t)=>{e.uploaded||this.fileContainerEvent.currentDrive.uploadFile(e,t,this)})}uploadFileNextSequence(e){let n=this.fileContainerEvent.loadDriveEventClass.driveStorageManager.getDriveStorage(e),r=this.getUploadFileNextSequence(e);if(r&&typeof r=="string"){let u=this.getUploadFileObject(r,n.driveSignature);n.uploadFile(u,r,this)}}getUploadFileObject(e,t){for(let n of this.$uploadedFilesObject.values())if(n.driveSignature===t)return this.$uploadedFilesObject.get(e)}getUploadFileNextSequence(e){let t=this.$fileSequence,n=!1;for(let r in t)if(t.hasOwnProperty(r)){if(r.split("_")[0]!==e)continue;if(t[r].progressing===!1){this.$fileSequence[r]={progressing:!0,sequenceDone:!1},n=r;break}}return n}setSequenceDone(e,t){let n=`${t}_${e}`;this.$fileSequence.hasOwnProperty(n)&&(this.$fileSequence[n]={progressing:!0,sequenceDone:!0})}deleteUploadFileObject(e){this.$uploadedFilesObject.delete(e),delete this.$fileSequence[e]}addFileToProgressContainer(e,t,n=null,r=null,u=null){var p;let h=this,g=this.fileContainerEvent,y=this.byteToSendPerChunk,w=g.currentDrive.driveSignature,o={fileObject:e,driveSignature:w,preFlightData:{filename:e.name,dataToFill:null,chunksToSend:Math.ceil(e.size/y),Byteperchunk:y,Totalblobsize:e.size,maxRequestToSend:g.currentDrive.getMaxRequestToSend(),noOfReceivedResponse:0,throttleSwitch:!1,sentApi:0,nextIndex:0},newFile:!0,uploadTo:g.getCurrentDirectory(),fetched:!1,pause:!1,uploaded:!1},a=(p=document.querySelector(A.FILES.PROGRESS.UPLOAD_FILE_CONTAINER))==null?void 0:p.querySelector(`[data-filename="${t}"]`),c=document.querySelector(A.FILES.PROGRESS.UPLOAD_FILE_CONTAINER);c.classList.remove("display-none"),a||(c.insertAdjacentHTML("beforeend",`
      <div class="inner-file-upload-container" tabindex="0" data-pause="false" data-filename="${t}" data-uploaded="false">

        <div class="info">
         <span class="upload-string">[${g.currentDrive.driveSignature} Drive] -  \u22EF Uploading [</span>
         <span class="upload-progress-name" tabindex="0">${t.split("_")[1]}</span>
         <span class="delimiter">] \xBB </span>
         <span class="upload-percentage">0%</span>
       </div>
      <div class="control">
          <button title="Pause" class="resume-pause background:transparent border:none color:black border-width:default border:black padding:default margin-top:0 cursor:pointer">
            Pause
        </button>
        <button title="Cancel" class="cancel background:transparent border:none color:black border-width:default border:black padding:default margin-top:0 cursor:pointer">
            Cancel
        </button>
        </div>
      </div>`),h.$uploadedFilesObject.set(t,o)),c.hasAttribute("data-event-click")||(c.setAttribute("data-event-click","true"),c.addEventListener("click",m=>{var b;let k=m.target;if(k.closest(A.FILES.PROGRESS.CONTROL.RESUME_PAUSE)){let _=k.closest(A.FILES.PROGRESS.CONTROL.RESUME_PAUSE);k.closest(".inner-file-upload-container").dataset.pause=k.closest(".inner-file-upload-container").dataset.pause==="true"?"false":"true";let x=k.closest(".inner-file-upload-container").dataset.pause,L=k.closest(".inner-file-upload-container").dataset.filename,R=h.getUploadFileObject(L,g.currentDrive.driveSignature);x==="true"&&(_.innerText="Resume",_.title="Resume",R.pause=!0,this.$uploadedFilesObject.set(L,R),typeof n=="function"&&n(m,L,R,h)),x==="false"&&(_.innerText="Pause",_.title="Pause",R.pause=!1,this.$uploadedFilesObject.set(L,R),typeof r=="function"&&!R.uploaded&&!R.pause&&r(m,L,R,h))}if(k.closest(A.FILES.PROGRESS.CONTROL.CANCEL)){let _=k.closest(".inner-file-upload-container"),x=_.dataset.filename,L=h.getUploadFileObject(x,g.currentDrive.driveSignature);x&&L&&typeof u=="function"&&(this.deleteUploadFileObject(x),u(L,g),_.classList.add("file-upload-cancelled"),_.dataset.filename="",(b=_.querySelector(".control"))==null||b.remove())}}))}isUploadingSequentially(){return!this.isUploadInParallel}attachFileToSequence(e){this.$fileSequence.hasOwnProperty(e)||(this.$fileSequence[e]={progressing:!1,sequenceDone:!1})}updateFileProgress(e,t=0,n,r=" \u22EF Uploading"){let p=new Le(A.FILES.PROGRESS.UPLOAD_FILE_CONTAINER).getQueryResult().querySelector(`[data-filename="${e}"]`);p&&(p.querySelector(A.FILES.PROGRESS.UPLOAD_STRING).innerHTML=`[${n} Drive] - ${r} [`,p.querySelector(A.FILES.PROGRESS.PROGRESS_PERCENTAGE).innerHTML=`${t}%`,p.style.background=`linear-gradient(to right, #bab8b8 ${t}%, #ffffff00 0%)`)}setUploadCompleted(e,t){var n,r;let u=this.getUploadFileObject(e,t),p=(n=document.querySelector(A.FILES.PROGRESS.UPLOAD_FILE_CONTAINER))==null?void 0:n.querySelector(`[data-filename="${e}"]`);p&&((r=p.querySelector(".control"))==null||r.remove(),this.updateFileProgress(e,100,t,"\u2713 Completed "),u.uploaded=!0,this.$uploadedFilesObject.set(e,u),p.dataset.uploaded="true",this.$uploadedFilesObject.delete(p.dataset.uploadFilename),ee(T.Upload.Success))}releaseThrottle(e,t){let n=this.getUploadFileObject(e,t);n&&(n.preFlightData.throttleSwitch=!1,this.$uploadedFilesObject.set(e,n),n.preFlightData.sentApi=0,this.$uploadedFilesObject.set(e,n),n.preFlightData.noOfReceivedResponse=0,this.$uploadedFilesObject.set(e,n))}},"UploadFileEvent");d(st,"UploadFileEvent");var Ni=v(class{constructor(e){this._maxRequestToSend=4,this.fileContainerEventObject=e,this.handleDragAndDropFileUploads()}getFileContainerEventObject(){return this.fileContainerEventObject}handleDragAndDropFileUploads(){var e;let t=this,n=t.getFileContainerEventObject().getFileContainer().closest(".tonics-files-parent");if(!n.hasAttribute("data-drag_drop")){n.setAttribute("data-drag_drop","true");let r=new en(A.FILES.FILE_PARENT);(e=r==null?void 0:r.onDragDrop(function(u){var p;let h=(p=u==null?void 0:u.dataTransfer)==null?void 0:p.files,g=t.uploadToDirectory();new st(t.getFileContainerEventObject(),h,g)}))==null||e.run()}}uploadToDirectory(){return this.getFileContainerEventObject().getCurrentDirectory()}get maxRequestToSend(){return this._maxRequestToSend}set maxRequestToSend(e){this._maxRequestToSend=e}},"FileContainerDragAndDropHandler");d(Ni,"FileContainerDragAndDropHandler");var Ui=v(class{constructor(e){let t=e.getDiskDrives();t.hasAttribute("data-event-click")||(t.setAttribute("data-event-click","true"),t.addEventListener("click",n=>{let r=n.target;if(r.closest(A.DRIVE.INDIVIDUAL_DRIVE)){let u=r.closest(A.DRIVE.INDIVIDUAL_DRIVE),p=e.getLoadDriveEventClass();if(p.driveStorageManager.$driveSystem.has(u.dataset.drivename)){let h=p.driveStorageManager.getDriveStorage(u.dataset.drivename);h.coldBootStorageDisk().then(()=>{e.removeAllDriveSelectionMark(),u.querySelector(A.DRIVE.DRIVE_SELECTED).classList.remove("display-none"),e.currentDrive=h}).catch(()=>{K("Failed To Switch Drive, Network Issue?")})}}}))}},"SwitchDriveStorageHandler");d(Ui,"SwitchDriveStorageHandler");var $i=v(class{constructor(e){this.fileContainerEvent=e,this.loadMoreButtonHandle()}getFileContainerEvent(){return this.fileContainerEvent}loadMoreButtonHandle(){let e=document.querySelector(A.Button.FILE_LOAD_MORE);e.hasAttribute("data-event-click")||e.addEventListener("click",t=>{e.setAttribute("data-event-click","true"),Ee(!1,!0);let n=document.querySelector("[data-list_id]:last-of-type");this.getFileContainerEvent().currentDrive.loadMoreFiles(this.getFileContainerEvent()).then(()=>{n.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}).catch(()=>{K("Failed To Load More Files"),Ee()})})}},"LoadMoreFilesHandler");d($i,"LoadMoreFilesHandler");var ji=v(class{constructor(e){this.fileContainerEvent=e,this.handleNavigationByKeyPres()}getFileContainerEvent(){return this.fileContainerEvent}handleNavigationByKeyPres(){document.querySelector(A.FILES.FILE_CONTAINER).addEventListener("keydown",t=>{if(this.getFileContainerEvent().getSelectedFile()){let n=this.getFileContainerEvent().getSelectedFile();switch(t.code){case"ArrowDown":this.navigateDown(n);break;case"ArrowUp":this.navigateUp(n);break;case"ArrowRight":this.navigateRight(n);break;case"ArrowLeft":this.navigateLeft(n);break;case"Enter":this.navigateEnter(n);break}}})}navigateDown(e){let t=this.getNumberOfFilesPerRow(),n=parseInt(e.dataset.list_id)+t;e=this.getFileContainerEvent().getFileByListID(n),e&&(this.getFileContainerEvent().resetPreviousFilesState(),e.scrollIntoView(),this.getFileContainerEvent().highlightFile(e),this.removeHeaderMenuFromViewPort())}navigateUp(e){let t=this.getNumberOfFilesPerRow(),n=parseInt(e.dataset.list_id)-t;e=this.getFileContainerEvent().getFileByListID(n),e&&(this.getFileContainerEvent().resetPreviousFilesState(),e.scrollIntoView(),this.getFileContainerEvent().highlightFile(e),this.removeHeaderMenuFromViewPort())}navigateRight(e){let t=e.nextElementSibling;t&&(this.getFileContainerEvent().resetPreviousFilesState(),t.scrollIntoView(),this.getFileContainerEvent().highlightFile(t),this.removeHeaderMenuFromViewPort())}navigateLeft(e){let t=e.previousElementSibling;t&&(this.getFileContainerEvent().resetPreviousFilesState(),t.scrollIntoView(),this.getFileContainerEvent().highlightFile(t),this.removeHeaderMenuFromViewPort())}removeHeaderMenuFromViewPort(){let e=document.querySelector(A.HEAD.PARENT),t=e==null?void 0:e.getBoundingClientRect().height;e.style.top=`-${t}px`}getNumberOfFilesPerRow(){let e=document.querySelector("[data-list_id]:nth-of-type(1)");return e?this.getRemainingRowsOfItemToTheRight(e)+1:0}getRemainingRowsOfItemToTheRight(e){let t=e,n=e.nextElementSibling,r=0;if(n)for(;t.offsetTop===n.offsetTop;)r++,t=n,n=n.nextElementSibling;return r}getRemainingRowsOfItemToTheLeft(e){let t=e,n=e.previousElementSibling,r=0;if(n)for(;t.offsetTop===n.offsetTop;)r++,t=n,n=n.previousElementSibling;return r}navigateEnter(e){e.querySelector(".svg-per-file-loading").classList.remove("display-none"),this.getFileContainerEvent().currentDrive.openFolderHandler(e,this.getFileContainerEvent()).catch(()=>{e.querySelector(".svg-per-file-loading").classList.add("display-none")})}},"NavigateFilesByKeyboardKeysHandler");d(ji,"NavigateFilesByKeyboardKeysHandler");var Vi=v(class{constructor(e){this.fileContainerEvent=e,this.handleSearch()}handleSearch(){let e=document.querySelector(A.SEARCH);e.addEventListener("keyup",t=>{if(t.code==="Enter"){let n=e.value;this.getFileContainerEvent().currentDrive.searchFiles(n,this.getFileContainerEvent()).then(()=>{e.value=""}).catch(()=>{K("An Error Occurred While Searching")})}})}getFileContainerEvent(){return this.fileContainerEvent}},"SearchFilesInFolderHandler");d(Vi,"SearchFilesInFolderHandler");var zi=v(class{constructor(e){this.fileContainerEvent=e,this.handleBreadCrumbNavigation()}getFileContainerEvent(){return this.fileContainerEvent}handleBreadCrumbNavigation(){document.querySelector(".breadcrumb").addEventListener("click",t=>{let n=t.target;if(n.hasAttribute("data-pathtrail")){let r=n.getAttribute("data-pathtrail");this.getFileContainerEvent().currentDrive.breadCrumbClickNavigationHandler(r).then(()=>{this.getFileContainerEvent().resetPreviousFilesState()})}}),window.addEventListener("keydown",t=>{switch(t.code){case"Backspace":this.navigateBackSpace();break}})}navigateBackSpace(){let e=document.querySelectorAll(".breadcrumb a"),t=e[e.length-2];if(t){let n=t.dataset.pathtrail;this.getFileContainerEvent().currentDrive.breadCrumbClickNavigationHandler(n).then(()=>{this.getFileContainerEvent().resetPreviousFilesState()})}}},"BreadCrumbHandler");d(zi,"BreadCrumbHandler");var Qi=v(class{constructor(e){this.copyLinkEvent=e;let t=e.getCopiedLinkFile().dataset.file_type,n=e.getFileContainerEvent().getLoadDriveEventClass().appURL;t==="file"&&(window.parent.postMessage({mceAction:"execCommand",cmd:"tonics:RegularLink",value:e.copiedLink},n),window.hasOwnProperty("opener")&&window.opener!==null&&window.opener.postMessage({cmd:"tonics:RegularLink",value:e.copiedLink},n))}},"TinymceCopyLinkHandler");d(Qi,"TinymceCopyLinkHandler");var Bt=v(class{get imageFile(){return this._imageFile}constructor(e){this._imageFile=e}},"OnImageFileEvent");d(Bt,"OnImageFileEvent");var tn=v(class{extensions(){return["jpeg","jpg","jpe","jfi","jif","jfif","png","gif","bmp","webp","apng","avif","svg"]}run(e,t,n=null){if(n&&typeof n=="function"){let r=n(D.FILE.image,t,e);return pe(new Bt(r),Bt),r}}fileContext(e){return`
        ${O(T.Context.Edit.Image,D.FILE.image,C().EDIT_IMAGE_FILE)}
    ${O(T.Context.Rename,D.CONTEXT.edit,C().RENAME_FILE)}
    ${O(T.Context.Link.Copy,D.CONTEXT.link,C().COPY_LINK)}
    ${O(T.Context.Link.Preview,D.CONTEXT.preview_link,C().COPY_PREVIEW_LINK)}
    ${O(T.Context.Cut,D.CONTEXT.cut,C().CUT_FILE)}
    ${O(T.Context.Delete,D.CONTEXT.trash,C().DELETE_FILE)}`}},"ImageFilePlacement");d(tn,"ImageFilePlacement");var Ht=v(class{get docFile(){return this._docFile}constructor(e){this._docFile=e}},"OnDocumentFileEvent");d(Ht,"OnDocumentFileEvent");var nn=v(class{extensions(){return["pdf","docx","doc","txt"]}run(e,t,n=null){if(n&&typeof n=="function"){let r;switch(t){case"docx":case"doc":r=n(D.FILE.docx,t,e);break;case"pdf":r=n(D.FILE.pdf,t,e);break;default:r=n(D.FILE.note,t,e)}return pe(new Ht(r),Ht),r}}fileContext(e){return`
    ${O(T.Context.Rename,D.CONTEXT.edit,C().RENAME_FILE)}
    ${O(T.Context.Link.Copy,D.CONTEXT.link,C().COPY_LINK)}
    ${O(T.Context.Link.Preview,D.CONTEXT.preview_link,C().COPY_PREVIEW_LINK)}
    ${O(T.Context.Cut,D.CONTEXT.cut,C().CUT_FILE)}
    ${O(T.Context.Delete,D.CONTEXT.trash,C().DELETE_FILE)}`}},"DocumentsFilePlacement");d(nn,"DocumentsFilePlacement");var Gi=v(class{constructor(e){this.copyPreviewLinkEvent=e;let t=new tn,n=new sn,r=new nn,u=e.getCopiedLinkFile().dataset.file_type,p=e.getCopiedLinkFile().dataset.ext,h=this.copyPreviewLinkEvent.getFileContainerEvent().getLoadDriveEventClass().appURL;u==="file"&&(t.extensions().includes(p)&&(window.parent.postMessage({mceAction:"execCommand",cmd:"tonics:ImageLink",value:e.getCopiedLink()},h),window.hasOwnProperty("opener")&&window.opener!==null&&window.opener.postMessage({cmd:"tonics:ImageLink",value:e.getCopiedLink()},h)),r.extensions().includes(p)&&window.hasOwnProperty("opener")&&window.opener!==null&&window.opener.postMessage({cmd:"tonics:DocLink",value:e.getCopiedLink()},h),n.extensions().includes(p)||["mp4","3gp","mov"].includes(p)?(window.parent.postMessage({mceAction:"execCommand",cmd:"tonics:MediaLink",value:e.getCopiedLink()},h),window.hasOwnProperty("opener")&&window.opener!==null&&window.opener.postMessage({cmd:"tonics:MediaLink",value:e.getCopiedLink()},h)):window.parent.postMessage({mceAction:"execCommand",cmd:"tonics:RegularLink",value:e.getCopiedLink()},h))}},"TinymceCopyPreviewLinkHandler");d(Gi,"TinymceCopyPreviewLinkHandler");var ot=v(class{get copiedLink(){return this._copiedLink}set copiedLink(e){this._copiedLink=e}constructor(e){this.fileContainerEvent=e,this.copiedLinkFile=e.getSelectedFile()}getFileContainerEvent(){return this.fileContainerEvent}handleCopyLink(e=null){return this.fileContainerEvent.currentDrive.copyLinkHandler(this.fileContainerEvent,e)}onSuccess(e=null){this.copiedLinkFile=this.fileContainerEvent.getSelectedFile(),this.copiedLink=e,this.getFileContainerEvent().removeContextMenu(),ee(T.Link.Copy.Download.Success).then(),this.fileContainerEvent.dispatchEventToHandlers(this,ot)}onError(e=null){K(T.Link.Copy.Download.Error).then()}getCopiedLinkFile(){return this.copiedLinkFile}},"CopyLinkEvent");d(ot,"CopyLinkEvent");var Nt=v(class{get audioFile(){return this._audioFile}constructor(e){this._audioFile=e}},"OnAudioIsPlayableEvent");d(Nt,"OnAudioIsPlayableEvent");var Xi=v(class{constructor(e){let t=e.audioFile;new ot(window.TonicsFileManager.events.fileContainerEvent).handleCopyLink(t).then(r=>{t.dataset.audioplayer_play="false",t.dataset.audioplayer_songurl=r,t.dataset.audioplayer_image="",t.dataset.audioplayer_title=t.dataset.filename,t.dataset.audioplayer_format=t.dataset.ext,t.setAttribute("data-tonics-audioplayer-track",""),pe(new Nt(t),Nt)})}},"RegisterAudioFileForAudioPlayerHandler");d(Xi,"RegisterAudioFileForAudioPlayerHandler");var Ze={FileContainerEvent:[Oi,Mi,Ri,Bi,Hi,Ni,Ui,$i,ji,Vi,zi],LoadDriveDataEvent:[],RenameFileEvent:[],UploadFileEvent:[],CutFileEvent:[],PasteFileEvent:[],EditImageFileEvent:[],DeleteFileEvent:[],CopyLinkEvent:[Qi],CopyPreviewLinkEvent:[Gi],RefreshFolderEvent:[],OnAudioFileEvent:[Xi],OnAudioIsPlayableEvent:[],OnArchiveCompressFileEvent:[],OnCodeFileEvent:[],OnDirectoryFileEvent:[],OnDocumentFileEvent:[],OnImageFileEvent:[],NewFolderEvent:[]},rt=v(class{constructor(e){if(e)return this.$handleProvider=e,this}dispatch(e){let t=e.constructor,n=this.getHandler().getEventHandlers(t);for(let r=0;r<n.length;r++)Object.getOwnPropertyNames(n[r]).includes("arguments")?n[r](e):new n[r](e);return e}setHandler(e){return this.$handleProvider=e,this}getHandler(){return this.$handleProvider}dispatchEventToHandlers(e,t,n){let r=Pe(e,n);this.setHandler(r).dispatch(t)}},"EventDispatcher");d(rt,"EventDispatcher");window.hasOwnProperty("TonicsEvent")||(window.TonicsEvent={});window.TonicsEvent.EventDispatcher=new rt;function Pe(e,t){let n=new Zt,r=t.name;if(e.hasOwnProperty(r)){let u=e[r];return u.length>0&&(u==null||u.forEach((p,h)=>{n.attachHandlerToEvent(t,p)})),n}throw new DOMException(`Can't attach ${t} to listeners because it doesn't exist`)}v(Pe,"attachEventAndHandlersToHandlerProvider");d(Pe,"attachEventAndHandlersToHandlerProvider");function pe(e,t){let n=Pe(Ze,t);new rt().setHandler(n).dispatch(e)}v(pe,"dispatchEventToHandlers");d(pe,"dispatchEventToHandlers");window.hasOwnProperty("TonicsEvent")||(window.TonicsEvent={});window.TonicsEvent.attachEventAndHandlersToHandlerProvider=(e,t)=>Pe(e,t);var sn=v(class{extensions(){return["mp3","wav","tiff","ogg","webm","aac","flac"]}run(e,t,n=null){if(n&&typeof n=="function"){let r=n(D.FILE.music,t,e);return pe(new qt(r),qt),r}}fileContext(e){return`
    ${O(T.Context.Rename,D.CONTEXT.edit,C().RENAME_FILE)}
    ${O(T.Context.Link.Copy,D.CONTEXT.link,C().COPY_LINK)}
    ${O(T.Context.Link.Preview,D.CONTEXT.preview_link,C().COPY_PREVIEW_LINK)}
    ${O(T.Context.Cut,D.CONTEXT.cut,C().CUT_FILE)}
    ${O(T.Context.Delete,D.CONTEXT.trash,C().DELETE_FILE)}`}},"AudioFilePlacement");d(sn,"AudioFilePlacement");var Ut=v(class{get dirFile(){return this._dirFile}constructor(e){this._dirFile=e}},"OnDirectoryFileEvent");d(Ut,"OnDirectoryFileEvent");var Wi=v(class{extensions(){return["null",null]}run(e,t,n=null){if(n&&typeof n=="function"){let r=n(D.FILE.folder,t,e);return pe(new Ut(r),Ut),r}}fileContext(e){let t="";return e.cutFile.length>0&&(t=O(T.Context.Paste,D.CONTEXT.paste,C().PASTE_FILE)),`
    ${O(T.Context.Rename,D.CONTEXT.edit,C().RENAME_FILE)}
    ${O(T.Context.Cut,D.CONTEXT.cut,C().CUT_FILE)}
     ${t}
    ${O(T.Context.Delete,D.CONTEXT.trash,C().DELETE_FILE)}`}getCutFiles(){return document.querySelectorAll('[data-cut="true"]')}},"DirectoryFilePlacement");d(Wi,"DirectoryFilePlacement");var $t=v(class{get archiveFile(){return this._archiveFile}constructor(e){this._archiveFile=e}},"OnArchiveCompressFileEvent");d($t,"OnArchiveCompressFileEvent");var Ki=v(class{extensions(){return["zip","tar","gz","rar","7z","bz2","xz","wim"]}fileContext(e){return`
    ${O(T.Context.Rename,D.CONTEXT.edit,C().RENAME_FILE)}
    ${O(T.Context.Link.Copy,D.CONTEXT.link,C().COPY_LINK)}
    ${O(T.Context.Link.Preview,D.CONTEXT.preview_link,C().COPY_PREVIEW_LINK)}
    ${O(T.Context.Cut,D.CONTEXT.cut,C().CUT_FILE)}
    ${O(T.Context.Delete,D.CONTEXT.trash,C().DELETE_FILE)}`}run(e,t,n){if(n&&typeof n=="function"){let r;switch(t){case"zip":r=n(D.FILE.zip,t,e);break;default:r=n(D.FILE.compress,t,e)}return pe(new $t(r),$t),r}}},"ArchiveCompressFilePlacement");d(Ki,"ArchiveCompressFilePlacement");var jt=v(class{get codeFile(){return this._codeFile}constructor(e){this._codeFile=e}},"OnCodeFileEvent");d(jt,"OnCodeFileEvent");var Yi=v(class{extensions(){return["php","js","css","bat","nim","cs","sql","ts","sh","rb","pyo","pl","o","lua","kt"]}fileContext(e){return`
    ${O(T.Context.Rename,D.CONTEXT.edit,C().RENAME_FILE)}
    ${O(T.Context.Link.Copy,D.CONTEXT.link,C().COPY_LINK)}
    ${O(T.Context.Link.Preview,D.CONTEXT.preview_link,C().COPY_PREVIEW_LINK)}
    ${O(T.Context.Cut,D.CONTEXT.cut,C().CUT_FILE)}
    ${O(T.Context.Delete,D.CONTEXT.trash,C().DELETE_FILE)}`}run(e,t,n){if(n&&typeof n=="function"){let r=n(D.FILE.code,t,e);return pe(new jt(r),jt),r}}},"CodeFilePlacement");d(Yi,"CodeFilePlacement");var on={FileByExtensions:[new sn,new Ki,new Yi,new tn,new Wi,new nn]},Vt=v(class{get data(){return this._data}set data(e){this._data=e}constructor(e,t,n=!1){this.commands=e,this.data=t,this.append=n}getCommands(){return this.commands}placeFileByExtension(){let e=this,t=this.getCommands().getList();if(!this.append)try{document.querySelector(A.FILES.FILE_CONTAINER).replaceChildren()}catch(u){console.error(u)}let n,r=this.data;for(n in r){let u=r[n],p;document.querySelector("[data-list_id]:last-of-type")?p=parseInt(document.querySelector("[data-list_id]:last-of-type").dataset.list_id)+1:p=n,u.list_id=p,u.properties=JSON.parse(u.properties);let h=!1,g=u.properties.ext;t.forEach((y,w)=>{typeof y.extensions=="function"&&typeof y.run=="function"&&y.extensions().includes(g)&&(h=!0,y.run(u,g,function(o,a,c){return e.createFile(o,a,c)}))}),h||new it().run(u,g,function(y,w,o){return e.createFile(y,w,o)})}}createFile(e,t,n){let r=document.querySelector(A.FILES.FILE_CONTAINER),u=`
        <li class="tonics-file" 
                    data-list_id="${n.list_id}"
                    data-drive_id="${n.drive_id}"
                    data-drive_parent_id="${n.drive_parent_id}"
                    data-drive_unique_id="${n.drive_unique_id}"
                    data-filename="${n.filename}" 
                    data-file_type="${n.type}"
                    data-size="${n.properties.size}"
                    data-file_path="${n.filepath}"
                    data-time_created="${n.properties.time_created}"
                    data-time_modified="${n.properties.time_modified}"
                    data-ext="${t}">
          <button class="tonics-fm-link remove-button-styles">
           ${e}
            <div class="tonics-file-filename">
              <input class="tonics-file-filename-input" type="text" value="${n.filename}" readonly="" aria-label="${n.filename}">
            </div>
            <span class="svg-per-file-loading display-none"></span>
          </button>
        </li>
        `;return r==null||r.insertAdjacentHTML("beforeend",u),r==null?void 0:r.lastElementChild}},"LocalFileExtensionsCommands");d(Vt,"LocalFileExtensionsCommands");var ue="/api/media/",N;(function(e){e[e.GetFiles=ue+"files"]="GetFiles",e[e.GetFileFromPath=ue+"files?path="]="GetFileFromPath",e[e.SearchFileFromPath=ue+"files/search?path="]="SearchFileFromPath",e.IDQuery="&id=",e.SearchQuery="&query=",e[e.MoveFiles=ue+"files/move"]="MoveFiles",e[e.PreFlight=ue+"files/preflight"]="PreFlight",e[e.DeleteFiles=ue+"files"]="DeleteFiles",e[e.PostFiles=ue+"files"]="PostFiles",e[e.RenameFile=ue+"files/rename"]="RenameFile",e.ServeFile="/serve_file_path_987654321/",e[e.CreateFolder=ue+"files/create_folder"]="CreateFolder",e[e.CancelUpload=ue+"files/cancel_create"]="CancelUpload"})(N||(N={}));var Ji=v(class{constructor(e,t,n){this._fetchInfo={lastStatus:{ok:!1,status:0,statusText:"",response:null}},this.driveSignature=e,this.bearerToken=t,this.setFqdn(n)}get currentPathID(){return this._currentPathID}set currentPathID(e){this._currentPathID=e}get appendNewFiles(){return this._appendNewFiles}set appendNewFiles(e){this._appendNewFiles=e}get filesFolderNextPageUrl(){return this._filesFolderNextPageUrl}set filesFolderNextPageUrl(e){this._filesFolderNextPageUrl=e}get driveSignature(){return this._driveSignature}set driveSignature(e){this._driveSignature=e}get currentDirectoryID(){return this._currentDirectoryID}set currentDirectoryID(e){this._currentDirectoryID=e}get fetchInfo(){return this._fetchInfo}get bearerToken(){return this._bearerToken}set bearerToken(e){this._bearerToken=e}get fqdn(){return this._fqdn}set fqdn(e){this._fqdn=e}get storageData(){return this._storageData}set storageData(e){this._storageData=e}getMaxRequestToSend(){return 4}getDriveIcon(){return"#tonics-hdd"}getDriveName(){return"local"}coldBootStorageDisk(){let e=this;return new Promise(function(t,n){let r=`${e.fqdn}${N.GetFiles}`,u=e.fetchFileData(r);e.storageData=u,u.then(p=>{e.createIndividualDataElement(p),t()}).catch(()=>n())})}createIndividualDataElement(e){let t=new Xt(on.FileByExtensions),n=e.data;if(this.currentPathID=e.more.drive_id,e.more.has_more===!0?(this.filesFolderNextPageUrl=e.more.next_page_url,Ee()):Ee(!1,!1),this.appendNewFiles)return new Vt(t,n,!0).placeFileByExtension();this.addCrumbNavigationPathTrail(e.more),this.currentDirectoryID=e.more.drive_id,new Vt(t,n).placeFileByExtension()}loadMoreFiles(e){return new Promise((t,n)=>{let r=`${this.fqdn}${this.filesFolderNextPageUrl}`;this.fetchFileData(r).then(u=>{this.appendNewFiles=!0,this.createIndividualDataElement(u),this.appendNewFiles=!1,t()})})}searchFiles(e,t){return new Promise((n,r)=>{let u=encodeURIComponent(t.getCurrentDirectory()),p=`${N.SearchFileFromPath}${u}${N.IDQuery}${this.currentPathID}${N.SearchQuery}${encodeURIComponent(e)}`,h=`${this.fqdn}${p}`;this.fetchFileData(h).then(g=>{this.createIndividualDataElement(g),n()})})}addCrumbNavigationPathTrail(e){var t;let r=e.current_path.split("/");r=r.filter(String);let u=document.querySelector(".breadcrumb");u.innerHTML="Navigating:  ";let p="";r.forEach((h,g,y)=>{p=p.concat(`/${h}`);let w=Wt(h);u==null||u.insertAdjacentHTML("beforeend",`<a data-pathtrail="${p}" data-filename="${h}" 
href="javascript:void(0);">${w}</a><span class="delimiter"> \xBB </span>`)}),(t=u==null?void 0:u.lastElementChild)==null||t.remove()}breadCrumbClickNavigationHandler(e){return new Promise((t,n)=>{let r=encodeURIComponent(e),u=`${this.fqdn}${N.GetFileFromPath}${r}`;this.fetchFileData(u).then(p=>{this.createIndividualDataElement(p),t()}).catch(()=>n())})}createDirectoryElement(e){let t=document.createElement("li");return t.dataset.drive_id=this.currentDirectoryID,t.dataset.file_path=e,t.dataset.file_type="directory",t.dataset.ext="null",t}refresh(e){let t=this;return new Promise(function(n,r){let u=t.createDirectoryElement(e.getCurrentDirectory());t.openFolderHandler(u,e).then(function(){n()})})}createFolder(e,t){let n=this;return new Promise(function(r,u){let p={filename:t.name,uploadTo:e.getCurrentDirectory(),uploadToID:n.currentDirectoryID},h=`${n.fqdn}${N.CreateFolder}`;n.defaultXHR({}).Post(h,JSON.stringify(p),function(y,w){y&&(y=JSON.parse(y),u()),w&&(w=JSON.parse(w),w.hasOwnProperty("status")&&w.status==200&&r())})})}openFolderHandler(e,t){let n=this;return new Promise(function(r,u){if(e.dataset.file_type=="directory"&&e.dataset.ext=="null"){let p=encodeURIComponent(e.dataset.file_path),h=e.dataset.drive_id,g=`${n.fqdn}${N.GetFileFromPath}${p}${N.IDQuery}${h}`;n.fetchFileData(g).then(function(y){n.createIndividualDataElement(y),r()})}})}getStorageFileData(){return this.storageData}defaultXHR(e={}){let t={Authorization:`Bearer ${this.bearerToken}`,"Tonics-CSRF-Token":`${Mt(["tonics_csrf_token","csrf_token"])}`};return new nt(bi(bi({},t),e))}headers(){let e=this.bearerToken;return new Headers([["Content-Type","application/json; charset=utf-8"],["Authorization",`Bearer ${e}`],["Tonics-CSRF-Token",`${Mt(["tonics_csrf_token","csrf_token"])}`]])}fetchFileData(e){return oe(this,null,function*(){let t=this,n=this.headers(),r=new Request(e,{method:"GET",headers:n,cache:"default",mode:"cors"});return new It(r).run().then(function(u){return t.processResponse(u)}).then(function(u){if(t.fetchInfo.lastStatus.response=u,t.fetchInfo.lastStatus.ok)return u;console.log(t.fetchInfo.lastStatus)})})}uploadFile(e,t,n){let r=e.fileObject,u=e.preFlightData,p=this;if(u.dataToFill!==null)u.dataToFill.length>0&&!e.uploaded&&(e.pause||p.throttleSend(e,t,n));else{let h=this.defaultXHR({UploadTo:e.uploadTo,Filename:r.name,Filetype:r.type,Chunkstosend:u.chunksToSend,Totalblobsize:u.Totalblobsize,Byteperchunk:u.Byteperchunk}),g=`${this.fqdn}${N.PreFlight}`;h.Get(g,function(y,w){w&&(e.fetched=!0,e.preFlightData.dataToFill=JSON.parse(w).data,e.preFlightData.filename=JSON.parse(w).more.filename,n.setUploadFileObject(t,e),u.dataToFill.length>0&&!e.uploaded&&(e.pause||p.throttleSend(e,t,n)))})}}throttleSend(e,t,n){let r=this,u=e.preFlightData,p=e.preFlightData.dataToFill,h=e.fileObject;for(let g=u.nextIndex,y=p.length;g<y;g++)if(p){let w=p[g],o=JSON.parse(w.moreBlobInfo),a=h.slice(o.startSlice,o.endSlice),c={id:w.id,filename:e.preFlightData.filename,filetype:h.type,uploadTo:e.uploadTo,uploadToID:r.currentDirectoryID,chunkPart:w.blob_chunk_part,chunkSize:w.blob_chunk_size,mbRate:4*1048576,totalChunks:u.chunksToSend,totalBlobSize:h.size,startSlice:o.startSlice,newFile:e.newFile};if(u.throttleSwitch)break;e.preFlightData.sentApi=e.preFlightData.sentApi+1,n.setUploadFileObject(t,e),r.uploadBlob(a,c,t,n),e.preFlightData.nextIndex=e.preFlightData.nextIndex+1,n.setUploadFileObject(t,e)}}uploadBlob(e,t,n,r){let u=this,p=this.bearerToken,h=this.defaultXHR({BlobDataInfo:JSON.stringify(t)}),g=r.getUploadFileObject(n,this.driveSignature);g.preFlightData.sentApi>=g.preFlightData.maxRequestToSend&&(g.preFlightData.throttleSwitch=!0,r.$uploadedFilesObject.set(n,g));let y=`${this.fqdn}${N.PostFiles}`;h.Post(y,e,function(w,o){if(o){let a=JSON.parse(o),c=Math.round(a.data.uploadPercentage);return g.preFlightData.noOfReceivedResponse=g.preFlightData.noOfReceivedResponse+1,r.setUploadFileObject(n,g),a.data.isUploadCompleted||r.updateFileProgress(n,c,u.driveSignature),g.preFlightData.noOfReceivedResponse===g.preFlightData.maxRequestToSend&&(r.releaseThrottle(n,u.driveSignature),!a.data.isUploadCompleted&&!g.uploaded&&u.uploadFile(g,n,r)),g.uploaded||a.data.isUploadCompleted&&(r.setUploadCompleted(n,u.driveSignature),r.isUploadingSequentially()&&(r.setSequenceDone(n,u.driveSignature),r.uploadFileNextSequence(u.driveSignature))),a}})}cancelFileUploadHandler(e,t){let n=this;e.pause=!0,e.uploaded=!0,e.preFlightData.throttleSwitch=!0;let r=this.driveSignature+"_"+e.fileObject.name;return t.setUploadFileObject(r,e),new Promise(function(u,p){let h=e.preFlightData,g={filename:e.preFlightData.filename,totalChunks:h.chunksToSend,uploadTo:e.uploadTo,totalBlobSize:e.fileObject.size},y=n.defaultXHR({}),w=JSON.stringify(g),o=`${n.fqdn}${N.CancelUpload}`;y.Delete(o,w,function(a,c){a&&p(),c&&(c=JSON.parse(c),c.hasOwnProperty("status")&&c.status==200&&u(c.message))})})}renameFileHandler(e,t){let n=this;return new Promise(function(r,u){let p=e.querySelector(".tonics-file-filename-input");e.dataset.filename_new=p.value;let h=JSON.stringify(e.dataset),g=n.headers(),y=`${n.fqdn}${N.RenameFile}`,w=new Request(y,{method:"PUT",headers:g,cache:"default",mode:"cors",body:h});new It(w).run().then(function(a){return n.processResponse(a)}).then(function(a){if(a.status>200)return u();if(a.hasOwnProperty("data")){p.style.width=175+"px";let c=a.data;return p.value=c.filename,p.ariaLabel=c.filename,e.dataset.drive_id=c.drive_id,e.dataset.filename=c.filename,e.dataset.file_path=c.file_path,e.dataset.time_modified=c.time_modified,r(e)}})})}editImageHandler(e){let t=this;return new Promise(function(n,r){let u=e.getFileContainerEvent().getSelectedFile(),p=`${t.fqdn}${N.ServeFile}`+u.dataset.drive_unique_id+"?render",h={translations:{en:{"toolbar.save":"Save","toolbar.apply":"Apply","toolbar.download":"Save Changes"}}};if(u){let g=d(function(w){w.canvas.toBlob(function(o){let a=new File([o],u.dataset.filename),c=e.getFileContainerEvent().getCurrentDirectory(),m=e.byteToSendPerChunk,b={fileObject:a,driveSignature:e.getFileContainerEvent().currentDrive.driveSignature,preFlightData:{filename:a.name,dataToFill:null,chunksToSend:Math.ceil(a.size/m),Byteperchunk:m,Totalblobsize:a.size,maxRequestToSend:e.maxRequestToSend,noOfReceivedResponse:0,throttleSwitch:!1,sentApi:0,nextIndex:0},newFile:!1,uploadTo:c,fetched:!1,pause:!1,uploaded:!1};e.updateFileProgress(a.name,0,t.driveSignature," \u22EF Updating"),e.setUploadFileObject(a.name,b),t.uploadFile(b,a.name,e)})},"onBeforeComplete");new FilerobotImageEditor(h,{onBeforeComplete:g}).open(p)}})}copyLinkHandler(e,t){let n=this;return new Promise((r,u)=>{t===null&&(t=e.getSelectedFile());let p=`${n.fqdn}${N.ServeFile}`+t.dataset.drive_unique_id;return de(p).then(()=>{r(p)}).catch(()=>{u()})})}copyPreviewLinkHandler(e,t){let n=this;return new Promise((r,u)=>{t===null&&(t=e.getSelectedFile());let p=`${n.fqdn}${N.ServeFile}`+t.dataset.drive_unique_id+"?render";return de(p).then(()=>{r(p)}).catch(()=>{u()})})}moveFileHandler(e,t){let n=this;return new Promise(function(r,u){let p=[],h=e.dataset;h.hasOwnProperty("drive_id")||(h.drive_id=n._currentDirectoryID),t.getCutFiles().forEach(o=>{if(o.dataset.drive_id==h.drive_id)throw u(`Destination Folder \`${h.filename}\` is a subfolder of the source folder`),new DOMException(`Destination Folder \`${h.filename}\` is a subfolder of the source folder, you can't paste the same folder into the same folder`);p.push(o.dataset)});let g=JSON.stringify({files:p,destination:h}),y=n.defaultXHR({}),w=`${n.fqdn}${N.MoveFiles}`;y.Put(w,g,function(o,a){if(o)return o=JSON.parse(o),u();a&&(a=JSON.parse(a),a.hasOwnProperty("status")&&a.status==200&&n.refresh(t).then(function(){r()}))})})}deleteFileHandler(e,t){let n=this;return new Promise(function(r,u){let p=n.defaultXHR({}),h=JSON.stringify({files:e}),g=`${n.fqdn}${N.DeleteFiles}`;p.Delete(g,h,function(y,w){y&&u(),w&&(w=JSON.parse(w),w.hasOwnProperty("status")&&w.status==200&&n.refresh(t).then(function(){r(w.message)}))})})}processResponse(e){return oe(this,null,function*(){return this.fetchInfo.lastStatus.ok=e.ok,this.fetchInfo.lastStatus.status=e.status,this.fetchInfo.lastStatus.statusText=e.statusText,this.fetchInfo.lastStatus.response=null,this.fetchInfo.lastStatus.ok?yield e.json():yield e.json()})}setFqdn(e){let t=this.isValidURL(e);if(!t)throw new DOMException(`${e} is not a valid domain address, an example of a valid domain is https://google.com`);this.fqdn=t}isValidURL(e){let t=document.createElement("input");return t.setAttribute("type","url"),t.value=e,t.validity.valid?e:!1}},"LocalDiskDrive");d(Ji,"LocalDiskDrive");var Ye=v(class{constructor(e,t,n=!1){this.commands=e,this.fileData=t,this.append=n}getCommands(){return this.commands}getFileData(){return this.fileData}placeFileByExtension(){let e=this,t=this.getCommands().getList();this.append||document.querySelectorAll(A.FILES.SINGLE_FILE).forEach(u=>u.remove());let n,r=this.getFileData();for(n in r){let u=r[n],p;u.hasOwnProperty("metadata")&&(u=u.metadata.metadata),document.querySelector("[data-list_id]:last-of-type")?p=parseInt(document.querySelector("[data-list_id]:last-of-type").dataset.list_id)+1:p=n,u.list_id=p;let h=!1,g=Ai(u.name);t.forEach((y,w)=>{typeof y.extensions=="function"&&typeof y.run=="function"&&(u[".tag"]==="folder"?y.extensions().includes(null)&&(h=!0,y.run(u,"null",function(o,a,c){return e.createFile(o,a,c)})):y.extensions().includes(g)&&(h=!0,y.run(u,g,function(o,a,c){return e.createFile(o,a,c)})))}),h||new it().run(u,g,function(y,w,o){return e.createFile(y,w,o)})}}createFile(e,t,n){let r=document.querySelector(A.FILES.FILE_CONTAINER),u="",p="";n.hasOwnProperty("size")&&(u=n.size),n.hasOwnProperty("server_modified")&&(p=n.server_modified);let h=n[".tag"]==="folder"?"directory":n[".tag"],g=`
        <li class="tonics-file" 
                    data-list_id="${n.list_id}"
                    data-drive_id="${n.id}"
                    data-filename="${n.name}" 
                    data-file_type="${h}"
                    data-size="${u}"
                    data-file_path="${n.path_lower}"
                    data-time_modified="${p}"
                    data-ext="${t}">
          <button class="tonics-fm-link remove-button-styles">
           ${e}
            <div class="tonics-file-filename">
              <input onkeyup="event.preventDefault()" class="tonics-file-filename-input" type="text" value="${n.name}" readonly="" aria-label="${n.name}">
            </div>
            <span class="svg-per-file-loading display-none"></span>
          </button>
        </li>
        `;return r==null||r.insertAdjacentHTML("beforeend",g),r==null?void 0:r.lastElementChild}},"DropboxFileExtensionCommands");d(Ye,"DropboxFileExtensionCommands");var et={FileRobotImageEditor:{ID:"filerobot-image-editor",PATH:"/serve_module_file_path_987654321/Core?path=/js/media/filerobot-image-editor.js"},DropboxSDK:{ID:"dropbox-sdk",PATH:"/serve_module_file_path_987654321/Core?path=/js/media/dropbox.min.js"}},Zi=v(class{constructor(e="",t=""){this._sharedLink=new Map,e&&(this.driveSignature=e),t&&(this.accessToken=t)}get isSearch(){return this._isSearch}set isSearch(e){this._isSearch=e}get driveSignature(){return this._driveSignature}set driveSignature(e){this._driveSignature=e}get accessToken(){return this._accessToken}set accessToken(e){this._accessToken=e}get sharedLink(){return this._sharedLink}get storageData(){return this._storageData}set storageData(e){this._storageData=e}get nextCursor(){return this._nextCursor}set nextCursor(e){this._nextCursor=e}get appendNewFiles(){return this._appendNewFiles}set appendNewFiles(e){this._appendNewFiles=e}getMaxRequestToSend(){return 1}getDriveIcon(){return"#tonics-dropbox"}getDriveName(){return"Dropbox"}coldBootStorageDisk(){let e=this;return new Promise(function(t,n){Jt(et.DropboxSDK.PATH,et.DropboxSDK.ID).then(function(){e.listFolder("").then(()=>{t()}).catch(()=>{n()})}.bind(e))})}addCrumbNavigationPathTrail(e){var t;let n=e.split("/"),r=document.querySelector(".breadcrumb"),u="",p="";r.innerHTML="Navigating:  ",n.forEach(h=>{u=u.concat(`/${h}`),h?p=Wt(h):(u="",p="Root"),r==null||r.insertAdjacentHTML("beforeend",`<a data-pathtrail="${u}" data-filename="${h}"  href="javascript:void(0);">${p}</a><span class="delimiter"> \xBB </span>`)}),(t=r==null?void 0:r.lastElementChild)==null||t.remove()}getStorageFileData(){return this.storageData}createIndividualDataElement(e){let t=new Xt(on.FileByExtensions);if(e.result.has_more?(this.nextCursor=e.result.cursor,Ee()):Ee(!1,!1),e.result.hasOwnProperty("matches")){this.isSearch=!0;let n=e.result.matches;return new Ye(t,n).placeFileByExtension()}else{this.isSearch=!1;let n=e.result.entries;return this.appendNewFiles?new Ye(t,n,!0).placeFileByExtension():new Ye(t,n).placeFileByExtension()}}listFolder(e=""){let t=this;return new Promise((n,r)=>{let p=t.getDropbox().filesListFolder({path:e,include_media_info:!0,recursive:!1,limit:20});t.storageData=p,p.then(h=>{t.addCrumbNavigationPathTrail(e),t.createIndividualDataElement(h),n()}).catch(function(h){console.log(h),r(h)})})}loadMoreFiles(e){return new Promise((t,n)=>{this.isSearch&&this.getDropbox().filesSearchContinueV2({cursor:this.nextCursor}).then(r=>{this.appendNewFiles=!0,this.createIndividualDataElement(r),this.appendNewFiles=!1,t()}),this.getDropbox().filesListFolderContinue({cursor:this.nextCursor}).then(r=>{this.appendNewFiles=!0,this.createIndividualDataElement(r),this.appendNewFiles=!1,t()})})}searchFiles(e,t){return new Promise((n,r)=>{this.getDropbox().filesSearchV2({query:e}).then(u=>{this.createIndividualDataElement(u),n()})})}cancelFileUploadHandler(e,t){e.pause=!0,e.uploaded=!0,e.preFlightData.throttleSwitch=!0;let n=this.driveSignature+"_"+e.fileObject.name;return t.setUploadFileObject(n,e),new Promise(function(r,u){localStorage.getItem(n)&&(localStorage.removeItem(n),r()),u()})}moveFileHandler(e,t){let n=this,r=[],u=e.dataset;return t.getCutFiles().forEach(p=>{if(p.dataset.drive_id==u.drive_id)throw new DOMException(`Destination Folder \`${u.filename}\` is a subfolder of the source folder, you can't paste the same folder into the same folder`);{let h={from_path:p.dataset.file_path,to_path:u.file_path+p.dataset.file_path};u.file_path||(h={from_path:p.dataset.file_path,to_path:"/"+p.dataset.filename}),r.push(h)}}),new Promise(function(p,h){let g=n.getDropbox();g.filesMoveBatchV2({entries:r,autorename:!0,allow_ownership_transfer:!0}).then(function(y){return y}).then(function(y){g.filesMoveBatchCheckV2({async_job_id:y.result.async_job_id}).then(w=>{console.log(w),p("Move Operation is Progressing, Refresh After Few Seconds (Might Take Longer)")})}).catch(function(y){console.log(y),h()})})}renameFileHandler(e,t){let n=this;return new Promise(function(r,u){let p=e.querySelector(".tonics-file-filename-input"),h=e.dataset.file_path,g=Li(h,"/"),y=e.dataset.ext,w=p.value,o=g+w;g!=="/"&&(o=g+"/"+w),h.endsWith(y)&&(w.endsWith(y)?o=g+w:o=g+w+"."+y),n.getDropbox().filesMoveV2({from_path:h,to_path:o}).then(function(c){if(c){p.style.width=175+"px";let m=c.result.metadata;p.value=m.name,e.dataset.filename=m.name,e.dataset.file_path=m.path_lower,e.dataset.time_modified=m.server_modified,r(e)}}).catch(function(c){console.log(c),u()})})}editImageHandler(e){let t=this;return new Promise(function(n,r){let u=e.getFileContainerEvent().getSelectedFile();if(u){let p=t.getDropbox();p.filesGetTemporaryLink({path:u.dataset.file_path}).then(function(g){return g.result.link}).then(function(g){let y={translations:{en:{"toolbar.save":"Save","toolbar.apply":"Apply","toolbar.download":"Save Changes"}}},w=d(function(a){a.canvas.toBlob(function(c){let m=new File([c],u.dataset.filename);p.filesUpload({path:u.dataset.file_path,contents:m,mode:"overwrite"}).then(function(b){e.updateFileProgress(m.name,100,t.driveSignature," \u2713 Updated")}).catch(function(b){console.log(b),r()})})},"onBeforeComplete");new FilerobotImageEditor(y,{onBeforeComplete:w}).open(g)}).catch(function(g){r()})}})}deleteFileHandler(e,t){let n=this,r=[];return e.forEach(function(u,p,h){let g={path:u.file_path};r.push(g)}),new Promise(function(u,p){n.getDropbox().filesDeleteBatch({entries:r}).then(g=>{g.status!==200&&p(),u("File(s) Deletion Is In Progress, Refresh After Few Seconds (Might Take Longer)")}).catch(function(g){console.log(g),p()})})}openFolderHandler(e,t){let n=this;return new Promise(function(r,u){e.dataset.file_type==="directory"&&n.listFolder(e.dataset.file_path).then(function(){r()}).catch(function(p){console.log(p),u()})})}parseDropboxSharedLink(e,t="?dl=1"){let n=document.createElement("a");return n.href=e,n.origin+n.pathname+t}copyLinkHandler(e,t){let n=this;return new Promise((r,u)=>oe(this,null,function*(){let p=n.getDropbox();t===null&&(t=e.getSelectedFile());let h=t.dataset.file_path,g;if(g=n.sharedLink.get(h)){let y=n.parseDropboxSharedLink(g);yield de(y).then(()=>{r(y)})}else p.sharingCreateSharedLinkWithSettings({path:h,settings:{audience:"public",access:"viewer",requested_visibility:"public",allow_download:!0}}).then(w=>oe(this,null,function*(){let o=n.parseDropboxSharedLink(w.result.url);n.sharedLink.set(h,w.result.url),yield de(o).then(()=>{r(o)})})).catch(function(w){return w.error||u(),w.error}).then(w=>{w.error&&w.error[".tag"]==="shared_link_already_exists"&&p.sharingListSharedLinks({path:h,direct_only:!0}).then(a=>oe(this,null,function*(){let c=n.parseDropboxSharedLink(a.result.links[0].url);n.sharedLink.set(h,a.result.links[0].url),yield de(c).then(()=>{n.sharedLink.set(h,a.result.links[0].url),r(c)})}))}).catch(()=>{u()})}))}copyPreviewLinkHandler(e,t){let n=this;return new Promise((r,u)=>oe(this,null,function*(){let p=n.getDropbox();t===null&&(t=e.getSelectedFile());let h=t.dataset.file_path,g;if(g=n.sharedLink.get(h)){let y=n.parseDropboxSharedLink(g,"?raw=1");yield de(y).then(()=>r(y))}else p.sharingCreateSharedLinkWithSettings({path:h,settings:{audience:"public",access:"viewer",requested_visibility:"public",allow_download:!0}}).then(w=>oe(this,null,function*(){let o=n.parseDropboxSharedLink(w.result.url,"?raw=1");n.sharedLink.set(h,w.result.url),yield de(o).then(()=>{r(o)})})).catch(w=>(w.error||u(),w.error)).then(w=>{w.error&&w.error[".tag"]==="shared_link_already_exists"&&p.sharingListSharedLinks({path:h,direct_only:!0}).then(a=>oe(this,null,function*(){let c=n.parseDropboxSharedLink(a.result.links[0].url,"?raw=1");n.sharedLink.set(h,a.result.links[0].url),yield de(c).then(()=>{n.sharedLink.set(h,a.result.links[0].url),r(c)})}))}).catch(()=>{u()})}))}createFolder(e,t){let n=this;return new Promise(function(r,u){let p=n.getDropbox(),h=e.getCurrentDirectory()+"/"+t.name;p.filesCreateFolderV2({path:h}).then(function(g){g.status===200&&r()}).catch(function(g){console.log(g),u()})})}refresh(e){let t=this;return new Promise(function(n,r){t.listFolder(e.getCurrentDirectory()).then(function(){n()}).catch(function(u){console.log(u),r()})})}getDropbox(){return new Dropbox.Dropbox({accessToken:`${this.accessToken}`})}uploadFile(e,t,n){let r=e.preFlightData,u=this;this.createPreflightData(e,r.chunksToSend,r.Byteperchunk,r.Totalblobsize).then(function(p){e.preFlightData.dataToFill=p,e.preFlightData.dataToFill&&e.preFlightData.dataToFill.length>0&&!e.uploaded&&(e.pause||u.throttleSend(e,t,n))})}throttleSend(e,t,n){let r=e.preFlightData,u=e.preFlightData.dataToFill,p=e.fileObject;for(let h=0,g=u.length;h<g;h++)if(u){let y=p.slice(u[h].startSlice,u[h].endSlice);if(r.throttleSwitch)break;e.preFlightData.sentApi=e.preFlightData.sentApi+1,n.$uploadedFilesObject.set(t,e);let w=u[h].startSlice;this.uploadBlob(y,t,n,w)}}uploadBlob(e,t,n,r){let u=this.getDropbox(),p=this.getSessionID(t),h={session_id:p,offset:r},g=this,y=n.getUploadFileObject(t,g.driveSignature);if(y.preFlightData.sentApi===y.preFlightData.maxRequestToSend&&(y.preFlightData.throttleSwitch=!0,n.$uploadedFilesObject.set(t,y)),this.isLastOffset(t,r)){let o={path:n.getFileContainerEvent().getCurrentDirectory()+"/"+y.fileObject.name,mode:"add",autorename:!0,mute:!1};return u.filesUploadSessionFinish({cursor:{session_id:p,offset:y.fileObject.size},commit:o,contents:e}).then(function(){n.setUploadCompleted(t,g.driveSignature),localStorage.removeItem(t),n.isUploadingSequentially()&&(n.setSequenceDone(t,g.driveSignature),n.uploadFileNextSequence(g.driveSignature))})}else u.filesUploadSessionAppendV2({cursor:h,close:!1,contents:e}).then(()=>{g.updateOffsetDone(t,r),y.preFlightData.noOfReceivedResponse=y.preFlightData.noOfReceivedResponse+1,n.$uploadedFilesObject.set(t,y);let w=Math.round(g.uploadPercentage(t));y.preFlightData.noOfReceivedResponse===y.preFlightData.maxRequestToSend&&(n.releaseThrottle(t,g.driveSignature),y.uploaded||(g.uploadFile(y,t,n),n.updateFileProgress(t,w,g.driveSignature)))}).catch(w=>{if(w=w.error,w.error.hasOwnProperty("correct_offset")){let o=w.error.correct_offset;g.repairOffsetPosition(t,o),n.releaseThrottle(t,g.driveSignature),g.uploadFile(y,t,n)}})}createPreflightData(e,t,n,r){let u=this,p=u.driveSignature+"_"+e.fileObject.name;return new Promise(function(h,g){return oe(this,null,function*(){let y=u.getDropbox(),w;if(w=JSON.parse(localStorage.getItem(p)))return w=w.dataToFill.filter(m=>!m.done),h(w);let o=0,a=n,c=e.fileObject;w={session_id:"",dataToFill:[]};for(let m=0;m<=t;m++)m===0?yield y.filesUploadSessionStart({close:!1,contents:c.slice(o,a)}).then(b=>{w.dataToFill.push({startSlice:o,endSlice:a,done:!0}),w.session_id=b.result.session_id}).catch(function(){g()}):w.dataToFill.push({startSlice:o,endSlice:a,done:!1}),r=r-n,o=a,a=o+n;return localStorage.setItem(p,JSON.stringify(w)),w=w.dataToFill.filter(m=>!m.done),h(w)})})}isLastOffset(e,t){let n=JSON.parse(localStorage.getItem(e));return n?(n=n.dataToFill,n[n.length-1].startSlice===t):!1}updateOffsetDone(e,t,n=!0){let r=JSON.parse(localStorage.getItem(e));if(r){let u=r.dataToFill;for(let p=0,h=u.length;p<h;p++)if(u[p].startSlice===t){u[p].done=n,localStorage.setItem(e,JSON.stringify({session_id:r.session_id,dataToFill:u}));break}}}getSessionID(e){let t=JSON.parse(localStorage.getItem(e));return t?t.session_id:!1}uploadPercentage(e){let t=JSON.parse(localStorage.getItem(e));if(t){let n=t.dataToFill.length;return t.dataToFill.filter(u=>u.done).length/n*100}}repairOffsetPosition(e,t){let n=JSON.parse(localStorage.getItem(e));if(n){let r=n.dataToFill;for(let u=0,p=r.length;u<p&&!(r[u].endSlice>t);u++)r[u].endSlice<=t&&(r[u].done=!0,localStorage.setItem(e,JSON.stringify({session_id:n.session_id,dataToFill:r})))}}breadCrumbClickNavigationHandler(e){return new Promise((t,n)=>{this.listFolder(e).then(()=>t()).catch(()=>n())})}},"DropboxDiskDrive");d(Zi,"DropboxDiskDrive");var rn=v(class{constructor(){this._$driveSystem=new Map}get $driveSystem(){return this._$driveSystem}attachDriveStorage(e){return this.$driveSystem.set(e.driveSignature,e),this}detachDriveStorage(e){this.$driveSystem.has(e)&&this.$driveSystem.delete(e)}getDriveStorage(e){if(this.$driveSystem.has(e))return this.$driveSystem.get(e);throw new DOMException(`DriveStorage "${e}" doesn't exist`)}getFirstDriveStorage(){return[...this.$driveSystem][0][1]}},"StorageDriversManager");d(rn,"StorageDriversManager");window.hasOwnProperty("TonicsMedia")||(window.TonicsMedia={});window.TonicsMedia.StorageDriversManager=()=>new rn;var es=v(class{constructor(e){this.removePreviousCutFiles(e),this.cutSelectedFiles(e),e.removeContextMenu()}removePreviousCutFiles(e){e.cutFile=[]}cutSelectedFiles(e){let t=e.getAllSelectedFiles();t.length>0&&(e.cutFile=t)}},"CutFileEvent");d(es,"CutFileEvent");var an=v(class{constructor(e){this.fileContainerEvent=e,this.copiedLinkFile=e.getSelectedFile(),this.copiedLink=""}getFileContainerEvent(){return this.fileContainerEvent}handleCopyLink(e=null){let t=this;return this.getFileContainerEvent().currentDrive.copyPreviewLinkHandler(this.fileContainerEvent,e)}onSuccess(e){this.setCopiedLink(e),this.fileContainerEvent.removeContextMenu(),ee(T.Link.Copy.Preview.Success).then(),this.fileContainerEvent.dispatchEventToHandlers(this,an)}onError(e=null){K(T.Link.Copy.Preview.Error).then()}getCopiedLinkFile(){return this.copiedLinkFile}setCopiedLink(e){this.copiedLink=e}getCopiedLink(){return this.copiedLink}},"CopyPreviewLinkEvent");d(an,"CopyPreviewLinkEvent");var ln=v(class{get renamedFile(){return this._renamedFile}set renamedFile(e){this._renamedFile=e}constructor(e){this.fileContainerEvent=e}handleRenameFile(){let e=this.fileContainerEvent.getSelectedFile();if(e){let t=e.querySelector(".tonics-file-filename-input");this.fileContainerEvent.removeContextMenu(),Kt("Rename File To: ",t.value).then(n=>{n.isConfirmed&&(t.value=n.value,this.fileContainerEvent.currentDrive.renameFileHandler(e,this.fileContainerEvent).then(r=>{this.onSuccess(r)}).catch(()=>{this.onError()}))})}}onSuccess(e=""){ee(T.Rename.Success).then(),this.renamedFile=e,this.fileContainerEvent.clearSelection(),this.fileContainerEvent.dispatchEventToHandlers(this,ln)}onError(e=""){K(T.Rename.Error).then()}},"RenameFileEvent");d(ln,"RenameFileEvent");var cn=v(class{constructor(e){this.fileContainerEvent=e}handleDeleteFile(){return oe(this,null,function*(){let e=this.fileContainerEvent;e.removeDeletionMark(e.getAllFiles());let t=e.getAllSelectedFiles(),n=[];return t.length>0&&(e.markForDeletion(t),e.getFilesToBeDeleted().forEach(r=>{n.push(r.dataset)})),e.removeContextMenu(),e.currentDrive.deleteFileHandler(n,e)})}onSuccess(e=""){this.fileContainerEvent.resetPreviousFilesState(),e||(e=T.Deleted.Success),ee(e).then(),this.fileContainerEvent.dispatchEventToHandlers(this,cn)}onError(e=""){K(T.Deleted.Error).then()}},"DeleteFileEvent");d(cn,"DeleteFileEvent");var un=v(class{constructor(e){this.fileContainerEvent=e}handlePasteFile(){let e=this.fileContainerEvent;e.removeContextMenu();let t=e.getSelectedFile();return t||(t=document.createElement("li"),t.dataset.file_type="directory",t.dataset.file_path=e.getCurrentDirectory(),t.dataset.filename=e.getCurrentDirectoryFilename(),t.dataset.ext="null"),t&&t.dataset.ext=="null"&&t.dataset.file_type=="directory"?(t.dataset.paste="true",e.currentDrive.moveFileHandler(t,e)):!1}onSuccess(e=""){this.fileContainerEvent.resetPreviousFilesState(),this.fileContainerEvent.cutFile=[],e||(e=T.Move.Success),ee(e).then(),this.fileContainerEvent.dispatchEventToHandlers(this,un)}onError(e=""){e?K(e).then():K(T.Move.Error).then()}},"PasteFileEvent");d(un,"PasteFileEvent");var ts=v(class{constructor(e){this.fileContainerEvent=e,this.handleEditImageFile()}handleEditImageFile(){let e=this;Jt(et.FileRobotImageEditor.PATH,et.FileRobotImageEditor.ID).then(function(){return e.fileContainerEvent.currentDrive.editImageHandler(new st(e.fileContainerEvent,null,null))}.bind(e))}},"EditImageFileEvent");d(ts,"EditImageFileEvent");var zt=v(class{constructor(e,t,n){this._cutFile=[],this._pasteTo=null,this.fileContainer=e,this.loadDriveEventClass=t,this.currentDrive=n}get currentDrive(){return this._currentDrive}set currentDrive(e){this._currentDrive=e}get cutFile(){return this._cutFile}set cutFile(e){this._cutFile=e}get pasteTo(){return this._pasteTo}set pasteTo(e){this._pasteTo=e}getFileContainer(){return this.fileContainer}getLoadDriveEventClass(){return this.loadDriveEventClass}getCurrentDirectory(){var e,t;return(t=(e=document.querySelector(".breadcrumb"))==null?void 0:e.lastElementChild)==null?void 0:t.getAttribute("data-pathtrail")}getCurrentDirectoryFilename(){var e,t;return(t=(e=document.querySelector(".breadcrumb"))==null?void 0:e.lastElementChild)==null?void 0:t.getAttribute("data-filename")}getBreadCrumbElement(){return document.querySelector(".breadcrumb")}titleCase(e){return e.toLowerCase().replace(/\b(\w)/g,function(t){return t.toLocaleUpperCase()})}getSelectedFile(){return document.querySelector('[data-selected="true"]')}getAllSelectedFiles(){return document.querySelectorAll('[data-selected="true"]')}getAllFiles(){return document.querySelectorAll("li.tonics-file")}getCutFiles(){return this.cutFile}getFilesToBeDeleted(){return document.querySelectorAll('[data-delete="true"]')}getFileByListID(e){return document.querySelector(`[data-list_id="${e}"]`)}getCopiedFiles(){return document.querySelectorAll('[data-copied="true"]')}getContextMenu(){return document.querySelector(A.FILES.CONTEXT)}getDiskDrives(){return document.querySelector(A.DRIVE.FILE_DISK_DRIVES)}removeContextMenu(){this.getContextMenu().classList.remove("show")}highlightFile(e){e.classList.add("selected-file"),e.dataset.selected="true";let t=document.querySelector(A.HEAD.PARENT);switch(t.style.top="0",e.dataset.file_type){case"directory":return this.cutFile.length>0?Te([C().PASTE_FILE,C().RENAME_FILE,C().CUT_FILE,C().DELETE_FILE]):Te([C().RENAME_FILE,C().CUT_FILE,C().DELETE_FILE]);case"file":if(this.cutFile.length>0)return Te([C().PASTE_FILE,C().RENAME_FILE,C().CUT_FILE,C().DELETE_FILE]);Te([C().RENAME_FILE,C().CUT_FILE,C().DELETE_FILE,C().COPY_PREVIEW_LINK,C().COPY_LINK])}}unHighlightFile(e){e.classList.remove("selected-file"),e.dataset.selected="false",e.setAttribute("readonly","true"),this.getAllSelectedFiles().length<1&&Ot([C().RENAME_FILE,C().CUT_FILE,C().DELETE_FILE,C().PASTE_FILE,C().COPY_PREVIEW_LINK,C().COPY_LINK])}resetPreviousFilesState(){let e=A.FILES.SINGLE_FILE,t=document.querySelector(A.HEAD.PARENT),n=t==null?void 0:t.getBoundingClientRect().height;if(t.style.top=`-${n}px`,document.querySelectorAll(e).forEach(r=>{var u;r.classList.remove("selected-file"),r.setAttribute("data-selected","false"),(u=r.querySelector(".tonics-file-filename-input"))==null||u.setAttribute("readonly","true")}),Ot([C().RENAME_FILE,C().CUT_FILE,C().DELETE_FILE,C().PASTE_FILE,C().COPY_PREVIEW_LINK,C().COPY_LINK]),this.cutFile.length>0)return Te([C().PASTE_FILE])}removeAllDriveSelectionMark(){this.loadDriveEventClass.removeAllDriveSelectionMark()}removeDeletionMark(e){e.length>0&&e.forEach(t=>{t.dataset.delete="false"})}markForDeletion(e){e.length>0&&e.forEach(t=>{t.dataset.delete="true"})}clearSelection(){var e;(e=window==null?void 0:window.getSelection())==null||e.empty()}menuEventAction(e){let t=this;if(Ze.hasOwnProperty(e)){let n=C(),r;for(r in n){let u=n[r];if(u==e)switch(u){case"EditImageFileEvent":return t.editImageFileEvent();case"DeleteFileEvent":return t.deleteFileEvent();case"RenameFileEvent":return t.renameFileEvent();case"PasteFileEvent":return t.pasteFileEvent();case"UploadFileEvent":return t.uploadFileEvent();case"CopyLinkEvent":return t.copyLinkEvent();case"CopyPreviewLinkEvent":return t.copyPreviewLinkEvent();case"CutFileEvent":return new es(this);case"NewFolderEvent":Kt("Folder Name").then(p=>{if(this.removeContextMenu(),p.isConfirmed){let h={name:p.value};return t.currentDrive.createFolder(this,h).then(function(){ee(T.Folder.Success).then(),t.currentDrive.refresh(t).then()}.bind(t)).catch(function(){K(T.Folder.Error).then()})}});return;case"RefreshFolderEvent":return t.refreshFolderEvent();default:break}}}}dispatchEventToHandlers(e,t){pe(e,t)}editImageFileEvent(){new ts(this)}refreshFolderEvent(){return this.currentDrive.refresh(this).then(()=>{this.removeContextMenu(),ee(T.Refresh.Success).then()})}deleteFileEvent(){let e=new cn(this);Yt("Are You Sure You Want To Delete File(s) ?","Delete",()=>{e.handleDeleteFile().then(t=>{e.onSuccess(t)}).catch(function(){e.onError()})})}pasteFileEvent(){let e=new un(this),t=e.handlePasteFile();t instanceof Promise&&t.then(n=>{e.onSuccess(n)}).catch(function(){e.onError()}),t===!1&&e.onError("Failed To Paste Into Directory")}copyLinkEvent(){let e=new ot(this);e.handleCopyLink(this.getSelectedFile()).then(t=>{e.onSuccess(t)}).catch(t=>{e.onError()})}copyPreviewLinkEvent(){let e=new an(this);e.handleCopyLink(this.getSelectedFile()).then(t=>{e.onSuccess(t)}).catch(function(){e.onError()})}renameFileEvent(){new ln(this).handleRenameFile()}uploadFileEvent(){let e=this,t=document.createElement("input");t.type="file",t.multiple=!0,t.click(),t.onchange=function(n){let r=n.target.files,u=e.getCurrentDirectory();new st(e,r,u)}}},"FileContainerEvent");d(zt,"FileContainerEvent");var tt=v(class{constructor(e,t){this.data=e,this.loadDriveEventClass=t}getData(){return this.data}getLoadDriveEventClass(){return this.loadDriveEventClass}getFiles(){var e;return(e=this.getData())==null?void 0:e.data}getCurrentPath(){var e;return(e=this.getData())==null?void 0:e.more}getBreadCrumbElement(){return document.querySelector(".breadcrumb")}},"LoadDriveDataEvent");d(tt,"LoadDriveDataEvent");window.hasOwnProperty("TonicsScript")||(window.TonicsMedia={});window.TonicsMedia.LoadDriveDataEvent=(e,t)=>new tt(e,t);var dn=v(class{get appURL(){return this._appURL}set appURL(e){this._appURL=e}get eventsConfig(){return this._eventsConfig}set eventsConfig(e){this._eventsConfig=e}get driveStorageManager(){return this._driveStorageManager}set driveStorageManager(e){this._driveStorageManager=e}constructor(e,t=""){window.TonicsFileManager={events:{}},this._eventsConfig=Ze,this.driveStorageManager=e;let n=document.querySelector(".tonics-files-parent"),r=n==null?void 0:n.querySelector(".tonics-files-container");if(this._appURL=t,this.processDriveRootFolder(),r){let u=Pe(this.eventsConfig,zt),p=new zt(r,this,this.driveStorageManager.getFirstDriveStorage());window.TonicsFileManager.events.fileContainerEvent=p,window.TonicsFileManager.events.loadDriveEvent=this,this.getEventDispatcher().setHandler(u).dispatch(p)}}processDriveRootFolder(){let e=document.querySelector(A.DRIVE.DISK_DRIVE_CONTAINER);e==null||e.replaceChildren(),this.driveStorageManager.$driveSystem.forEach(function(t,n){let r=t.getDriveIcon();e==null||e.insertAdjacentHTML("beforeend",`
            <li class="tonics-individual-drive" data-drivename=${n}>
          <a href="javascript:void(0);" class="drive-link">
              <button class="drive-toggle" aria-expanded="false" aria-label="Expand child menu">
                  <svg class="icon tonics-drive-icon">
                      <use class="svgUse" xlink:href=${r}></use>
                  </svg>
              </button>
              <span class="tonics-drive-selected display-none"> \u2713 </span>
              &nbsp;
              <!-- DRIVE NAME -->
              <span class="drive-name"> ${n} Drive</span>
          </a>
      </li>`)})}processFiles(e){let t=Pe(Ze,tt);this.getEventDispatcher().setHandler(t).dispatch(new tt(e,this))}bootDiskDrive(e){if(!this.driveStorageManager.$driveSystem.has(e))throw new DOMException(`Couldn't Boot Drive "${e}", Perhaps, It Doesn't Exit?`);Rt(),this.driveStorageManager.getDriveStorage(e).coldBootStorageDisk().then(()=>{Rt(!1),this.removeAllDriveSelectionMark(),document.querySelector(`[data-drivename="${e}"]`).querySelector(A.DRIVE.DRIVE_SELECTED).classList.remove("display-none")})}removeAllDriveSelectionMark(){let e=A.DRIVE.DRIVE_SELECTED;document.querySelectorAll(e).forEach(t=>{t.classList.add("display-none")})}successMessage(e){return ee(e)}errorMessage(e){return K(e)}getEventDispatcher(){return new rt}},"LoadDriveEvent");d(dn,"LoadDriveEvent");window.hasOwnProperty("TonicsScript")||(window.TonicsMedia={});window.TonicsMedia.LoadDriveEvent=(e,t="")=>new dn(e,t);var ns=v(class{constructor(e){if(e==="LocalDiskDrive")return(t,n="",r)=>new Ji(this.replaceSpaceWithDashAndFilter(t),n,r);if(e==="DropboxDiskDrive")return(t,n)=>new Zi(this.replaceSpaceWithDashAndFilter(t),n);if(e==="StorageDriversManager")return new rn;if(e==="LoadDriveEvent")return(t,n="")=>new dn(t,n)}replaceSpaceWithDashAndFilter(e){return e.replace(/\s/g,"-").match(/^[a-zA-Z0-9-]+$/g)?e.replace(/\s/g,"-").match(/^[a-zA-Z0-9-]+$/g)[0]:""}},"TonicsFileManagerExcrete");d(ns,"TonicsFileManagerExcrete");window.hasOwnProperty("TonicsMedia")||(window.TonicsMedia={});window.TonicsMedia.TonicsFileManagerExcrete=e=>new ns(e);function pn(e,t,n,r=null){let u,p,h,g;u=n.left-t.getBoundingClientRect().left,p=n.top-t.getBoundingClientRect().top,h=t.getBoundingClientRect().left-n.left,g=t.getBoundingClientRect().top-n.top,e.classList.add("draggable-transition"),t.classList.add("draggable-transition"),t.style.transform="translate("+u+"px,"+p+"px)",e.style.transform="translate("+h+"px,"+g+"px)";function y(){e.classList.remove("draggable-transition"),t.classList.remove("draggable-transition"),e.removeAttribute("style"),t.removeAttribute("style");let w=document.createElement("div");e.parentNode.insertBefore(w,e),t.parentNode.insertBefore(e,t),w.parentNode.insertBefore(t,w),w.parentNode.removeChild(w)}v(y,"swap"),t.addEventListener("transitionend",()=>{y(),r&&r()},{once:!0})}v(pn,"swapNodes");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.swapNodes=(e,t,n,r=null)=>pn(e,t,n,r);(function(){"use strict";var e=v(function(){this.init()},"e");e.prototype={init:function(){var o=this||t;return o._counter=1e3,o._html5AudioPool=[],o.html5PoolSize=10,o._codecs={},o._howls=[],o._muted=!1,o._volume=1,o._canPlayEvent="canplaythrough",o._navigator=typeof window!="undefined"&&window.navigator?window.navigator:null,o.masterGain=null,o.noAudio=!1,o.usingWebAudio=!0,o.autoSuspend=!0,o.ctx=null,o.autoUnlock=!0,o._setup(),o},volume:function(o){var a=this||t;if(o=parseFloat(o),a.ctx||w(),o!==void 0&&o>=0&&o<=1){if(a._volume=o,a._muted)return a;a.usingWebAudio&&a.masterGain.gain.setValueAtTime(o,t.ctx.currentTime);for(var c=0;c<a._howls.length;c++)if(!a._howls[c]._webAudio)for(var m=a._howls[c]._getSoundIds(),b=0;b<m.length;b++){var k=a._howls[c]._soundById(m[b]);k&&k._node&&(k._node.volume=k._volume*o)}return a}return a._volume},mute:function(o){var a=this||t;a.ctx||w(),a._muted=o,a.usingWebAudio&&a.masterGain.gain.setValueAtTime(o?0:a._volume,t.ctx.currentTime);for(var c=0;c<a._howls.length;c++)if(!a._howls[c]._webAudio)for(var m=a._howls[c]._getSoundIds(),b=0;b<m.length;b++){var k=a._howls[c]._soundById(m[b]);k&&k._node&&(k._node.muted=!!o||k._muted)}return a},stop:function(){for(var o=this||t,a=0;a<o._howls.length;a++)o._howls[a].stop();return o},unload:function(){for(var o=this||t,a=o._howls.length-1;a>=0;a--)o._howls[a].unload();return o.usingWebAudio&&o.ctx&&o.ctx.close!==void 0&&(o.ctx.close(),o.ctx=null,w()),o},codecs:function(o){return(this||t)._codecs[o.replace(/^x-/,"")]},_setup:function(){var o=this||t;if(o.state=o.ctx&&o.ctx.state||"suspended",o._autoSuspend(),!o.usingWebAudio)if(typeof Audio!="undefined")try{var a=new Audio;a.oncanplaythrough===void 0&&(o._canPlayEvent="canplay")}catch(c){o.noAudio=!0}else o.noAudio=!0;try{var a=new Audio;a.muted&&(o.noAudio=!0)}catch(c){}return o.noAudio||o._setupCodecs(),o},_setupCodecs:function(){var o=this||t,a=null;try{a=typeof Audio!="undefined"?new Audio:null}catch(R){return o}if(!a||typeof a.canPlayType!="function")return o;var c=a.canPlayType("audio/mpeg;").replace(/^no$/,""),m=o._navigator?o._navigator.userAgent:"",b=m.match(/OPR\/([0-6].)/g),k=b&&parseInt(b[0].split("/")[1],10)<33,_=m.indexOf("Safari")!==-1&&m.indexOf("Chrome")===-1,x=m.match(/Version\/(.*?) /),L=_&&x&&parseInt(x[1],10)<15;return o._codecs={mp3:!(k||!c&&!a.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!c,opus:!!a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(a.canPlayType('audio/wav; codecs="1"')||a.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!a.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!a.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(a.canPlayType("audio/x-m4b;")||a.canPlayType("audio/m4b;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(a.canPlayType("audio/x-mp4;")||a.canPlayType("audio/mp4;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(L||!a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(L||!a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!a.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(a.canPlayType("audio/x-flac;")||a.canPlayType("audio/flac;")).replace(/^no$/,"")},o},_unlockAudio:function(){var o=this||t;if(!o._audioUnlocked&&o.ctx){o._audioUnlocked=!1,o.autoUnlock=!1,o._mobileUnloaded||o.ctx.sampleRate===44100||(o._mobileUnloaded=!0,o.unload()),o._scratchBuffer=o.ctx.createBuffer(1,1,22050);var a=v(function(c){for(;o._html5AudioPool.length<o.html5PoolSize;)try{var m=new Audio;m._unlocked=!0,o._releaseHtml5Audio(m)}catch(R){o.noAudio=!0;break}for(var b=0;b<o._howls.length;b++)if(!o._howls[b]._webAudio)for(var k=o._howls[b]._getSoundIds(),_=0;_<k.length;_++){var x=o._howls[b]._soundById(k[_]);x&&x._node&&!x._node._unlocked&&(x._node._unlocked=!0,x._node.load())}o._autoResume();var L=o.ctx.createBufferSource();L.buffer=o._scratchBuffer,L.connect(o.ctx.destination),L.start===void 0?L.noteOn(0):L.start(0),typeof o.ctx.resume=="function"&&o.ctx.resume(),L.onended=function(){L.disconnect(0),o._audioUnlocked=!0,document.removeEventListener("touchstart",a,!0),document.removeEventListener("touchend",a,!0),document.removeEventListener("click",a,!0),document.removeEventListener("keydown",a,!0);for(var R=0;R<o._howls.length;R++)o._howls[R]._emit("unlock")}},"o");return document.addEventListener("touchstart",a,!0),document.addEventListener("touchend",a,!0),document.addEventListener("click",a,!0),document.addEventListener("keydown",a,!0),o}},_obtainHtml5Audio:function(){var o=this||t;if(o._html5AudioPool.length)return o._html5AudioPool.pop();var a=new Audio().play();return a&&typeof Promise!="undefined"&&(a instanceof Promise||typeof a.then=="function")&&a.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(o){var a=this||t;return o._unlocked&&a._html5AudioPool.push(o),a},_autoSuspend:function(){var o=this;if(o.autoSuspend&&o.ctx&&o.ctx.suspend!==void 0&&t.usingWebAudio){for(var a=0;a<o._howls.length;a++)if(o._howls[a]._webAudio){for(var c=0;c<o._howls[a]._sounds.length;c++)if(!o._howls[a]._sounds[c]._paused)return o}return o._suspendTimer&&clearTimeout(o._suspendTimer),o._suspendTimer=setTimeout(function(){if(o.autoSuspend){o._suspendTimer=null,o.state="suspending";var m=v(function(){o.state="suspended",o._resumeAfterSuspend&&(delete o._resumeAfterSuspend,o._autoResume())},"n");o.ctx.suspend().then(m,m)}},3e4),o}},_autoResume:function(){var o=this;if(o.ctx&&o.ctx.resume!==void 0&&t.usingWebAudio)return o.state==="running"&&o.ctx.state!=="interrupted"&&o._suspendTimer?(clearTimeout(o._suspendTimer),o._suspendTimer=null):o.state==="suspended"||o.state==="running"&&o.ctx.state==="interrupted"?(o.ctx.resume().then(function(){o.state="running";for(var a=0;a<o._howls.length;a++)o._howls[a]._emit("resume")}),o._suspendTimer&&(clearTimeout(o._suspendTimer),o._suspendTimer=null)):o.state==="suspending"&&(o._resumeAfterSuspend=!0),o}};var t=new e,n=v(function(o){var a=this;if(!o.src||o.src.length===0)return void console.error("An array of source files must be passed with any new Howl.");a.init(o)},"o");n.prototype={init:function(o){var a=this;return t.ctx||w(),a._autoplay=o.autoplay||!1,a._format=typeof o.format!="string"?o.format:[o.format],a._html5=o.html5||!1,a._muted=o.mute||!1,a._loop=o.loop||!1,a._pool=o.pool||5,a._preload=typeof o.preload!="boolean"&&o.preload!=="metadata"||o.preload,a._rate=o.rate||1,a._sprite=o.sprite||{},a._src=typeof o.src!="string"?o.src:[o.src],a._volume=o.volume!==void 0?o.volume:1,a._xhr={method:o.xhr&&o.xhr.method?o.xhr.method:"GET",headers:o.xhr&&o.xhr.headers?o.xhr.headers:null,withCredentials:!(!o.xhr||!o.xhr.withCredentials)&&o.xhr.withCredentials},a._duration=0,a._state="unloaded",a._sounds=[],a._endTimers={},a._queue=[],a._playLock=!1,a._onend=o.onend?[{fn:o.onend}]:[],a._onfade=o.onfade?[{fn:o.onfade}]:[],a._onload=o.onload?[{fn:o.onload}]:[],a._onloaderror=o.onloaderror?[{fn:o.onloaderror}]:[],a._onplayerror=o.onplayerror?[{fn:o.onplayerror}]:[],a._onpause=o.onpause?[{fn:o.onpause}]:[],a._onplay=o.onplay?[{fn:o.onplay}]:[],a._onstop=o.onstop?[{fn:o.onstop}]:[],a._onmute=o.onmute?[{fn:o.onmute}]:[],a._onvolume=o.onvolume?[{fn:o.onvolume}]:[],a._onrate=o.onrate?[{fn:o.onrate}]:[],a._onseek=o.onseek?[{fn:o.onseek}]:[],a._onunlock=o.onunlock?[{fn:o.onunlock}]:[],a._onresume=[],a._webAudio=t.usingWebAudio&&!a._html5,t.ctx!==void 0&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(a),a._autoplay&&a._queue.push({event:"play",action:function(){a.play()}}),a._preload&&a._preload!=="none"&&a.load(),a},load:function(){var o=this,a=null;if(t.noAudio)return void o._emit("loaderror",null,"No audio support.");typeof o._src=="string"&&(o._src=[o._src]);for(var c=0;c<o._src.length;c++){var m,b;if(o._format&&o._format[c])m=o._format[c];else{if(typeof(b=o._src[c])!="string"){o._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}m=/^data:audio\/([^;,]+);/i.exec(b),m||(m=/\.([^.]+)$/.exec(b.split("?",1)[0])),m&&(m=m[1].toLowerCase())}if(m||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),m&&t.codecs(m)){a=o._src[c];break}}return a?(o._src=a,o._state="loading",window.location.protocol==="https:"&&a.slice(0,5)==="http:"&&(o._html5=!0,o._webAudio=!1),new r(o),o._webAudio&&p(o),o):void o._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(o,a){var c=this,m=null;if(typeof o=="number")m=o,o=null;else{if(typeof o=="string"&&c._state==="loaded"&&!c._sprite[o])return null;if(o===void 0&&(o="__default",!c._playLock)){for(var b=0,k=0;k<c._sounds.length;k++)c._sounds[k]._paused&&!c._sounds[k]._ended&&(b++,m=c._sounds[k]._id);b===1?o=null:m=null}}var _=m?c._soundById(m):c._inactiveSound();if(!_)return null;if(m&&!o&&(o=_._sprite||"__default"),c._state!=="loaded"){_._sprite=o,_._ended=!1;var x=_._id;return c._queue.push({event:"play",action:function(){c.play(x)}}),x}if(m&&!_._paused)return a||c._loadQueue("play"),_._id;c._webAudio&&t._autoResume();var L=Math.max(0,_._seek>0?_._seek:c._sprite[o][0]/1e3),R=Math.max(0,(c._sprite[o][0]+c._sprite[o][1])/1e3-L),Y=1e3*R/Math.abs(_._rate),E=c._sprite[o][0]/1e3,ae=(c._sprite[o][0]+c._sprite[o][1])/1e3;_._sprite=o,_._ended=!1;var H=v(function(){_._paused=!1,_._seek=L,_._start=E,_._stop=ae,_._loop=!(!_._loop&&!c._sprite[o][2])},"p");if(L>=ae)return void c._ended(_);var B=_._node;if(c._webAudio){var z=v(function(){c._playLock=!1,H(),c._refreshBuffer(_);var ne=_._muted||c._muted?0:_._volume;B.gain.setValueAtTime(ne,t.ctx.currentTime),_._playStart=t.ctx.currentTime,B.bufferSource.start===void 0?_._loop?B.bufferSource.noteGrainOn(0,L,86400):B.bufferSource.noteGrainOn(0,L,R):_._loop?B.bufferSource.start(0,L,86400):B.bufferSource.start(0,L,R),Y!==1/0&&(c._endTimers[_._id]=setTimeout(c._ended.bind(c,_),Y)),a||setTimeout(function(){c._emit("play",_._id),c._loadQueue()},0)},"v");t.state==="running"&&t.ctx.state!=="interrupted"?z():(c._playLock=!0,c.once("resume",z),c._clearTimer(_._id))}else{var q=v(function(){B.currentTime=L,B.muted=_._muted||c._muted||t._muted||B.muted,B.volume=_._volume*t.volume(),B.playbackRate=_._rate;try{var ne=B.play();if(ne&&typeof Promise!="undefined"&&(ne instanceof Promise||typeof ne.then=="function")?(c._playLock=!0,H(),ne.then(function(){c._playLock=!1,B._unlocked=!0,a?c._loadQueue():c._emit("play",_._id)}).catch(function(){c._playLock=!1,c._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),_._ended=!0,_._paused=!0})):a||(c._playLock=!1,H(),c._emit("play",_._id)),B.playbackRate=_._rate,B.paused)return void c._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");o!=="__default"||_._loop?c._endTimers[_._id]=setTimeout(c._ended.bind(c,_),Y):(c._endTimers[_._id]=function(){c._ended(_),B.removeEventListener("ended",c._endTimers[_._id],!1)},B.addEventListener("ended",c._endTimers[_._id],!1))}catch(Ve){c._emit("playerror",_._id,Ve)}},"h");B.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(B.src=c._src,B.load());var ge=window&&window.ejecta||!B.readyState&&t._navigator.isCocoonJS;if(B.readyState>=3||ge)q();else{c._playLock=!0,c._state="loading";var Ae=v(function(){c._state="loaded",q(),B.removeEventListener(t._canPlayEvent,Ae,!1)},"g");B.addEventListener(t._canPlayEvent,Ae,!1),c._clearTimer(_._id)}}return _._id},pause:function(o){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"pause",action:function(){a.pause(o)}}),a;for(var c=a._getSoundIds(o),m=0;m<c.length;m++){a._clearTimer(c[m]);var b=a._soundById(c[m]);if(b&&!b._paused&&(b._seek=a.seek(c[m]),b._rateSeek=0,b._paused=!0,a._stopFade(c[m]),b._node))if(a._webAudio){if(!b._node.bufferSource)continue;b._node.bufferSource.stop===void 0?b._node.bufferSource.noteOff(0):b._node.bufferSource.stop(0),a._cleanBuffer(b._node)}else isNaN(b._node.duration)&&b._node.duration!==1/0||b._node.pause();arguments[1]||a._emit("pause",b?b._id:null)}return a},stop:function(o,a){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"stop",action:function(){c.stop(o)}}),c;for(var m=c._getSoundIds(o),b=0;b<m.length;b++){c._clearTimer(m[b]);var k=c._soundById(m[b]);k&&(k._seek=k._start||0,k._rateSeek=0,k._paused=!0,k._ended=!0,c._stopFade(m[b]),k._node&&(c._webAudio?k._node.bufferSource&&(k._node.bufferSource.stop===void 0?k._node.bufferSource.noteOff(0):k._node.bufferSource.stop(0),c._cleanBuffer(k._node)):isNaN(k._node.duration)&&k._node.duration!==1/0||(k._node.currentTime=k._start||0,k._node.pause(),k._node.duration===1/0&&c._clearSound(k._node))),a||c._emit("stop",k._id))}return c},mute:function(o,a){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"mute",action:function(){c.mute(o,a)}}),c;if(a===void 0){if(typeof o!="boolean")return c._muted;c._muted=o}for(var m=c._getSoundIds(a),b=0;b<m.length;b++){var k=c._soundById(m[b]);k&&(k._muted=o,k._interval&&c._stopFade(k._id),c._webAudio&&k._node?k._node.gain.setValueAtTime(o?0:k._volume,t.ctx.currentTime):k._node&&(k._node.muted=!!t._muted||o),c._emit("mute",k._id))}return c},volume:function(){var o,a,c=this,m=arguments;if(m.length===0)return c._volume;m.length===1||m.length===2&&m[1]===void 0?c._getSoundIds().indexOf(m[0])>=0?a=parseInt(m[0],10):o=parseFloat(m[0]):m.length>=2&&(o=parseFloat(m[0]),a=parseInt(m[1],10));var b;if(!(o!==void 0&&o>=0&&o<=1))return b=a?c._soundById(a):c._sounds[0],b?b._volume:0;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"volume",action:function(){c.volume.apply(c,m)}}),c;a===void 0&&(c._volume=o),a=c._getSoundIds(a);for(var k=0;k<a.length;k++)(b=c._soundById(a[k]))&&(b._volume=o,m[2]||c._stopFade(a[k]),c._webAudio&&b._node&&!b._muted?b._node.gain.setValueAtTime(o,t.ctx.currentTime):b._node&&!b._muted&&(b._node.volume=o*t.volume()),c._emit("volume",b._id));return c},fade:function(o,a,c,m){var b=this;if(b._state!=="loaded"||b._playLock)return b._queue.push({event:"fade",action:function(){b.fade(o,a,c,m)}}),b;o=Math.min(Math.max(0,parseFloat(o)),1),a=Math.min(Math.max(0,parseFloat(a)),1),c=parseFloat(c),b.volume(o,m);for(var k=b._getSoundIds(m),_=0;_<k.length;_++){var x=b._soundById(k[_]);if(x){if(m||b._stopFade(k[_]),b._webAudio&&!x._muted){var L=t.ctx.currentTime,R=L+c/1e3;x._volume=o,x._node.gain.setValueAtTime(o,L),x._node.gain.linearRampToValueAtTime(a,R)}b._startFadeInterval(x,o,a,c,k[_],m===void 0)}}return b},_startFadeInterval:function(o,a,c,m,b,k){var _=this,x=a,L=c-a,R=Math.abs(L/.01),Y=Math.max(4,R>0?m/R:m),E=Date.now();o._fadeTo=c,o._interval=setInterval(function(){var ae=(Date.now()-E)/m;E=Date.now(),x+=L*ae,x=Math.round(100*x)/100,x=L<0?Math.max(c,x):Math.min(c,x),_._webAudio?o._volume=x:_.volume(x,o._id,!0),k&&(_._volume=x),(c<a&&x<=c||c>a&&x>=c)&&(clearInterval(o._interval),o._interval=null,o._fadeTo=null,_.volume(c,o._id),_._emit("fade",o._id))},Y)},_stopFade:function(o){var a=this,c=a._soundById(o);return c&&c._interval&&(a._webAudio&&c._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(c._interval),c._interval=null,a.volume(c._fadeTo,o),c._fadeTo=null,a._emit("fade",o)),a},loop:function(){var o,a,c,m=this,b=arguments;if(b.length===0)return m._loop;if(b.length===1){if(typeof b[0]!="boolean")return!!(c=m._soundById(parseInt(b[0],10)))&&c._loop;o=b[0],m._loop=o}else b.length===2&&(o=b[0],a=parseInt(b[1],10));for(var k=m._getSoundIds(a),_=0;_<k.length;_++)(c=m._soundById(k[_]))&&(c._loop=o,m._webAudio&&c._node&&c._node.bufferSource&&(c._node.bufferSource.loop=o,o&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop,m.playing(k[_])&&(m.pause(k[_],!0),m.play(k[_],!0)))));return m},rate:function(){var o,a,c=this,m=arguments;if(m.length===0)a=c._sounds[0]._id;else if(m.length===1){var b=c._getSoundIds(),k=b.indexOf(m[0]);k>=0?a=parseInt(m[0],10):o=parseFloat(m[0])}else m.length===2&&(o=parseFloat(m[0]),a=parseInt(m[1],10));var _;if(typeof o!="number")return _=c._soundById(a),_?_._rate:c._rate;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"rate",action:function(){c.rate.apply(c,m)}}),c;a===void 0&&(c._rate=o),a=c._getSoundIds(a);for(var x=0;x<a.length;x++)if(_=c._soundById(a[x])){c.playing(a[x])&&(_._rateSeek=c.seek(a[x]),_._playStart=c._webAudio?t.ctx.currentTime:_._playStart),_._rate=o,c._webAudio&&_._node&&_._node.bufferSource?_._node.bufferSource.playbackRate.setValueAtTime(o,t.ctx.currentTime):_._node&&(_._node.playbackRate=o);var L=c.seek(a[x]),R=(c._sprite[_._sprite][0]+c._sprite[_._sprite][1])/1e3-L,Y=1e3*R/Math.abs(_._rate);!c._endTimers[a[x]]&&_._paused||(c._clearTimer(a[x]),c._endTimers[a[x]]=setTimeout(c._ended.bind(c,_),Y)),c._emit("rate",_._id)}return c},seek:function(){var o,a,c=this,m=arguments;if(m.length===0)c._sounds.length&&(a=c._sounds[0]._id);else if(m.length===1){var b=c._getSoundIds(),k=b.indexOf(m[0]);k>=0?a=parseInt(m[0],10):c._sounds.length&&(a=c._sounds[0]._id,o=parseFloat(m[0]))}else m.length===2&&(o=parseFloat(m[0]),a=parseInt(m[1],10));if(a===void 0)return 0;if(typeof o=="number"&&(c._state!=="loaded"||c._playLock))return c._queue.push({event:"seek",action:function(){c.seek.apply(c,m)}}),c;var _=c._soundById(a);if(_){if(!(typeof o=="number"&&o>=0)){if(c._webAudio){var x=c.playing(a)?t.ctx.currentTime-_._playStart:0,L=_._rateSeek?_._rateSeek-_._seek:0;return _._seek+(L+x*Math.abs(_._rate))}return _._node.currentTime}var R=c.playing(a);R&&c.pause(a,!0),_._seek=o,_._ended=!1,c._clearTimer(a),c._webAudio||!_._node||isNaN(_._node.duration)||(_._node.currentTime=o);var Y=v(function(){R&&c.play(a,!0),c._emit("seek",a)},"l");if(R&&!c._webAudio){var E=v(function(){c._playLock?setTimeout(E,0):Y()},"c");setTimeout(E,0)}else Y()}return c},playing:function(o){var a=this;if(typeof o=="number"){var c=a._soundById(o);return!!c&&!c._paused}for(var m=0;m<a._sounds.length;m++)if(!a._sounds[m]._paused)return!0;return!1},duration:function(o){var a=this,c=a._duration,m=a._soundById(o);return m&&(c=a._sprite[m._sprite][1]/1e3),c},state:function(){return this._state},unload:function(){for(var o=this,a=o._sounds,c=0;c<a.length;c++)a[c]._paused||o.stop(a[c]._id),o._webAudio||(o._clearSound(a[c]._node),a[c]._node.removeEventListener("error",a[c]._errorFn,!1),a[c]._node.removeEventListener(t._canPlayEvent,a[c]._loadFn,!1),a[c]._node.removeEventListener("ended",a[c]._endFn,!1),t._releaseHtml5Audio(a[c]._node)),delete a[c]._node,o._clearTimer(a[c]._id);var m=t._howls.indexOf(o);m>=0&&t._howls.splice(m,1);var b=!0;for(c=0;c<t._howls.length;c++)if(t._howls[c]._src===o._src||o._src.indexOf(t._howls[c]._src)>=0){b=!1;break}return u&&b&&delete u[o._src],t.noAudio=!1,o._state="unloaded",o._sounds=[],o=null,null},on:function(o,a,c,m){var b=this,k=b["_on"+o];return typeof a=="function"&&k.push(m?{id:c,fn:a,once:m}:{id:c,fn:a}),b},off:function(o,a,c){var m=this,b=m["_on"+o],k=0;if(typeof a=="number"&&(c=a,a=null),a||c)for(k=0;k<b.length;k++){var _=c===b[k].id;if(a===b[k].fn&&_||!a&&_){b.splice(k,1);break}}else if(o)m["_on"+o]=[];else{var x=Object.keys(m);for(k=0;k<x.length;k++)x[k].indexOf("_on")===0&&Array.isArray(m[x[k]])&&(m[x[k]]=[])}return m},once:function(o,a,c){var m=this;return m.on(o,a,c,1),m},_emit:function(o,a,c){for(var m=this,b=m["_on"+o],k=b.length-1;k>=0;k--)b[k].id&&b[k].id!==a&&o!=="load"||(setTimeout(function(_){_.call(this,a,c)}.bind(m,b[k].fn),0),b[k].once&&m.off(o,b[k].fn,b[k].id));return m._loadQueue(o),m},_loadQueue:function(o){var a=this;if(a._queue.length>0){var c=a._queue[0];c.event===o&&(a._queue.shift(),a._loadQueue()),o||c.action()}return a},_ended:function(o){var a=this,c=o._sprite;if(!a._webAudio&&o._node&&!o._node.paused&&!o._node.ended&&o._node.currentTime<o._stop)return setTimeout(a._ended.bind(a,o),100),a;var m=!(!o._loop&&!a._sprite[c][2]);if(a._emit("end",o._id),!a._webAudio&&m&&a.stop(o._id,!0).play(o._id),a._webAudio&&m){a._emit("play",o._id),o._seek=o._start||0,o._rateSeek=0,o._playStart=t.ctx.currentTime;var b=1e3*(o._stop-o._start)/Math.abs(o._rate);a._endTimers[o._id]=setTimeout(a._ended.bind(a,o),b)}return a._webAudio&&!m&&(o._paused=!0,o._ended=!0,o._seek=o._start||0,o._rateSeek=0,a._clearTimer(o._id),a._cleanBuffer(o._node),t._autoSuspend()),a._webAudio||m||a.stop(o._id,!0),a},_clearTimer:function(o){var a=this;if(a._endTimers[o]){if(typeof a._endTimers[o]!="function")clearTimeout(a._endTimers[o]);else{var c=a._soundById(o);c&&c._node&&c._node.removeEventListener("ended",a._endTimers[o],!1)}delete a._endTimers[o]}return a},_soundById:function(o){for(var a=this,c=0;c<a._sounds.length;c++)if(o===a._sounds[c]._id)return a._sounds[c];return null},_inactiveSound:function(){var o=this;o._drain();for(var a=0;a<o._sounds.length;a++)if(o._sounds[a]._ended)return o._sounds[a].resetTrackGroups();return new r(o)},_drain:function(){var o=this,a=o._pool,c=0,m=0;if(!(o._sounds.length<a)){for(m=0;m<o._sounds.length;m++)o._sounds[m]._ended&&c++;for(m=o._sounds.length-1;m>=0;m--){if(c<=a)return;o._sounds[m]._ended&&(o._webAudio&&o._sounds[m]._node&&o._sounds[m]._node.disconnect(0),o._sounds.splice(m,1),c--)}}},_getSoundIds:function(o){var a=this;if(o===void 0){for(var c=[],m=0;m<a._sounds.length;m++)c.push(a._sounds[m]._id);return c}return[o]},_refreshBuffer:function(o){var a=this;return o._node.bufferSource=t.ctx.createBufferSource(),o._node.bufferSource.buffer=u[a._src],o._panner?o._node.bufferSource.connect(o._panner):o._node.bufferSource.connect(o._node),o._node.bufferSource.loop=o._loop,o._loop&&(o._node.bufferSource.loopStart=o._start||0,o._node.bufferSource.loopEnd=o._stop||0),o._node.bufferSource.playbackRate.setValueAtTime(o._rate,t.ctx.currentTime),a},_cleanBuffer:function(o){var a=this,c=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(t._scratchBuffer&&o.bufferSource&&(o.bufferSource.onended=null,o.bufferSource.disconnect(0),c))try{o.bufferSource.buffer=t._scratchBuffer}catch(m){}return o.bufferSource=null,a},_clearSound:function(o){/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent)||(o.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var r=v(function(o){this._parent=o,this.init()},"t");r.prototype={init:function(){var o=this,a=o._parent;return o._muted=a._muted,o._loop=a._loop,o._volume=a._volume,o._rate=a._rate,o._seek=0,o._paused=!0,o._ended=!0,o._sprite="__default",o._id=++t._counter,a._sounds.push(o),o.create(),o},create:function(){var o=this,a=o._parent,c=t._muted||o._muted||o._parent._muted?0:o._volume;return a._webAudio?(o._node=t.ctx.createGain===void 0?t.ctx.createGainNode():t.ctx.createGain(),o._node.gain.setValueAtTime(c,t.ctx.currentTime),o._node.paused=!0,o._node.connect(t.masterGain)):t.noAudio||(o._node=t._obtainHtml5Audio(),o._errorFn=o._errorListener.bind(o),o._node.addEventListener("error",o._errorFn,!1),o._loadFn=o._loadListener.bind(o),o._node.addEventListener(t._canPlayEvent,o._loadFn,!1),o._endFn=o._endListener.bind(o),o._node.addEventListener("ended",o._endFn,!1),o._node.src=a._src,o._node.preload=a._preload===!0?"auto":a._preload,o._node.volume=c*t.volume(),o._node.load()),o},reset:function(){var o=this,a=o._parent;return o._muted=a._muted,o._loop=a._loop,o._volume=a._volume,o._rate=a._rate,o._seek=0,o._rateSeek=0,o._paused=!0,o._ended=!0,o._sprite="__default",o._id=++t._counter,o},_errorListener:function(){var o=this;o._parent._emit("loaderror",o._id,o._node.error?o._node.error.code:0),o._node.removeEventListener("error",o._errorFn,!1)},_loadListener:function(){var o=this,a=o._parent;a._duration=Math.ceil(10*o._node.duration)/10,Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,1e3*a._duration]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue()),o._node.removeEventListener(t._canPlayEvent,o._loadFn,!1)},_endListener:function(){var o=this,a=o._parent;a._duration===1/0&&(a._duration=Math.ceil(10*o._node.duration)/10,a._sprite.__default[1]===1/0&&(a._sprite.__default[1]=1e3*a._duration),a._ended(o)),o._node.removeEventListener("ended",o._endFn,!1)}};var u={},p=v(function(o){var a=o._src;if(u[a])return o._duration=u[a].duration,void y(o);if(/^data:[^;]+;base64,/.test(a)){for(var c=atob(a.split(",")[1]),m=new Uint8Array(c.length),b=0;b<c.length;++b)m[b]=c.charCodeAt(b);g(m.buffer,o)}else{var k=new XMLHttpRequest;k.open(o._xhr.method,a,!0),k.withCredentials=o._xhr.withCredentials,k.responseType="arraybuffer",o._xhr.headers&&Object.keys(o._xhr.headers).forEach(function(_){k.setRequestHeader(_,o._xhr.headers[_])}),k.onload=function(){var _=(k.status+"")[0];if(_!=="0"&&_!=="2"&&_!=="3")return void o._emit("loaderror",null,"Failed loading audio file with status: "+k.status+".");g(k.response,o)},k.onerror=function(){o._webAudio&&(o._html5=!0,o._webAudio=!1,o._sounds=[],delete u[a],o.load())},h(k)}},"a"),h=v(function(o){try{o.send()}catch(a){o.onerror()}},"u"),g=v(function(o,a){var c=v(function(){a._emit("loaderror",null,"Decoding audio data failed.")},"t"),m=v(function(b){b&&a._sounds.length>0?(u[a._src]=b,y(a,b)):c()},"a");typeof Promise!="undefined"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(o).then(m).catch(c):t.ctx.decodeAudioData(o,m,c)},"d"),y=v(function(o,a){a&&!o._duration&&(o._duration=a.duration),Object.keys(o._sprite).length===0&&(o._sprite={__default:[0,1e3*o._duration]}),o._state!=="loaded"&&(o._state="loaded",o._emit("load"),o._loadQueue())},"i"),w=v(function(){if(t.usingWebAudio){try{typeof AudioContext!="undefined"?t.ctx=new AudioContext:typeof webkitAudioContext!="undefined"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch(b){t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var o=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),a=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),c=a?parseInt(a[1],10):null;if(o&&c&&c<9){var m=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!m&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=t.ctx.createGain===void 0?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}},"_");typeof define=="function"&&define.amd&&define([],function(){return{Howler:t,Howl:n}}),typeof exports!="undefined"&&(exports.Howler=t,exports.Howl=n),typeof global!="undefined"?(global.HowlerGlobal=e,global.Howler=t,global.Howl=n,global.Sound=r):typeof window!="undefined"&&(window.HowlerGlobal=e,window.Howler=t,window.Howl=n,window.Sound=r)})();var Je=class{constructor(t=!0){X(this,"audioPlayerSettings",new Map);X(this,"playlist",null);X(this,"currentGroupID","");X(this,"globalCurrentTrackTime",null);X(this,"globalTotalTrackTime",null);X(this,"previousTotalTrackDuration",null);X(this,"playlistIndex",null);X(this,"currentHowl",null);X(this,"tonicsAudioPlayerGroups",null);X(this,"groupKeyToMapKey",new Map);X(this,"repeatSong",!1);X(this,"repeatMarkerSong",null);X(this,"originalTracksInQueueBeforeShuffle",null);t?document.body.dataset.audio_player_onetime="true":document.body.dataset.audio_player_onetime="false",this.playlistIndex=0,this.currentHowl=null,this.tonicsAudioPlayerGroups=document.querySelectorAll("[data-tonics-audioplayer-group]"),this.resetAudioPlayerSettings(),this.progressContainer=document.querySelector(".progress-container"),this.songSlider=null,this.progressContainer&&(this.songSlider=this.progressContainer.querySelector(".song-slider")),this.userIsSeekingSongSlider=!1,document.querySelector(".audio-player-queue")&&(this.originalTracksInQueueBeforeShuffle=document.querySelector(".audio-player-queue").innerHTML),navigator.mediaSession.setActionHandler("play",()=>{this.play()}),navigator.mediaSession.setActionHandler("pause",()=>{this.pause()}),navigator.mediaSession.setActionHandler("previoustrack",()=>{this.prev()}),navigator.mediaSession.setActionHandler("nexttrack",()=>{this.next()}),this.mutationObserver()}mutationHandlerFunc(t){let n=this;t&&!t.dataset.hasOwnProperty("trackloaded")&&(t.dataset.trackloaded="false",n.resetAudioPlayerSettings(),n.originalTracksInQueueBeforeShuffle=document.querySelector(".audio-player-queue").innerHTML,n.resetQueue())}mutationObserver(){new MutationObserver((n,r)=>{for(let u of n){let p=!1;for(let h=0;h<u.addedNodes.length;h++){let g=u.addedNodes[h];if(g.nodeType===Node.ELEMENT_NODE){let y=g.querySelector("[data-tonics-audioplayer-track]");if(y){this.mutationHandlerFunc(y),p=!0;break}}}if(p)return;if(u.attributeName==="data-tonics-audioplayer-track"){let h=u.target;this.mutationHandlerFunc(h)}}}).observe(document,{attributes:!0,childList:!0,subtree:!0})}run(){let t=this,n=t.getAudioPlayerGlobalContainer();if(n){let p=function(){r&&(t.currentHowl.seek(t.currentHowl.seek()+1),setTimeout(p,100))},h=function(){if(r){let w=t.currentHowl.seek()-1;w>=0&&t.currentHowl.seek(w),setTimeout(h,100)}},g=function(){r=!1,clearTimeout(u)};v(p,"seekForward"),v(h,"seekBackward"),v(g,"removeSeeking"),this.onPageReload();let r=!1,u;document.addEventListener("mousedown",y=>{let w=y.target,o=this;w.dataset.hasOwnProperty("audioplayer_next")&&(u=setTimeout(()=>{r=!0,p()},600)),w.dataset.hasOwnProperty("audioplayer_prev")&&(u=setTimeout(()=>{r=!0,h()},600))}),document.addEventListener("click",y=>{let w=y.target;if(w.dataset.hasOwnProperty("audioplayer_play"))if(w.dataset.audioplayer_play==="false")if(w.dataset.audioplayer_play="true",w.dataset.hasOwnProperty("audioplayer_songurl")){let a=w.dataset.audioplayer_songurl;w.dataset.hasOwnProperty("audioplayer_groupid")&&(n.dataset.audioplayer_groupid=w.dataset.audioplayer_groupid),t.loadPlaylist();let c=null;t.audioPlayerSettings.has(t.currentGroupID)&&(c=t.audioPlayerSettings.get(t.currentGroupID),c.has(a)&&(t.playlistIndex=c.get(a).songID,t.play()))}else this.loadPlaylist()&&this.play();else w.dataset.audioplayer_play="false",this.audioPaused=!0,t.pause();if(w.dataset.hasOwnProperty("audioplayer_next")&&r===!1&&w.dataset.audioplayer_next==="true"&&this.next(),w.dataset.hasOwnProperty("audioplayer_prev")&&r===!1&&w.dataset.audioplayer_prev==="true"&&this.prev(),g(),w.dataset.hasOwnProperty("audioplayer_repeat")&&(w.dataset.audioplayer_repeat==="true"?(t.repeatSong=!1,w.dataset.audioplayer_repeat="false"):(t.repeatSong=!0,w.dataset.audioplayer_repeat="true")),w.dataset.hasOwnProperty("audioplayer_marker_repeat")&&(w.dataset.audioplayer_marker_repeat==="true"?(t.repeatMarkerSong=null,w.dataset.audioplayer_marker_repeat="false"):(document.querySelectorAll("[data-audioplayer_marker_repeat]").forEach(c=>{c.dataset.audioplayer_marker_repeat="false"}),t.repeatMarkerSong={start:w.dataset.audioplayer_marker_start,start_percentage:w.dataset.audioplayer_marker_start_percentage,end:w.dataset.audioplayer_marker_end},w.dataset.audioplayer_marker_repeat="true")),w.dataset.hasOwnProperty("audioplayer_marker_play_jump")){let a=w.dataset.audioplayer_marker_play_jump;this.seek(a)}if(w.dataset.hasOwnProperty("audioplayer_shuffle"))if(w.dataset.audioplayer_shuffle==="true"){if(w.dataset.audioplayer_shuffle="false",document.querySelector(".audio-player-queue")&&this.originalTracksInQueueBeforeShuffle&&(document.querySelector(".audio-player-queue").innerHTML=this.originalTracksInQueueBeforeShuffle,this.currentHowl!==null)){let a=t.currentHowl._src;t.resetQueue(),t.setSongUrlPlayAttribute(a[0],"true","Pause")}}else{w.dataset.audioplayer_shuffle="true";let a=document.querySelectorAll(".track-in-queue");if(a)for(let c=a.length-1;c>0;c--){let m=Math.floor(Math.random()*(c+1));pn(a[m],a[c],a[m].getBoundingClientRect(),()=>{t.resetQueue()})}}let o=new je(t.getSongData(),w);t.getEventDispatcher().dispatchEventToHandlers(window.TonicsEvent.EventConfig,o,je)}),document.addEventListener("pointerdown",t.sliderThumbMouseDown.bind(t)),document.addEventListener("pointerup",t.sliderThumbMouseUp.bind(t)),document.addEventListener("input",t.volume.bind(t))}}onPageReload(){let t=this,n=localStorage.getItem("HowlerJSVolume");if(n){Howler.volume(parseFloat(n));let p=document.querySelector(".volume-slider");p&&(p.value=n)}let r=window.location.href,u=localStorage.getItem(r);if(u){u=JSON.parse(u),t.loadPlaylist();let p=null;t.audioPlayerSettings.has(u.currentGroupID)&&(p=t.audioPlayerSettings.get(u.currentGroupID),p.has(u.songKey)&&(t.playlistIndex=p.get(u.songKey).songID,t.play(),t.currentHowl.once("load",()=>{let h=u.currentPos/t.currentHowl.duration()*100;this.songSlider&&(this.songSlider.value=h,t.seek(h))})))}}bootPlaylistAndSongs(t=!1){let n=this,r=document.querySelectorAll("[data-tonics-audioplayer-track]");t&&(r=document.querySelector(".audio-player-queue-list").querySelectorAll("[data-tonics-audioplayer-track]")),this.tonicsAudioPlayerGroups.length>0&&this.tonicsAudioPlayerGroups.forEach(p=>{let h=p;h.dataset.hasOwnProperty("audioplayer_groupid")&&n.audioPlayerSettings.set(h.dataset.audioplayer_groupid,new Map)});let u=[];if(r.length>0){let p=0;for(let h=0;h<r.length;h++){let g=r[h],y=p,w,o;if(g.dataset.trackloaded="true",g.dataset.hasOwnProperty("audioplayer_groupid")?w=g.dataset.audioplayer_groupid:w="GLOBAL_GROUP",g.dataset.hasOwnProperty("audioplayer_songurl")&&g.dataset.audioplayer_songurl){o=n.audioPlayerSettings.get(w);let a=g.dataset.audioplayer_songurl,c={songID:y,songtitle:g.dataset.audioplayer_title,songimage:g.dataset.audioplayer_image,songurl:a,url_page:g.dataset.url_page,howl:null,format:g.dataset.hasOwnProperty("audioplayer_format")?g.dataset.audioplayer_format:null,license:g.dataset.hasOwnProperty("licenses")?JSON.parse(g.dataset.licenses):null,_dataset:g.dataset};o.set(a,c),u.push(a),n.groupKeyToMapKey.set(w,u),n.audioPlayerSettings.set(w,o),++p}}}}resetAudioPlayerSettings(){let t=this;if(this.audioPlayerSettings=new Map,this.audioPlayerSettings.set("GLOBAL_GROUP",new Map),this.groupKeyToMapKey=new Map,this.bootPlaylistAndSongs(),this.loadPlaylist(),this.loadToQueue(this.audioPlayerSettings.get(this.currentGroupID)),this.setCorrectPlaylistIndex(),this.groupKeyToMapKey.size>0){let n=document.querySelector(".audio-player");n&&n.classList.contains("d:none")&&n.classList.remove("d:none")}}resetQueue(){this.audioPlayerSettings=new Map,this.audioPlayerSettings.set("GLOBAL_GROUP",new Map),this.groupKeyToMapKey=new Map,this.bootPlaylistAndSongs(!0),this.loadPlaylist(),this.setCorrectPlaylistIndex()}loadToQueue(t){let n=document.querySelector(".audio-player-queue-list");n&&(n.innerHTML="",t.forEach(r=>{let u;this.currentHowl!==null&&this.currentHowl._src[0]===r.songurl?u="true":u="false",n.insertAdjacentHTML("beforeend",`
<li tabindex="0" class="color:black cursor:move draggable track-in-queue bg:white-one border-width:default border:black position:relative">
                    <div class="queue-song-info d:flex align-items:center flex-gap:small">
                        <a href="${r.url_page}" data-tonics_navigate data-url_page="${r.url_page}"  
                        title="${r.songtitle}" class="cursor:pointer color:black text:no-wrap width:80px text-overflow:ellipsis">${r.songtitle}</a>
                    </div>
                    
<button type="button" title="Play" data-tonics-audioplayer-track="" 
data-trackloaded
data-audioplayer_songurl="${r.songurl}" 
data-audioplayer_title="${r.songtitle}" 
data-audioplayer_image="${r.songimage}" 
data-audioplayer_format="${r.format}" 
data-url_page="${r.url_page}" 
data-audioplayer_play="${u}" class="audioplayer-track border:none act-like-button icon:audio bg:transparent cursor:pointer color:black">
    <svg class="audio-play icon:audio tonics-widget pointer-events:none">
        <use class="svgUse" xlink:href="#tonics-audio-play"></use>
    </svg>
    <svg class="audio-pause icon:audio tonics-widget pointer-events:none">
        <use class="svgUse" xlink:href="#tonics-audio-pause"></use>
    </svg>
</button>
                </li>
`)}))}setCorrectPlaylistIndex(){let t=document.querySelector('.audio-player-queue [data-audioplayer_play="true"]');if(t){let n=t.dataset.audioplayer_songurl,r="GLOBAL_GROUP";if(t.dataset.hasOwnProperty("audioplayer_groupid")&&(r=t.dataset.audioplayer_groupid),this.groupKeyToMapKey.has(r)){let p=this.groupKeyToMapKey.get(r).indexOf(n);p!==-1&&(this.playlistIndex=p)}}}setSongUrlPlayAttribute(t,n,r=null){let u=document.querySelectorAll(`[data-audioplayer_songurl="${t}"]`),p=document.querySelector(".global-play");u.length>0&&u.forEach(h=>{h.dataset.hasOwnProperty("audioplayer_play")&&h!==p&&(h.dataset.audioplayer_play=n,r&&(h.title=r))})}getAudioPlayerGlobalContainer(){return document.querySelector(".audio-player-global-container")}loadPlaylist(){let t=this,n=t.getAudioPlayerGlobalContainer();if(n&&n.dataset.hasOwnProperty("audioplayer_groupid")){let r=n.dataset.audioplayer_groupid;if(t.audioPlayerSettings===null&&this.bootPlaylistAndSongs(),t.audioPlayerSettings.has(r))return this.playlist=t.groupKeyToMapKey.get(r),this.currentGroupID=r,!0}return!1}getSongData(){if(this.playlist){let t=this.playlist[this.playlistIndex],n=this.audioPlayerSettings.get(this.currentGroupID);if(n.has(t)){let r=n.get(t);return r._self=this,r}}return!1}volume(t){let n=t.target;n.classList.contains("volume-slider")&&(Howler.volume(n.value),localStorage.setItem("HowlerJSVolume",n.value))}sliderThumbMouseDown(t){let n=t.target,r=this;n.classList.contains("song-slider")&&(r.userIsSeekingSongSlider=!0)}sliderThumbMouseUp(t){let n=t.target,r=this;n.classList.contains("song-slider")&&(r.userIsSeekingSongSlider=!1,r.seek(n.value))}pause(){let t=this,n=t.currentHowl,r=document.querySelector(".global-play");r&&r.dataset.hasOwnProperty("audioplayer_play")&&(r.dataset.audioplayer_play="false",r.title="Play"),n!==null&&(n.pause(),this.setSongUrlPlayAttribute(this.getSongData().songurl,"false","Play"))}handlePlayElementSettings(){let t=this.getSongData(),n=document.querySelector(".global-play"),r=document.querySelectorAll('[data-audioplayer_play="true"]');this.currentHowl&&this.currentHowl.pause(),r&&r.length>0&&r.forEach(u=>{u.dataset.audioplayer_play="false"}),n&&n.dataset.hasOwnProperty("audioplayer_play")&&(n.dataset.audioplayer_play="true",n.title="Pause"),this.setSongUrlPlayAttribute(t.songurl,"true","Pause")}play(){let t=this,n=t.getSongData().howl;Howler.volume(document.querySelector(".volume-slider").value),t.handlePlayElementSettings(),n===null&&(t.getSongData().howl=t.newHowlPlay(),n=t.getSongData().howl);try{n.play()}catch(r){t.getSongData().howl=t.newHowlPlay(),n=t.getSongData().howl,n.play()}t.currentHowl=n}newHowlPlay(t=null){let n=this,r=n.getSongData(),u=new Howl({preload:!1,src:[r.songurl],html5:!0,onplay:()=>{n.repeatMarkerSong||n.handleMarkerUpdating(),requestAnimationFrame(n.step.bind(n))},onseek:()=>{requestAnimationFrame(n.step.bind(n))},onend:()=>{n.repeatSong?(n.pause(),n.play()):n.next(),n.removeMarker()}}),p=!1;return u.on("play",function(){n.updateGlobalSongProp(r.songtitle,r.songimage),p=!1;let h=new Ue(n.getSongData());n.getEventDispatcher().dispatchEventToHandlers(window.TonicsEvent.EventConfig,h,Ue)}),u.on("pause",function(){if(!p){p=!0;let h=new $e(n.getSongData());n.getEventDispatcher().dispatchEventToHandlers(window.TonicsEvent.EventConfig,h,$e)}}),u}getMarkerPercentageAndSeconds(t,n){if(!t||!/^\d{1,2}:\d{1,2}(:\d{1,2})?$/.test(t)){console.error(`Invalid time format: ${t}. Should be in format "00:00" or "00:00:00"`);return}let r=t.split(":"),u=r.length>2?parseInt(r[0],10):0,p=parseInt(r[r.length-2],10),h=(r.length>2,parseInt(r[r.length-1],10)),g=u*3600+p*60+h;if(!n||n<=0){console.error("audioTrackLength is not defined or is <= 0");return}return{percentage:g/n*100,seconds:g}}updateMarker(t,n){let r=n._track_marker_start_info,u=n._track_marker_end_info,h=document.querySelector(".tonics-audio-marker").innerHTML;h=h.replace(/Marker_Percentage/g,r.percentage),h=h.replace(/Marker_Text/g,r.text),h=h.replace(/MARKER_START/g,r.seconds),h=h.replace(/MARKER_END/g,u.seconds);let g=document.querySelector(t);g&&g.insertAdjacentHTML("afterend",h)}handleMarkerUpdating(){var n;let t=this.getSongData();((n=t==null?void 0:t.markers)==null?void 0:n.length)>0&&(document.querySelectorAll("div[data-audioplayer_marker]").forEach(u=>u.remove()),t.markers.forEach(u=>{u._track_marker_start_info&&this.updateMarker(".song-slider",u)}))}storeSongPosition(){let t=this.getCurrentHowl(),n=window.location.href,r=t.seek();localStorage.setItem(n,JSON.stringify({currentPos:r,songKey:this.playlist[this.playlistIndex],currentGroupID:this.currentGroupID}))}prev(){let t=this;t.removeMarker(),t.playlist===null&&t.loadPlaylist();let n=t.playlistIndex-1;n<0&&(n=0),this.skipTo(n)}next(){let t=this;t.removeMarker(),t.playlist===null&&t.loadPlaylist();let n=t.playlistIndex+1;n>=t.playlist.length&&(n=0),this.skipTo(n)}skipTo(t){let n=this;n.getCurrentHowl()&&n.getCurrentHowl().stop(),n.playlistIndex=t,n.play()}seek(t){let r=this.getCurrentHowl(),u=r.duration()*t/100;r&&(r.seek(u),this.moveSlider())}moveSlider(){let t=this,n=t.getCurrentHowl(),u=(n.seek()||0)/n.duration()*100||0;u=Math.round(u),t.userIsSeekingSongSlider===!1&&(t.songSlider.value=u)}step(){let t=this,n=t.getCurrentHowl();if(n.playing()){if(t.repeatMarkerSong){let r=Math.round(n.seek()),u=parseInt(t.repeatMarkerSong.start),p=parseInt(t.repeatMarkerSong.end);r>=p&&n.seek(u)}t.moveSlider(),t.storeSongPosition(),t.updateGlobalTime(),requestAnimationFrame(this.step.bind(t))}}updateGlobalTime(){let t=this.getCurrentHowl(),n=t.seek();if(this.globalCurrentTrackTime||(this.globalCurrentTrackTime=document.querySelector("[data-current_track_time]")),this.globalTotalTrackTime||(this.globalTotalTrackTime=document.querySelector("[data-total_track_time]")),this.globalCurrentTrackTime&&(this.globalCurrentTrackTime.innerText=this.formatTimeToHourMinSec(n)),this.globalTotalTrackTime){let r=t.duration();this.previousTotalTrackDuration!==r&&(this.globalTotalTrackTime.innerText=this.formatTimeToHourMinSec(r),this.previousTotalTrackDuration=r)}}formatTimeToHourMinSec(t){if(isNaN(t)||t<0)return"-";let n=Math.floor(t/3600),r=Math.floor(t%3600/60),u=Math.floor(t%60),p="";return n>0&&(p+=("0"+n).slice(-2)+":"),p+=("0"+r).slice(-2)+":",p+=("0"+u).slice(-2),p}removeMarker(){this.repeatMarkerSong=null}updateGlobalSongProp(t="",n=""){let r=document.querySelector("[data-audioplayer_globaltitle]"),u=document.querySelector(".main-album-art[data-audioplayer_globalart]");r&&(r.innerText=t,r.title=t),u&&(u.src=n),"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:t,artwork:[{src:this.convertRelativeToAbsoluteURL(n),sizes:"200x200",type:"image/png"}]}))}convertRelativeToAbsoluteURL(t){return t.startsWith("http")||(t=new URL(t,window.location.href).href),t}getCurrentHowl(){return this.currentHowl}getEventDispatcher(){return window.TonicsEvent.EventDispatcher}};v(Je,"AudioPlayer");var De=class{constructor(t){this._songData=t}get songData(){return this._songData}set songData(t){this._songData=t}};v(De,"AudioPlayerEventAbstract");var Ue=class extends De{};v(Ue,"OnAudioPlayerPlayEvent");var $e=class extends De{};v($e,"OnAudioPlayerPauseEvent");var je=class extends De{constructor(t,n){super(t),this._eventEl=n}get eventEl(){return this._eventEl}};v(je,"OnAudioPlayerClickEvent");if(document.querySelector(".audio-player")){let e=new Je;e.run();let t=".audio-player-queue-list",n=".track-in-queue",r=!1,u=!1,p=0,h=5;window!=null&&window.TonicsScript.hasOwnProperty("Draggables")&&window.TonicsScript.Draggables(t).settings(n,[".track-license"],!1).onDragDrop(function(g,y){let w=y.getDroppedTarget().closest(n),o=y.getDragging().closest(n);(w!==o&&r||u)&&(pn(o,w,y.draggingOriginalRect,()=>{e.resetQueue()}),p=0,r=!1,u=!1)}).onDragTop(g=>{if(p++>=h){let y=g.previousElementSibling;y&&y.classList.contains("track-in-queue")&&(r=!0)}}).onDragBottom(g=>{if(p++>=h){let y=g.nextElementSibling;y&&y.classList.contains("track-in-queue")&&(u=!0)}}).run(),(window==null?void 0:window.TonicsScript.hasOwnProperty("MenuToggle"))&&(window==null?void 0:window.TonicsScript.hasOwnProperty("Query"))&&(window.TonicsScript.MenuToggle(".audio-player",window.TonicsScript.Query()).settings(".audio-player-global-container",".dropdown-toggle",".audio-player-queue").buttonIcon("#tonics-arrow-down","#tonics-arrow-up").menuIsOff(["swing-out-top-fwd","d:none"],["swing-in-top-fwd","d:flex"]).menuIsOn(["swing-in-top-fwd","d:flex"],["swing-out-top-fwd","d:none"]).stopPropagation(!1).closeOnClickOutSide(!1).run(),window.TonicsScript.MenuToggle(".time-progress",window.TonicsScript.Query()).settings(".time-progress-marker",".marker-dropdown-toggle",".audio-player-marker-data").buttonIcon("#tonics-arrow-down","#tonics-arrow-up").menuIsOff(["swing-out-top-fwd","d:none"],["swing-in-top-fwd","d:flex"]).menuIsOn(["swing-in-top-fwd","d:flex"],["swing-out-top-fwd","d:none"]).stopPropagation(!1).closeOnClickOutSide(!1).run(),window.TonicsScript.MenuToggle(".audio-player-queue",window.TonicsScript.Query()).settings(".track-in-queue",".dropdown-toggle",".track-license").menuIsOff(["swing-out-top-fwd","d:none"],["swing-in-top-fwd","d:flex"]).menuIsOn(["swing-in-top-fwd","d:flex"],["swing-out-top-fwd","d:none"]).stopPropagation(!1).closeOnClickOutSide(!1).run())}function Qt(e={}){let t={};return new nt(Dt(Dt({},t),e))}v(Qt,"defaultXHR");var Ne=document.querySelector("main"),Pt=new Map,_i=null,Lt=null,be=null,_e=null;if(Ne){Ne.addEventListener("click",t=>{let n=t.target;if(n.classList.contains("more-button")){t.preventDefault();let r=n.dataset.action,u=n.dataset.morepageurl;Qt(n.dataset).Get(u,function(p,h){if(h&&(h=JSON.parse(h),h.hasOwnProperty("status")&&h.status===200)){let g=n.closest(".menu-box-radiobox-items"),y=g.querySelector(".more-button"),w=g.querySelector("li:nth-last-of-type(1)");y&&y.remove(),w.insertAdjacentHTML("afterend",h.data)}})}if(n.classList.contains("upload-license-download-url")&&(Lt=n.parentElement.querySelector(".input-license-download-url"),Gt)){let r="left=95,top=100";_i=window.open(Gt,"Tonics File Manager",r)}}),window.addEventListener("message",t=>{if(t.origin!==ss)return;let n=t.data;n.hasOwnProperty("cmd")&&n.cmd==="tonics:RegularLink"&&Lt&&(Lt.value=n.value,_i.close())});let e=[];Ne.addEventListener("keydown",t=>{let n=t.target;if(n.classList.contains("menu-box-item-search")){let r=n;if(t.code==="Enter"){e[n.dataset.menuboxname]=n.parentElement.cloneNode(!0),t.preventDefault();let u=r.value;if(u=u.trim(),u.length>0&&r.dataset.hasOwnProperty("searchvalue")){r.dataset.searchvalue=u;let p=r.dataset.query+encodeURIComponent(u);Qt(r.dataset).Get(p,function(h,g){if(g&&(g=JSON.parse(g),g.hasOwnProperty("status")&&g.status===200)){let y=r.parentElement,w=r.cloneNode(!0);r.parentElement.innerHTML=g.data,y.prepend(w)}})}}}}),Ne.addEventListener("change",t=>{let n=t.target;n.classList.contains("license-selector")&&is(n)}),Ne.addEventListener("input",t=>{let n=t.target,r=n;if(n.classList.contains("menu-box-item-search")){t.preventDefault();let u=r.value;if(u=u.trim(),u===""){let p=r.parentElement.querySelectorAll('input[type="checkbox"]:checked');if(p.length>0){let h="";for(let o=0;o<p.length;o++){let a=p[o].value,c=e[r.dataset.menuboxname].querySelector(`input[type="checkbox"][value="${a}"]`);c?c&&!c.checked&&(h+=p[o].parentElement.outerHTML):h+=p[o].parentElement.outerHTML}let g=e[r.dataset.menuboxname];g.querySelector("li").insertAdjacentHTML("beforebegin",h);let w=r.parentElement;w.innerHTML=g.innerHTML}}}})}var At=document.querySelector(".license-selector");At&&At.dataset.new==="true"&&is(At);function is(e){if(_e=e.closest("li").querySelector(".license-downloads"),be=e.options[e.selectedIndex],be.dataset.licenseID=be.value,Pt.has(be.value)&&_e){_e.innerHTML="",_e.innerHTML=Pt.get(be.value);return}Qt(be.dataset).Get(window.location.href,function(t,n){n&&(n=JSON.parse(n),n.hasOwnProperty("status")&&n.status===200&&_e&&(_e.innerHTML="",_e.innerHTML=n.data,Pt.set(be.value,n.data)))})}v(is,"getLicenseDownloadInfo");var Ei,ss=(Ei=document.querySelector("body"))==null?void 0:Ei.getAttribute("data-tonics_siteURL"),ki,Fr=(ki=document.querySelector("body"))==null?void 0:ki.getAttribute("data-tonics_siteTimeZone"),Si,Gt=(Si=document.querySelector("body"))==null?void 0:Si.getAttribute("data-tonics_fileManagerURL"),Ci,ss=(Ci=document.querySelector("body"))==null?void 0:Ci.getAttribute("data-tonics_siteURL"),xi,Fr=(xi=document.querySelector("body"))==null?void 0:xi.getAttribute("data-tonics_siteTimeZone"),Fi,Gt=(Fi=document.querySelector("body"))==null?void 0:Fi.getAttribute("data-tonics_fileManagerURL");export{Je as AudioPlayer,Ti as Draggables,Di as MenuToggle,Le as Query,ns as TonicsFileManagerExcrete,pn as swapNodes};
/*!
* sweetalert2 v11.1.10
* Released under the MIT License.
*/
/*! howler.js v2.2.3 | (c) 2013-2020, James Simpson of GoldFire Studios | MIT License | howlerjs.com */
