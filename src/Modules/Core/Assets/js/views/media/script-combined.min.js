/*
 *     Copyright (c) 2025. Olayemi Faruq <olayemi@tonics.app>
 *
 *     This program is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU Affero General Public License as
 *     published by the Free Software Foundation, either version 3 of the
 *     License, or (at your option) any later version.
 *
 *     This program is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU Affero General Public License for more details.
 *
 *     You should have received a copy of the GNU Affero General Public License
 *     along with this program.  If not, see <https://www.gnu.org/licenses/>.
 */

var Ps=Object.defineProperty;var Ds=Object.getOwnPropertySymbols;var Ta=Object.prototype.hasOwnProperty,Da=Object.prototype.propertyIsEnumerable;var Rn=(w,e,t)=>e in w?Ps(w,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):w[e]=t,qn=(w,e)=>{for(var t in e||(e={}))Ta.call(e,t)&&Rn(w,t,e[t]);if(Ds)for(var t of Ds(e))Da.call(e,t)&&Rn(w,t,e[t]);return w};var f=(w,e)=>Ps(w,"name",{value:e,configurable:!0});var W=(w,e,t)=>Rn(w,typeof e!="symbol"?e+"":e,t);var re=Object.defineProperty,u=f((w,e)=>re(w,"name",{value:e,configurable:!0}),"__name"),De,te=(De=class{constructor(e){return e?this.query(e):this}query(e){let t=document.querySelector(`${e}`);if(t)return this.setQueryResult(t),this;console.log(`Invalid class or id name - ${e}`)}setQueryResult(e){return this.$queryResult=e,this}getQueryResult(){return this.$queryResult}},f(De,"ElementAbstract"),De);u(te,"ElementAbstract");var Pe,Us=(Pe=class extends te{constructor(e){super(e),this.dragging=null,this.droppedTarget=null,this._draggingOriginalRect=null,this.xPosition=0,this.yPosition=-1,this.mouseActive=!1,this._constrainedQuad=!1,this.$draggableElementDetails={}}get draggingOriginalRect(){return this._draggingOriginalRect}set draggingOriginalRect(e){this._draggingOriginalRect=e}get constrainedQuad(){return this._constrainedQuad}set constrainedQuad(e){this._constrainedQuad=e}settings(e,t,o=!1){return this.constrainedQuad=o,this.getDraggableElementDetails().draggable={constrainedQuad:o,draggableElement:e,ignoreElements:t,callbacks:{onDragging:null,onDragDrop:null,onDragRight:null,onDragLeft:null,onDragBottom:null,onDragTop:null}},this}getDraggableElementDetails(){return this.$draggableElementDetails}checkIfSettingsIsSet(){return this.getDraggableElementDetails().draggable}onDragDrop(e){if(this.checkIfSettingsIsSet())return this.getDraggableElementDetails().draggable.callbacks.onDragDrop=e,this}onDragRight(e){if(this.checkIfSettingsIsSet())return this.getDraggableElementDetails().draggable.callbacks.onDragRight=e,this}onDragLeft(e){if(this.checkIfSettingsIsSet())return this.getDraggableElementDetails().draggable.callbacks.onDragLeft=e,this}onDragBottom(e){if(this.checkIfSettingsIsSet())return this.getDraggableElementDetails().draggable.callbacks.onDragBottom=e,this}onDragTop(e){if(this.checkIfSettingsIsSet())return this.getDraggableElementDetails().draggable.callbacks.onDragTop=e,this}canDrag(e){let t=this,o=!0,l=t.getDraggableElementDetails().draggable.ignoreElements;for(let d=0;d<l.length;d++){let p=l[d];if(e.closest(p)){o=!1;break}}return o||this.setMouseActive(!1),o}run(){let e=this.getQueryResult(),t=this,o,l,d=!1;e&&e.addEventListener("pointerdown",function(p){t.setMouseActive(!0);let m=p.target,y=!0;if(!t.canDrag(m))return;let v=t.getDraggableElementDetails().draggable.draggableElement;if(m.closest(v)){t==null||t.setDragging(m.closest(v));let n=t.getDragging();y&&(o=p.clientX,l=p.clientY,n.classList.add("draggable-start"),n.classList.add("touch-action:none"),t._draggingOriginalRect=n.getBoundingClientRect()),n==null||n.classList.remove("draggable-animation")}}),e.addEventListener("pointerup",function(p){let m=p.target;if(t.isMouseActive()){t.setMouseActive(!1);let y=!0;if(!t.canDrag(m))return;t.setXPosition(0),t.setYPosition(-1);let v=t.getDragging();if(v&&y)v.style.transform="",v.classList.remove("draggable-start"),v.classList.remove("touch-action:none"),v.classList.add("draggable-animation");else return v==null||v.classList.remove("draggable-animation"),!1;let n=t.getDraggableElementDetails().draggable.callbacks.onDragDrop;d&&n!==null&&typeof n=="function"&&(n(m,t),d=!1)}}),e.addEventListener("pointermove",function(p){if(t.isMouseActive()){let m=p.target,y=!0;if(!t.canDrag(m))return;let v=t.getDragging(),n=t.getDraggableElementDetails().draggable.draggableElement;if(m.closest(n)&&y&&v){v.classList.add("pointer-events:none");let r=document.elementFromPoint(p.clientX,p.clientY);t.setDroppedTarget(r.closest(n)),v.classList.remove("pointer-events:none"),p.preventDefault();let c=p.clientX-o,h=p.clientY-l;if(t.constrainedQuad||(v.style.transform="translate3d("+c+"px,"+h+"px, 0px)"),p.movementX>=1&&p.movementY===0){t.constrainedQuad&&(v.style.transform="translate3d("+c+"px,0px, 0px)");let b=t.getDraggableElementDetails().draggable.callbacks.onDragRight;b!==null&&typeof b=="function"&&b(v)}if(p.movementX<0&&p.movementY===0){t.constrainedQuad&&(v.style.transform="translate3d("+c+"px,0px, 0px)");let b=t.getDraggableElementDetails().draggable.callbacks.onDragLeft;b!==null&&typeof b=="function"&&b(v,t)}if(p.movementX===0&&p.movementY>0){t.constrainedQuad&&(v.style.transform="translate3d(0px,"+h+"px, 0px)");let b=t.getDraggableElementDetails().draggable.callbacks.onDragBottom;b!==null&&typeof b=="function"&&b(v,t)}else if(p.movementX===0&&p.movementY<0){t.constrainedQuad&&(v.style.transform="translate3d(0px,"+h+"px, 0px)");let b=t.getDraggableElementDetails().draggable.callbacks.onDragTop;b!==null&&typeof b=="function"&&b(v,t)}d=!0}}})}getXPosition(){return this.xPosition}setXPosition(e){this.xPosition=e}getYPosition(){return this.yPosition}setYPosition(e){this.yPosition=e}incrementXPosition(){return++this.xPosition}decrementXPosition(){return this.xPosition=this.xPosition-1}incrementYPosition(){return++this.yPosition}decrementYPosition(){return this.yPosition=this.xPosition-1}getDragging(){return this.dragging}setDragging(e){this.dragging=e}getDroppedTarget(){return this.droppedTarget}setDroppedTarget(e){this.droppedTarget=e}isMouseActive(){return this.mouseActive}setMouseActive(e){this.mouseActive=e}},f(Pe,"Draggables"),Pe);u(Us,"Draggables");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.Draggables=w=>new Us(w);var re=Object.defineProperty,u=f((w,e)=>re(w,"name",{value:e,configurable:!0}),"__name"),Le,te=(Le=class{constructor(e){return e?this.query(e):this}query(e){let t=document.querySelector(`${e}`);if(t)return this.setQueryResult(t),this;console.log(`Invalid class or id name - ${e}`)}setQueryResult(e){return this.$queryResult=e,this}getQueryResult(){return this.$queryResult}},f(Le,"ElementAbstract"),Le);u(te,"ElementAbstract");var Ae,$s=(Ae=class extends te{constructor(e,t){super(e),this.$menuDetails={},this.queryAdapter=t}getQueryAdapter(){return this.queryAdapter}settings(e,t,o){return this.getMenuDetails().menu={parent:{element:this.getQueryResult(),event:""},propagate:!0,propagateElements:[],menuClass:e,buttonClass:t,subMenuClass:o,on:{button:{icon:{add:"",remove:""}},subMenu:{class:{add:"",remove:"",animation:{start:"",end:""}}}},off:{button:{icon:{add:"",remove:""}},subMenu:{class:{add:"",remove:"",animation:{start:"",end:""}}}}},this}stopPropagation(e=!0){return this.getMenuDetails().hasOwnProperty("menu")&&(this.getMenuDetails().menu.propagate=e),this}propagateElements(e=[]){return this.getMenuDetails().hasOwnProperty("menu")&&(this.getMenuDetails().menu.propagateElements=e),this}buttonIcon(e,t){if(this.getMenuDetails().hasOwnProperty("menu"))return this.getMenuDetails().menu.on.button.icon.add=e,this.getMenuDetails().menu.off.button.icon.add=t,this;throw new DOMException("No Menu Element Added")}menuIsOn(e,t){if(this.getMenuDetails().hasOwnProperty("menu"))return this.getMenuDetails().menu.on.subMenu.class.add=e,this.getMenuDetails().menu.on.subMenu.class.remove=t,this;throw new DOMException("No Menu Element Added")}menuIsOff(e,t){if(this.getMenuDetails().hasOwnProperty("menu"))return this.getMenuDetails().menu.off.subMenu.class.add=e,this.getMenuDetails().menu.off.subMenu.class.remove=t,this;throw new DOMException("No Menu Element Added")}run(){let e=this.getMenuDetails().menu.parent.element;e&&e.addEventListener("click",t=>{var o,l;let d=t.target;if(this.getMenuDetails().menu.propagate){let p=!1;this.getMenuDetails().menu.propagateElements.forEach(m=>{d.closest(m)&&(p=!0)}),p||t.stopPropagation()}if(d.closest(this.getMenuDetails().menu.buttonClass)){t.preventDefault();let p=d.closest(this.getMenuDetails().menu.buttonClass);if(p.classList.toggle("toggle-on"),p.ariaLabel="Expand child menu",p.ariaExpanded="false",p.classList.contains("toggle-on")){if(p.closest("[data-menu-depth]")){let v=p.closest("[data-menu-depth]"),n=document.querySelectorAll(`[data-menu-depth="${v.dataset.menuDepth}"]`);n.length>0&&n.forEach(r=>{let c=r.querySelector(this.getMenuDetails().menu.buttonClass);c!==p&&c&&c.classList.contains("toggle-on")&&c.click()})}p.ariaLabel="Collapse child menu",p.ariaExpanded="true"}let m=p.closest(this.getMenuDetails().menu.menuClass),y=(l=(o=this.getQueryAdapter().addNodeElement(m).in())==null?void 0:o.forward(this.getMenuDetails().menu.subMenuClass))==null?void 0:l.getQueryResult();if(y||(y=this.getQueryAdapter().addNodeElement(m).queryChildren(this.getMenuDetails().menu.subMenuClass).getQueryResult()),y.classList.contains(this.getMenuDetails().menu.on.subMenu.class.add[0]))if(this.hasAnimation(y)){let v=this.getMenuDetails().menu.off.subMenu.class.remove.find(h=>h.includes("flex")||h.includes("display-block")),n=this.getMenuDetails().menu.off.subMenu.class.remove.filter(h=>h!==v),r=this.getMenuDetails().menu.off.subMenu.class.add.find(h=>h.includes("none")),c=this.getMenuDetails().menu.off.subMenu.class.add.filter(h=>h!==r);y.classList.remove(n),y.classList.add(c),y.addEventListener("animationend",()=>{y.classList.remove(v),y.classList.add(r)},{once:!0})}else y.classList.remove(...this.getMenuDetails().menu.off.subMenu.class.remove),y.classList.add(...this.getMenuDetails().menu.off.subMenu.class.add);else y.classList.add(...this.getMenuDetails().menu.on.subMenu.class.add),y.classList.remove(...this.getMenuDetails().menu.on.subMenu.class.remove);if(this.getMenuDetails().menu.off.button.icon.add){let v=p.querySelector(".svgUse");if(v)v.getAttribute("xlink:href")===this.getMenuDetails().menu.off.button.icon.add?this.getQueryAdapter().addNodeElement(v).setSVGUseAttribute(this.getMenuDetails().menu.on.button.icon.add):this.getQueryAdapter().addNodeElement(v).setSVGUseAttribute(this.getMenuDetails().menu.off.button.icon.add);else throw new DOMException("Add class `svgUse` to svg use element")}}})}getMenuDetails(){return this.$menuDetails}closeMenuToggle(e=null){let t=this;e===null&&(e=document),e.querySelectorAll(t.getMenuDetails().menu.buttonClass).forEach(o=>{o.classList.contains("toggle-on")&&o.dataset.hasOwnProperty("menutoggle_click_outside")&&o.dataset.menutoggle_click_outside==="true"&&o.click()})}closeOnClickOutSide(e){e&&this.getMenuDetails().menu.parent.element.querySelectorAll(this.getMenuDetails().menu.buttonClass).forEach(l=>{l.setAttribute("data-menutoggle_click_outside","true")});let t=this;return document.addEventListener("click",function(o){t.closeMenuToggle()}),document.addEventListener("keyup",function(o){o.key==="Escape"&&t.closeMenuToggle()}),this}hasAnimation(e){let t=window.getComputedStyle(e,null),o=parseFloat(t.getPropertyValue("animation-duration")||"0"),l=parseFloat(t.getPropertyValue("transition-duration")||"0");return o>0||l>0}},f(Ae,"MenuToggle"),Ae);u($s,"MenuToggle");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.MenuToggle=(w,e)=>new $s(w,e);var re=Object.defineProperty,u=f((w,e)=>re(w,"name",{value:e,configurable:!0}),"__name"),Ie,te=(Ie=class{constructor(e){return e?this.query(e):this}query(e){let t=document.querySelector(`${e}`);if(t)return this.setQueryResult(t),this;console.log(`Invalid class or id name - ${e}`)}setQueryResult(e){return this.$queryResult=e,this}getQueryResult(){return this.$queryResult}},f(Ie,"ElementAbstract"),Ie);u(te,"ElementAbstract");var Oe,Rt=(Oe=class extends te{addNodeElement(e){return this.setQueryResult(e),this}forward(e){let t=this.getQueryResult().nextElementSibling;for(;t;){if(t.matches(e))return this.setQueryResult(t),this;t=t.nextElementSibling}return null}backward(e){let t=this.getQueryResult().previousElementSibling;for(;t;){if(t.matches(e))return this.setQueryResult(t),this;t=t.previousElementSibling}return null}in(){let e=this.getQueryResult().firstElementChild;return e?(this.setQueryResult(e),this):null}out(){let e=this.getQueryResult().parentElement;return e?(this.setQueryResult(e),this):null}queryChildren(e,t=!0){let o=this.getQueryResult().querySelector(e);return o?t?(this.setQueryResult(o),this):o:null}setSVGUseAttribute(e){let t=this.getQueryResult();if(t.tagName=="use")t.removeAttribute("xlink:href"),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e);else throw new DOMException("Not a valid svg use element")}},f(Oe,"Query"),Oe);u(Rt,"Query");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.Query=()=>new Rt;var Pa=Object.create,re=Object.defineProperty,La=Object.getOwnPropertyDescriptor,Aa=Object.getOwnPropertyNames,Ls=Object.getOwnPropertySymbols,Ia=Object.getPrototypeOf,js=Object.prototype.hasOwnProperty,Oa=Object.prototype.propertyIsEnumerable,As=f((w,e,t)=>e in w?re(w,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):w[e]=t,"__defNormalProp"),Is=f((w,e)=>{for(var t in e||(e={}))js.call(e,t)&&As(w,t,e[t]);if(Ls)for(var t of Ls(e))Oa.call(e,t)&&As(w,t,e[t]);return w},"__spreadValues"),Ma=f(w=>re(w,"__esModule",{value:!0}),"__markAsModule"),u=f((w,e)=>re(w,"name",{value:e,configurable:!0}),"__name"),Ra=f((w,e)=>f(function(){return e||(0,w[Object.keys(w)[0]])((e={exports:{}}).exports,e),e.exports},"__require"),"__commonJS"),qa=f((w,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Aa(e))!js.call(w,o)&&o!=="default"&&re(w,o,{get:f(()=>e[o],"get"),enumerable:!(t=La(e,o))||t.enumerable});return w},"__reExport"),Ba=f(w=>qa(Ma(re(w!=null?Pa(Ia(w)):{},"default",w&&w.__esModule&&"default"in w?{get:f(()=>w.default,"get"),enumerable:!0}:{value:w,enumerable:!0})),w),"__toModule"),oe=f((w,e,t)=>new Promise((o,l)=>{var d=f(y=>{try{m(t.next(y))}catch(v){l(v)}},"fulfilled"),p=f(y=>{try{m(t.throw(y))}catch(v){l(v)}},"rejected"),m=f(y=>y.done?o(y.value):Promise.resolve(y.value).then(d,p),"step");m((t=t.apply(w,e)).next())}),"__async"),Ha=Ra({"node_modules/sweetalert2/dist/sweetalert2.all.js"(w,e){(function(t,o){typeof w=="object"&&typeof e!="undefined"?e.exports=o():typeof define=="function"&&define.amd?define(o):(t=t||self,t.Sweetalert2=o())})(w,function(){"use strict";let t=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),o="SweetAlert2:",l=u(i=>{let s=[];for(let a=0;a<i.length;a++)s.indexOf(i[a])===-1&&s.push(i[a]);return s},"uniqueArray"),d=u(i=>i.charAt(0).toUpperCase()+i.slice(1),"capitalizeFirstLetter"),p=u(i=>Array.prototype.slice.call(i),"toArray"),m=u(i=>{console.warn("".concat(o," ").concat(typeof i=="object"?i.join(" "):i))},"warn"),y=u(i=>{console.error("".concat(o," ").concat(i))},"error"),v=[],n=u(i=>{v.includes(i)||(v.push(i),m(i))},"warnOnce"),r=u((i,s)=>{n('"'.concat(i,'" is deprecated and will be removed in the next major release. Please use "').concat(s,'" instead.'))},"warnAboutDeprecation"),c=u(i=>typeof i=="function"?i():i,"callIfFunction"),h=u(i=>i&&typeof i.toPromise=="function","hasToPromiseFn"),b=u(i=>h(i)?i.toPromise():Promise.resolve(i),"asPromise"),k=u(i=>i&&Promise.resolve(i)===i,"isPromise"),_=u(i=>typeof i=="object"&&i.jquery,"isJqueryElement"),x=u(i=>i instanceof Element||_(i),"isElement"),A=u(i=>{let s={};return typeof i[0]=="object"&&!x(i[0])?Object.assign(s,i[0]):["title","html","icon"].forEach((a,g)=>{let C=i[g];typeof C=="string"||x(C)?s[a]=C:C!==void 0&&y("Unexpected type of ".concat(a,'! Expected "string" or "Element", got ').concat(typeof C))}),s},"argsToParams"),R="swal2-",H=u(i=>{let s={};for(let a in i)s[i[a]]=R+i[a];return s},"prefix"),E=H(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),ae=H(["success","warning","info","question","error"]),N=u(()=>document.body.querySelector(".".concat(E.container)),"getContainer"),B=u(i=>{let s=N();return s?s.querySelector(i):null},"elementBySelector"),Q=u(i=>B(".".concat(i)),"elementByClass"),q=u(()=>Q(E.popup),"getPopup"),ge=u(()=>Q(E.icon),"getIcon"),qt=u(()=>Q(E.title),"getTitle"),ne=u(()=>Q(E["html-container"]),"getHtmlContainer"),Gt=u(()=>Q(E.image),"getImage"),xi=u(()=>Q(E["progress-steps"]),"getProgressSteps"),Xt=u(()=>Q(E["validation-message"]),"getValidationMessage"),ie=u(()=>B(".".concat(E.actions," .").concat(E.confirm)),"getConfirmButton"),he=u(()=>B(".".concat(E.actions," .").concat(E.deny)),"getDenyButton"),yo=u(()=>Q(E["input-label"]),"getInputLabel"),ke=u(()=>B(".".concat(E.loader)),"getLoader"),me=u(()=>B(".".concat(E.actions," .").concat(E.cancel)),"getCancelButton"),Wt=u(()=>Q(E.actions),"getActions"),Fi=u(()=>Q(E.footer),"getFooter"),Kt=u(()=>Q(E["timer-progress-bar"]),"getTimerProgressBar"),hn=u(()=>Q(E.close),"getCloseButton"),bo=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,gn=u(()=>{let i=p(q().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((a,g)=>(a=parseInt(a.getAttribute("tabindex")),g=parseInt(g.getAttribute("tabindex")),a>g?1:a<g?-1:0)),s=p(q().querySelectorAll(bo)).filter(a=>a.getAttribute("tabindex")!=="-1");return l(i.concat(s)).filter(a=>Z(a))},"getFocusableElements"),mn=u(()=>!Bt()&&!document.body.classList.contains(E["no-backdrop"]),"isModal"),Bt=u(()=>document.body.classList.contains(E["toast-shown"]),"isToast"),_o=u(()=>q().hasAttribute("data-loading"),"isLoading"),Ce={previousBodyPadding:null},V=u((i,s)=>{if(i.textContent="",s){let g=new DOMParser().parseFromString(s,"text/html");p(g.querySelector("head").childNodes).forEach(C=>{i.appendChild(C)}),p(g.querySelector("body").childNodes).forEach(C=>{i.appendChild(C)})}},"setInnerHtml"),Ht=u((i,s)=>{if(!s)return!1;let a=s.split(/\s+/);for(let g=0;g<a.length;g++)if(!i.classList.contains(a[g]))return!1;return!0},"hasClass"),Eo=u((i,s)=>{p(i.classList).forEach(a=>{!Object.values(E).includes(a)&&!Object.values(ae).includes(a)&&!Object.values(s.showClass).includes(a)&&i.classList.remove(a)})},"removeCustomClasses"),se=u((i,s,a)=>{if(Eo(i,s),s.customClass&&s.customClass[a]){if(typeof s.customClass[a]!="string"&&!s.customClass[a].forEach)return m("Invalid type of customClass.".concat(a,'! Expected string or iterable object, got "').concat(typeof s.customClass[a],'"'));M(i,s.customClass[a])}},"applyCustomClass"),wn=u((i,s)=>{if(!s)return null;switch(s){case"select":case"textarea":case"file":return ce(i,E[s]);case"checkbox":return i.querySelector(".".concat(E.checkbox," input"));case"radio":return i.querySelector(".".concat(E.radio," input:checked"))||i.querySelector(".".concat(E.radio," input:first-child"));case"range":return i.querySelector(".".concat(E.range," input"));default:return ce(i,E.input)}},"getInput"),Ti=u(i=>{if(i.focus(),i.type!=="file"){let s=i.value;i.value="",i.value=s}},"focusInput"),Di=u((i,s,a)=>{!i||!s||(typeof s=="string"&&(s=s.split(/\s+/).filter(Boolean)),s.forEach(g=>{i.forEach?i.forEach(C=>{a?C.classList.add(g):C.classList.remove(g)}):a?i.classList.add(g):i.classList.remove(g)}))},"toggleClass"),M=u((i,s)=>{Di(i,s,!0)},"addClass"),le=u((i,s)=>{Di(i,s,!1)},"removeClass"),ce=u((i,s)=>{for(let a=0;a<i.childNodes.length;a++)if(Ht(i.childNodes[a],s))return i.childNodes[a]},"getChildByClass"),Nt=u((i,s,a)=>{a==="".concat(parseInt(a))&&(a=parseInt(a)),a||parseInt(a)===0?i.style[s]=typeof a=="number"?"".concat(a,"px"):a:i.style.removeProperty(s)},"applyNumericalStyle"),j=u(function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";i.style.display=s},"show"),z=u(i=>{i.style.display="none"},"hide"),Pi=u((i,s,a,g)=>{let C=i.querySelector(s);C&&(C.style[a]=g)},"setStyle"),Yt=u((i,s,a)=>{s?j(i,a):z(i)},"toggle"),Z=u(i=>!!(i&&(i.offsetWidth||i.offsetHeight||i.getClientRects().length)),"isVisible"),ko=u(()=>!Z(ie())&&!Z(he())&&!Z(me()),"allButtonsAreHidden"),Li=u(i=>i.scrollHeight>i.clientHeight,"isScrollable"),Ai=u(i=>{let s=window.getComputedStyle(i),a=parseFloat(s.getPropertyValue("animation-duration")||"0"),g=parseFloat(s.getPropertyValue("transition-duration")||"0");return a>0||g>0},"hasCssAnimation"),vn=u(function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=Kt();Z(a)&&(s&&(a.style.transition="none",a.style.width="100%"),setTimeout(()=>{a.style.transition="width ".concat(i/1e3,"s linear"),a.style.width="0%"},10))},"animateTimerProgressBar"),Co=u(()=>{let i=Kt(),s=parseInt(window.getComputedStyle(i).width);i.style.removeProperty("transition"),i.style.width="100%";let a=parseInt(window.getComputedStyle(i).width),g=parseInt(s/a*100);i.style.removeProperty("transition"),i.style.width="".concat(g,"%")},"stopTimerProgressBar"),Ii=u(()=>typeof window=="undefined"||typeof document=="undefined","isNodeEnv"),So=`
 <div aria-labelledby="`.concat(E.title,'" aria-describedby="').concat(E["html-container"],'" class="').concat(E.popup,`" tabindex="-1">
   <button type="button" class="`).concat(E.close,`"></button>
   <ul class="`).concat(E["progress-steps"],`"></ul>
   <div class="`).concat(E.icon,`"></div>
   <img class="`).concat(E.image,`" />
   <h2 class="`).concat(E.title,'" id="').concat(E.title,`"></h2>
   <div class="`).concat(E["html-container"],'" id="').concat(E["html-container"],`"></div>
   <input class="`).concat(E.input,`" />
   <input type="file" class="`).concat(E.file,`" />
   <div class="`).concat(E.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(E.select,`"></select>
   <div class="`).concat(E.radio,`"></div>
   <label for="`).concat(E.checkbox,'" class="').concat(E.checkbox,`">
     <input type="checkbox" />
     <span class="`).concat(E.label,`"></span>
   </label>
   <textarea class="`).concat(E.textarea,`"></textarea>
   <div class="`).concat(E["validation-message"],'" id="').concat(E["validation-message"],`"></div>
   <div class="`).concat(E.actions,`">
     <div class="`).concat(E.loader,`"></div>
     <button type="button" class="`).concat(E.confirm,`"></button>
     <button type="button" class="`).concat(E.deny,`"></button>
     <button type="button" class="`).concat(E.cancel,`"></button>
   </div>
   <div class="`).concat(E.footer,`"></div>
   <div class="`).concat(E["timer-progress-bar-container"],`">
     <div class="`).concat(E["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),xo=u(()=>{let i=N();return i?(i.remove(),le([document.documentElement,document.body],[E["no-backdrop"],E["toast-shown"],E["has-column"]]),!0):!1},"resetOldContainer"),we=u(()=>{ye.isVisible()&&ye.resetValidationMessage()},"resetValidationMessage"),Fo=u(()=>{let i=q(),s=ce(i,E.input),a=ce(i,E.file),g=i.querySelector(".".concat(E.range," input")),C=i.querySelector(".".concat(E.range," output")),F=ce(i,E.select),$=i.querySelector(".".concat(E.checkbox," input")),J=ce(i,E.textarea);s.oninput=we,a.onchange=we,F.onchange=we,$.onchange=we,J.oninput=we,g.oninput=()=>{we(),C.value=g.value},g.onchange=()=>{we(),g.nextSibling.value=g.value}},"addInputChangeListeners"),To=u(i=>typeof i=="string"?document.querySelector(i):i,"getTarget"),Do=u(i=>{let s=q();s.setAttribute("role",i.toast?"alert":"dialog"),s.setAttribute("aria-live",i.toast?"polite":"assertive"),i.toast||s.setAttribute("aria-modal","true")},"setupAccessibility"),Po=u(i=>{window.getComputedStyle(i).direction==="rtl"&&M(N(),E.rtl)},"setupRTL"),Lo=u(i=>{let s=xo();if(Ii()){y("SweetAlert2 requires document to initialize");return}let a=document.createElement("div");a.className=E.container,s&&M(a,E["no-transition"]),V(a,So);let g=To(i.target);g.appendChild(a),Do(i),Po(g),Fo()},"init"),yn=u((i,s)=>{i instanceof HTMLElement?s.appendChild(i):typeof i=="object"?Ao(i,s):i&&V(s,i)},"parseHtmlToContainer"),Ao=u((i,s)=>{i.jquery?Io(s,i):V(s,i.toString())},"handleObject"),Io=u((i,s)=>{if(i.textContent="",0 in s)for(let a=0;a in s;a++)i.appendChild(s[a].cloneNode(!0));else i.appendChild(s.cloneNode(!0))},"handleJqueryElem"),Ut=(()=>{if(Ii())return!1;let i=document.createElement("div"),s={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(let a in s)if(Object.prototype.hasOwnProperty.call(s,a)&&typeof i.style[a]!="undefined")return s[a];return!1})(),Oo=u(()=>{let i=document.createElement("div");i.className=E["scrollbar-measure"],document.body.appendChild(i);let s=i.getBoundingClientRect().width-i.clientWidth;return document.body.removeChild(i),s},"measureScrollbar"),Mo=u((i,s)=>{let a=Wt(),g=ke();!s.showConfirmButton&&!s.showDenyButton&&!s.showCancelButton?z(a):j(a),se(a,s,"actions"),Oi(a,g,s),V(g,s.loaderHtml),se(g,s,"loader")},"renderActions");function Oi(i,s,a){let g=ie(),C=he(),F=me();Jt(g,"confirm",a),Jt(C,"deny",a),Jt(F,"cancel",a),Mi(g,C,F,a),a.reverseButtons&&(a.toast?(i.insertBefore(F,g),i.insertBefore(C,g)):(i.insertBefore(F,s),i.insertBefore(C,s),i.insertBefore(g,s)))}f(Oi,"renderButtons"),u(Oi,"renderButtons");function Mi(i,s,a,g){if(!g.buttonsStyling)return le([i,s,a],E.styled);M([i,s,a],E.styled),g.confirmButtonColor&&(i.style.backgroundColor=g.confirmButtonColor,M(i,E["default-outline"])),g.denyButtonColor&&(s.style.backgroundColor=g.denyButtonColor,M(s,E["default-outline"])),g.cancelButtonColor&&(a.style.backgroundColor=g.cancelButtonColor,M(a,E["default-outline"]))}f(Mi,"handleButtonsStyling"),u(Mi,"handleButtonsStyling");function Jt(i,s,a){Yt(i,a["show".concat(d(s),"Button")],"inline-block"),V(i,a["".concat(s,"ButtonText")]),i.setAttribute("aria-label",a["".concat(s,"ButtonAriaLabel")]),i.className=E[s],se(i,a,"".concat(s,"Button")),M(i,a["".concat(s,"ButtonClass")])}f(Jt,"renderButton"),u(Jt,"renderButton");function Ri(i,s){typeof s=="string"?i.style.background=s:s||M([document.documentElement,document.body],E["no-backdrop"])}f(Ri,"handleBackdropParam"),u(Ri,"handleBackdropParam");function qi(i,s){s in E?M(i,E[s]):(m('The "position" parameter is not valid, defaulting to "center"'),M(i,E.center))}f(qi,"handlePositionParam"),u(qi,"handlePositionParam");function Bi(i,s){if(s&&typeof s=="string"){let a="grow-".concat(s);a in E&&M(i,E[a])}}f(Bi,"handleGrowParam"),u(Bi,"handleGrowParam");let Ro=u((i,s)=>{let a=N();a&&(Ri(a,s.backdrop),qi(a,s.position),Bi(a,s.grow),se(a,s,"container"))},"renderContainer");var I={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};let qo=["input","file","range","select","radio","checkbox","textarea"],Bo=u((i,s)=>{let a=q(),g=I.innerParams.get(i),C=!g||s.input!==g.input;qo.forEach(F=>{let $=E[F],J=ce(a,$);Uo(F,s.inputAttributes),J.className=$,C&&z(J)}),s.input&&(C&&Ho(s),$o(s))},"renderInput"),Ho=u(i=>{if(!X[i.input])return y('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(i.input,'"'));let s=Hi(i.input),a=X[i.input](s,i);j(a),setTimeout(()=>{Ti(a)})},"showInput"),No=u(i=>{for(let s=0;s<i.attributes.length;s++){let a=i.attributes[s].name;["type","value","style"].includes(a)||i.removeAttribute(a)}},"removeAttributes"),Uo=u((i,s)=>{let a=wn(q(),i);if(a){No(a);for(let g in s)a.setAttribute(g,s[g])}},"setAttributes"),$o=u(i=>{let s=Hi(i.input);i.customClass&&M(s,i.customClass.input)},"setCustomClass"),bn=u((i,s)=>{(!i.placeholder||s.inputPlaceholder)&&(i.placeholder=s.inputPlaceholder)},"setInputPlaceholder"),$t=u((i,s,a)=>{if(a.inputLabel){i.id=E.input;let g=document.createElement("label"),C=E["input-label"];g.setAttribute("for",i.id),g.className=C,M(g,a.customClass.inputLabel),g.innerText=a.inputLabel,s.insertAdjacentElement("beforebegin",g)}},"setInputLabel"),Hi=u(i=>{let s=E[i]?E[i]:E.input;return ce(q(),s)},"getInputContainer"),X={};X.text=X.email=X.password=X.number=X.tel=X.url=(i,s)=>(typeof s.inputValue=="string"||typeof s.inputValue=="number"?i.value=s.inputValue:k(s.inputValue)||m('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof s.inputValue,'"')),$t(i,i,s),bn(i,s),i.type=s.input,i),X.file=(i,s)=>($t(i,i,s),bn(i,s),i),X.range=(i,s)=>{let a=i.querySelector("input"),g=i.querySelector("output");return a.value=s.inputValue,a.type=s.input,g.value=s.inputValue,$t(a,i,s),i},X.select=(i,s)=>{if(i.textContent="",s.inputPlaceholder){let a=document.createElement("option");V(a,s.inputPlaceholder),a.value="",a.disabled=!0,a.selected=!0,i.appendChild(a)}return $t(i,i,s),i},X.radio=i=>(i.textContent="",i),X.checkbox=(i,s)=>{let a=wn(q(),"checkbox");a.value=1,a.id=E.checkbox,a.checked=!!s.inputValue;let g=i.querySelector("span");return V(g,s.inputPlaceholder),i},X.textarea=(i,s)=>{i.value=s.inputValue,bn(i,s),$t(i,i,s);let a=u(g=>parseInt(window.getComputedStyle(g).marginLeft)+parseInt(window.getComputedStyle(g).marginRight),"getMargin");return setTimeout(()=>{if("MutationObserver"in window){let g=parseInt(window.getComputedStyle(q()).width),C=u(()=>{let F=i.offsetWidth+a(i);F>g?q().style.width="".concat(F,"px"):q().style.width=null},"textareaResizeHandler");new MutationObserver(C).observe(i,{attributes:!0,attributeFilter:["style"]})}}),i};let jo=u((i,s)=>{let a=ne();se(a,s,"htmlContainer"),s.html?(yn(s.html,a),j(a,"block")):s.text?(a.textContent=s.text,j(a,"block")):z(a),Bo(i,s)},"renderContent"),Vo=u((i,s)=>{let a=Fi();Yt(a,s.footer),s.footer&&yn(s.footer,a),se(a,s,"footer")},"renderFooter"),zo=u((i,s)=>{let a=hn();V(a,s.closeButtonHtml),se(a,s,"closeButton"),Yt(a,s.showCloseButton),a.setAttribute("aria-label",s.closeButtonAriaLabel)},"renderCloseButton"),Qo=u((i,s)=>{let a=I.innerParams.get(i),g=ge();if(a&&s.icon===a.icon){Ui(g,s),Ni(g,s);return}if(!s.icon&&!s.iconHtml)return z(g);if(s.icon&&Object.keys(ae).indexOf(s.icon)===-1)return y('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(s.icon,'"')),z(g);j(g),Ui(g,s),Ni(g,s),M(g,s.showClass.icon)},"renderIcon"),Ni=u((i,s)=>{for(let a in ae)s.icon!==a&&le(i,ae[a]);M(i,ae[s.icon]),Xo(i,s),Go(),se(i,s,"icon")},"applyStyles"),Go=u(()=>{let i=q(),s=window.getComputedStyle(i).getPropertyValue("background-color"),a=i.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let g=0;g<a.length;g++)a[g].style.backgroundColor=s},"adjustSuccessIconBackgoundColor"),Ui=u((i,s)=>{i.textContent="",s.iconHtml?V(i,$i(s.iconHtml)):s.icon==="success"?V(i,`
      <div class="swal2-success-circular-line-left"></div>
      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
      <div class="swal2-success-circular-line-right"></div>
    `):s.icon==="error"?V(i,`
      <span class="swal2-x-mark">
        <span class="swal2-x-mark-line-left"></span>
        <span class="swal2-x-mark-line-right"></span>
      </span>
    `):V(i,$i({question:"?",warning:"!",info:"i"}[s.icon]))},"setContent"),Xo=u((i,s)=>{if(s.iconColor){i.style.color=s.iconColor,i.style.borderColor=s.iconColor;for(let a of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Pi(i,a,"backgroundColor",s.iconColor);Pi(i,".swal2-success-ring","borderColor",s.iconColor)}},"setColor"),$i=u(i=>'<div class="'.concat(E["icon-content"],'">').concat(i,"</div>"),"iconContent"),Wo=u((i,s)=>{let a=Gt();if(!s.imageUrl)return z(a);j(a,""),a.setAttribute("src",s.imageUrl),a.setAttribute("alt",s.imageAlt),Nt(a,"width",s.imageWidth),Nt(a,"height",s.imageHeight),a.className=E.image,se(a,s,"image")},"renderImage"),Ko=u(i=>{let s=document.createElement("li");return M(s,E["progress-step"]),V(s,i),s},"createStepElement"),Yo=u(i=>{let s=document.createElement("li");return M(s,E["progress-step-line"]),i.progressStepsDistance&&(s.style.width=i.progressStepsDistance),s},"createLineElement"),Jo=u((i,s)=>{let a=xi();if(!s.progressSteps||s.progressSteps.length===0)return z(a);j(a),a.textContent="",s.currentProgressStep>=s.progressSteps.length&&m("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.progressSteps.forEach((g,C)=>{let F=Ko(g);if(a.appendChild(F),C===s.currentProgressStep&&M(F,E["active-progress-step"]),C!==s.progressSteps.length-1){let $=Yo(s);a.appendChild($)}})},"renderProgressSteps"),Zo=u((i,s)=>{let a=qt();Yt(a,s.title||s.titleText,"block"),s.title&&yn(s.title,a),s.titleText&&(a.innerText=s.titleText),se(a,s,"title")},"renderTitle"),er=u((i,s)=>{let a=N(),g=q();s.toast?(Nt(a,"width",s.width),g.style.width="100%",g.insertBefore(ke(),ge())):Nt(g,"width",s.width),Nt(g,"padding",s.padding),s.background&&(g.style.background=s.background),z(Xt()),tr(g,s)},"renderPopup"),tr=u((i,s)=>{i.className="".concat(E.popup," ").concat(Z(i)?s.showClass.popup:""),s.toast?(M([document.documentElement,document.body],E["toast-shown"]),M(i,E.toast)):M(i,E.modal),se(i,s,"popup"),typeof s.customClass=="string"&&M(i,s.customClass),s.icon&&M(i,E["icon-".concat(s.icon)])},"addClasses"),ji=u((i,s)=>{er(i,s),Ro(i,s),Jo(i,s),Qo(i,s),Wo(i,s),Zo(i,s),zo(i,s),jo(i,s),Mo(i,s),Vo(i,s),typeof s.didRender=="function"&&s.didRender(q())},"render"),nr=u(()=>Z(q()),"isVisible$1"),Vi=u(()=>ie()&&ie().click(),"clickConfirm"),ir=u(()=>he()&&he().click(),"clickDeny"),sr=u(()=>me()&&me().click(),"clickCancel");function zi(){let i=this;for(var s=arguments.length,a=new Array(s),g=0;g<s;g++)a[g]=arguments[g];return new i(...a)}f(zi,"fire"),u(zi,"fire");function Qi(i){let a=class a extends this{_main(C,F){return super._main(C,Object.assign({},i,F))}};f(a,"MixinSwal");let s=a;return u(s,"MixinSwal"),s}f(Qi,"mixin"),u(Qi,"mixin");let Se=u(i=>{let s=q();s||ye.fire(),s=q();let a=ke();Bt()?z(ge()):or(s,i),j(a),s.setAttribute("data-loading",!0),s.setAttribute("aria-busy",!0),s.focus()},"showLoading"),or=u((i,s)=>{let a=Wt(),g=ke();!s&&Z(ie())&&(s=ie()),j(a),s&&(z(s),g.setAttribute("data-button-to-replace",s.className)),g.parentNode.insertBefore(g,s),M([i,a],E.loading)},"replaceButton"),rr=100,P={},ar=u(()=>{P.previousActiveElement&&P.previousActiveElement.focus?(P.previousActiveElement.focus(),P.previousActiveElement=null):document.body&&document.body.focus()},"focusPreviousActiveElement"),lr=u(i=>new Promise(s=>{if(!i)return s();let a=window.scrollX,g=window.scrollY;P.restoreFocusTimeout=setTimeout(()=>{ar(),s()},rr),window.scrollTo(a,g)}),"restoreActiveElement"),cr=u(()=>P.timeout&&P.timeout.getTimerLeft(),"getTimerLeft"),Gi=u(()=>{if(P.timeout)return Co(),P.timeout.stop()},"stopTimer"),Xi=u(()=>{if(P.timeout){let i=P.timeout.start();return vn(i),i}},"resumeTimer"),ur=u(()=>{let i=P.timeout;return i&&(i.running?Gi():Xi())},"toggleTimer"),dr=u(i=>{if(P.timeout){let s=P.timeout.increase(i);return vn(s,!0),s}},"increaseTimer"),pr=u(()=>P.timeout&&P.timeout.isRunning(),"isTimerRunning"),Wi=!1,_n={};function Ki(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";_n[i]=this,Wi||(document.body.addEventListener("click",fr),Wi=!0)}f(Ki,"bindClickHandler"),u(Ki,"bindClickHandler");let fr=u(i=>{for(let s=i.target;s&&s!==document;s=s.parentNode)for(let a in _n){let g=s.getAttribute(a);if(g){_n[a].fire({template:g});return}}},"bodyClickListener"),xe={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},hr=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],gr={},mr=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Yi=u(i=>Object.prototype.hasOwnProperty.call(xe,i),"isValidParameter"),wr=u(i=>hr.indexOf(i)!==-1,"isUpdatableParameter"),En=u(i=>gr[i],"isDeprecatedParameter"),vr=u(i=>{Yi(i)||m('Unknown parameter "'.concat(i,'"'))},"checkIfParamIsValid"),yr=u(i=>{mr.includes(i)&&m('The parameter "'.concat(i,'" is incompatible with toasts'))},"checkIfToastParamIsValid"),br=u(i=>{En(i)&&r(i,En(i))},"checkIfParamIsDeprecated"),_r=u(i=>{!i.backdrop&&i.allowOutsideClick&&m('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let s in i)vr(s),i.toast&&yr(s),br(s)},"showWarningsForParams");var Er=Object.freeze({isValidParameter:Yi,isUpdatableParameter:wr,isDeprecatedParameter:En,argsToParams:A,isVisible:nr,clickConfirm:Vi,clickDeny:ir,clickCancel:sr,getContainer:N,getPopup:q,getTitle:qt,getHtmlContainer:ne,getImage:Gt,getIcon:ge,getInputLabel:yo,getCloseButton:hn,getActions:Wt,getConfirmButton:ie,getDenyButton:he,getCancelButton:me,getLoader:ke,getFooter:Fi,getTimerProgressBar:Kt,getFocusableElements:gn,getValidationMessage:Xt,isLoading:_o,fire:zi,mixin:Qi,showLoading:Se,enableLoading:Se,getTimerLeft:cr,stopTimer:Gi,resumeTimer:Xi,toggleTimer:ur,increaseTimer:dr,isTimerRunning:pr,bindClickHandler:Ki});function kn(){let i=I.innerParams.get(this);if(!i)return;let s=I.domCache.get(this);z(s.loader),Bt()?i.icon&&j(ge()):kr(s),le([s.popup,s.actions],E.loading),s.popup.removeAttribute("aria-busy"),s.popup.removeAttribute("data-loading"),s.confirmButton.disabled=!1,s.denyButton.disabled=!1,s.cancelButton.disabled=!1}f(kn,"hideLoading"),u(kn,"hideLoading");let kr=u(i=>{let s=i.popup.getElementsByClassName(i.loader.getAttribute("data-button-to-replace"));s.length?j(s[0],"inline-block"):ko()&&z(i.actions)},"showRelatedButton");function Ji(i){let s=I.innerParams.get(i||this),a=I.domCache.get(i||this);return a?wn(a.popup,s.input):null}f(Ji,"getInput$1"),u(Ji,"getInput$1");let Cr=u(()=>{Ce.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(Ce.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Ce.previousBodyPadding+Oo(),"px"))},"fixScrollbar"),Sr=u(()=>{Ce.previousBodyPadding!==null&&(document.body.style.paddingRight="".concat(Ce.previousBodyPadding,"px"),Ce.previousBodyPadding=null)},"undoScrollbar"),xr=u(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!Ht(document.body,E.iosfix)){let s=document.body.scrollTop;document.body.style.top="".concat(s*-1,"px"),M(document.body,E.iosfix),Tr(),Fr()}},"iOSfix"),Fr=u(()=>{!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)&&q().scrollHeight>window.innerHeight-44&&(N().style.paddingBottom="".concat(44,"px"))},"addBottomPaddingForTallPopups"),Tr=u(()=>{let i=N(),s;i.ontouchstart=a=>{s=Dr(a)},i.ontouchmove=a=>{s&&(a.preventDefault(),a.stopPropagation())}},"lockBodyScroll"),Dr=u(i=>{let s=i.target,a=N();return Pr(i)||Lr(i)?!1:s===a||!Li(a)&&s.tagName!=="INPUT"&&s.tagName!=="TEXTAREA"&&!(Li(ne())&&ne().contains(s))},"shouldPreventTouchMove"),Pr=u(i=>i.touches&&i.touches.length&&i.touches[0].touchType==="stylus","isStylys"),Lr=u(i=>i.touches&&i.touches.length>1,"isZoom"),Ar=u(()=>{if(Ht(document.body,E.iosfix)){let i=parseInt(document.body.style.top,10);le(document.body,E.iosfix),document.body.style.top="",document.body.scrollTop=i*-1}},"undoIOSfix"),Ir=u(()=>{p(document.body.children).forEach(s=>{s===N()||s.contains(N())||(s.hasAttribute("aria-hidden")&&s.setAttribute("data-previous-aria-hidden",s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))})},"setAriaHidden"),Zi=u(()=>{p(document.body.children).forEach(s=>{s.hasAttribute("data-previous-aria-hidden")?(s.setAttribute("aria-hidden",s.getAttribute("data-previous-aria-hidden")),s.removeAttribute("data-previous-aria-hidden")):s.removeAttribute("aria-hidden")})},"unsetAriaHidden");var jt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function Cn(i,s,a,g){Bt()?ss(i,g):(lr(a).then(()=>ss(i,g)),P.keydownTarget.removeEventListener("keydown",P.keydownHandler,{capture:P.keydownListenerCapture}),P.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(s.setAttribute("style","display:none !important"),s.removeAttribute("class"),s.innerHTML=""):s.remove(),mn()&&(Sr(),Ar(),Zi()),es()}f(Cn,"removePopupAndResetState"),u(Cn,"removePopupAndResetState");function es(){le([document.documentElement,document.body],[E.shown,E["height-auto"],E["no-backdrop"],E["toast-shown"]])}f(es,"removeBodyClasses"),u(es,"removeBodyClasses");function Vt(i){i=Mr(i);let s=jt.swalPromiseResolve.get(this),a=Or(this);this.isAwaitingPromise()?i.isDismissed||(is(this),s(i)):a&&s(i)}f(Vt,"close"),u(Vt,"close");function ts(){return!!I.awaitingPromise.get(this)}f(ts,"isAwaitingPromise"),u(ts,"isAwaitingPromise");let Or=u(i=>{let s=q();if(!s)return!1;let a=I.innerParams.get(i);if(!a||Ht(s,a.hideClass.popup))return!1;le(s,a.showClass.popup),M(s,a.hideClass.popup);let g=N();return le(g,a.showClass.backdrop),M(g,a.hideClass.backdrop),Rr(i,s,a),!0},"triggerClosePopup");function ns(i){let s=jt.swalPromiseReject.get(this);is(this),s&&s(i)}f(ns,"rejectPromise"),u(ns,"rejectPromise");let is=u(i=>{i.isAwaitingPromise()&&(I.awaitingPromise.delete(i),I.innerParams.get(i)||i._destroy())},"handleAwaitingPromise"),Mr=u(i=>typeof i=="undefined"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},i),"prepareResolveValue"),Rr=u((i,s,a)=>{let g=N(),C=Ut&&Ai(s);typeof a.willClose=="function"&&a.willClose(s),C?qr(i,s,g,a.returnFocus,a.didClose):Cn(i,g,a.returnFocus,a.didClose)},"handlePopupAnimation"),qr=u((i,s,a,g,C)=>{P.swalCloseEventFinishedCallback=Cn.bind(null,i,a,g,C),s.addEventListener(Ut,function(F){F.target===s&&(P.swalCloseEventFinishedCallback(),delete P.swalCloseEventFinishedCallback)})},"animatePopup"),ss=u((i,s)=>{setTimeout(()=>{typeof s=="function"&&s.bind(i.params)(),i._destroy()})},"triggerDidCloseAndDispose");function Sn(i,s,a){let g=I.domCache.get(i);s.forEach(C=>{g[C].disabled=a})}f(Sn,"setButtonsDisabled"),u(Sn,"setButtonsDisabled");function xn(i,s){if(!i)return!1;if(i.type==="radio"){let g=i.parentNode.parentNode.querySelectorAll("input");for(let C=0;C<g.length;C++)g[C].disabled=s}else i.disabled=s}f(xn,"setInputDisabled"),u(xn,"setInputDisabled");function os(){Sn(this,["confirmButton","denyButton","cancelButton"],!1)}f(os,"enableButtons"),u(os,"enableButtons");function rs(){Sn(this,["confirmButton","denyButton","cancelButton"],!0)}f(rs,"disableButtons"),u(rs,"disableButtons");function as(){return xn(this.getInput(),!1)}f(as,"enableInput"),u(as,"enableInput");function ls(){return xn(this.getInput(),!0)}f(ls,"disableInput"),u(ls,"disableInput");function cs(i){let s=I.domCache.get(this),a=I.innerParams.get(this);V(s.validationMessage,i),s.validationMessage.className=E["validation-message"],a.customClass&&a.customClass.validationMessage&&M(s.validationMessage,a.customClass.validationMessage),j(s.validationMessage);let g=this.getInput();g&&(g.setAttribute("aria-invalid",!0),g.setAttribute("aria-describedby",E["validation-message"]),Ti(g),M(g,E.inputerror))}f(cs,"showValidationMessage"),u(cs,"showValidationMessage");function us(){let i=I.domCache.get(this);i.validationMessage&&z(i.validationMessage);let s=this.getInput();s&&(s.removeAttribute("aria-invalid"),s.removeAttribute("aria-describedby"),le(s,E.inputerror))}f(us,"resetValidationMessage$1"),u(us,"resetValidationMessage$1");function ds(){return I.domCache.get(this).progressSteps}f(ds,"getProgressSteps$1"),u(ds,"getProgressSteps$1");let In=class In{constructor(s,a){this.callback=s,this.remaining=a,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(s){let a=this.running;return a&&this.stop(),this.remaining+=s,a&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}};f(In,"Timer");let Zt=In;u(Zt,"Timer");var ps={email:f((i,s)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(i)?Promise.resolve():Promise.resolve(s||"Invalid email address"),"email"),url:f((i,s)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(i)?Promise.resolve():Promise.resolve(s||"Invalid URL"),"url")};function fs(i){i.inputValidator||Object.keys(ps).forEach(s=>{i.input===s&&(i.inputValidator=ps[s])})}f(fs,"setDefaultInputValidators"),u(fs,"setDefaultInputValidators");function hs(i){(!i.target||typeof i.target=="string"&&!document.querySelector(i.target)||typeof i.target!="string"&&!i.target.appendChild)&&(m('Target parameter is not valid, defaulting to "body"'),i.target="body")}f(hs,"validateCustomTargetElement"),u(hs,"validateCustomTargetElement");function gs(i){fs(i),i.showLoaderOnConfirm&&!i.preConfirm&&m(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),hs(i),typeof i.title=="string"&&(i.title=i.title.split(`
`).join("<br />")),Lo(i)}f(gs,"setParameters"),u(gs,"setParameters");let ms=["swal-title","swal-html","swal-footer"],Br=u(i=>{let s=typeof i.template=="string"?document.querySelector(i.template):i.template;if(!s)return{};let a=s.content;return zr(a),Object.assign(Hr(a),Nr(a),Ur(a),$r(a),jr(a),Vr(a,ms))},"getTemplateParams"),Hr=u(i=>{let s={};return p(i.querySelectorAll("swal-param")).forEach(a=>{ve(a,["name","value"]);let g=a.getAttribute("name"),C=a.getAttribute("value");typeof xe[g]=="boolean"&&C==="false"&&(C=!1),typeof xe[g]=="object"&&(C=JSON.parse(C)),s[g]=C}),s},"getSwalParams"),Nr=u(i=>{let s={};return p(i.querySelectorAll("swal-button")).forEach(a=>{ve(a,["type","color","aria-label"]);let g=a.getAttribute("type");s["".concat(g,"ButtonText")]=a.innerHTML,s["show".concat(d(g),"Button")]=!0,a.hasAttribute("color")&&(s["".concat(g,"ButtonColor")]=a.getAttribute("color")),a.hasAttribute("aria-label")&&(s["".concat(g,"ButtonAriaLabel")]=a.getAttribute("aria-label"))}),s},"getSwalButtons"),Ur=u(i=>{let s={},a=i.querySelector("swal-image");return a&&(ve(a,["src","width","height","alt"]),a.hasAttribute("src")&&(s.imageUrl=a.getAttribute("src")),a.hasAttribute("width")&&(s.imageWidth=a.getAttribute("width")),a.hasAttribute("height")&&(s.imageHeight=a.getAttribute("height")),a.hasAttribute("alt")&&(s.imageAlt=a.getAttribute("alt"))),s},"getSwalImage"),$r=u(i=>{let s={},a=i.querySelector("swal-icon");return a&&(ve(a,["type","color"]),a.hasAttribute("type")&&(s.icon=a.getAttribute("type")),a.hasAttribute("color")&&(s.iconColor=a.getAttribute("color")),s.iconHtml=a.innerHTML),s},"getSwalIcon"),jr=u(i=>{let s={},a=i.querySelector("swal-input");a&&(ve(a,["type","label","placeholder","value"]),s.input=a.getAttribute("type")||"text",a.hasAttribute("label")&&(s.inputLabel=a.getAttribute("label")),a.hasAttribute("placeholder")&&(s.inputPlaceholder=a.getAttribute("placeholder")),a.hasAttribute("value")&&(s.inputValue=a.getAttribute("value")));let g=i.querySelectorAll("swal-input-option");return g.length&&(s.inputOptions={},p(g).forEach(C=>{ve(C,["value"]);let F=C.getAttribute("value"),$=C.innerHTML;s.inputOptions[F]=$})),s},"getSwalInput"),Vr=u((i,s)=>{let a={};for(let g in s){let C=s[g],F=i.querySelector(C);F&&(ve(F,[]),a[C.replace(/^swal-/,"")]=F.innerHTML.trim())}return a},"getSwalStringParams"),zr=u(i=>{let s=ms.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);p(i.children).forEach(a=>{let g=a.tagName.toLowerCase();s.indexOf(g)===-1&&m("Unrecognized element <".concat(g,">"))})},"showWarningsForElements"),ve=u((i,s)=>{p(i.attributes).forEach(a=>{s.indexOf(a.name)===-1&&m(['Unrecognized attribute "'.concat(a.name,'" on <').concat(i.tagName.toLowerCase(),">."),"".concat(s.length?"Allowed attributes are: ".concat(s.join(", ")):"To set the value, use HTML within the element.")])})},"showWarningsForAttributes"),ws=10,Qr=u(i=>{let s=N(),a=q();typeof i.willOpen=="function"&&i.willOpen(a);let C=window.getComputedStyle(document.body).overflowY;Wr(s,a,i),setTimeout(()=>{Gr(s,a)},ws),mn()&&(Xr(s,i.scrollbarPadding,C),Ir()),!Bt()&&!P.previousActiveElement&&(P.previousActiveElement=document.activeElement),typeof i.didOpen=="function"&&setTimeout(()=>i.didOpen(a)),le(s,E["no-transition"])},"openPopup"),vs=u(i=>{let s=q();if(i.target!==s)return;let a=N();s.removeEventListener(Ut,vs),a.style.overflowY="auto"},"swalOpenAnimationFinished"),Gr=u((i,s)=>{Ut&&Ai(s)?(i.style.overflowY="hidden",s.addEventListener(Ut,vs)):i.style.overflowY="auto"},"setScrollingVisibility"),Xr=u((i,s,a)=>{xr(),s&&a!=="hidden"&&Cr(),setTimeout(()=>{i.scrollTop=0})},"fixScrollContainer"),Wr=u((i,s,a)=>{M(i,a.showClass.backdrop),s.style.setProperty("opacity","0","important"),j(s,"grid"),setTimeout(()=>{M(s,a.showClass.popup),s.style.removeProperty("opacity")},ws),M([document.documentElement,document.body],E.shown),a.heightAuto&&a.backdrop&&!a.toast&&M([document.documentElement,document.body],E["height-auto"])},"addClasses$1"),Kr=u((i,s)=>{s.input==="select"||s.input==="radio"?ta(i,s):["text","email","number","tel","textarea"].includes(s.input)&&(h(s.inputValue)||k(s.inputValue))&&(Se(ie()),na(i,s))},"handleInputOptionsAndValue"),Yr=u((i,s)=>{let a=i.getInput();if(!a)return null;switch(s.input){case"checkbox":return Jr(a);case"radio":return Zr(a);case"file":return ea(a);default:return s.inputAutoTrim?a.value.trim():a.value}},"getInputValue"),Jr=u(i=>i.checked?1:0,"getCheckboxValue"),Zr=u(i=>i.checked?i.value:null,"getRadioValue"),ea=u(i=>i.files.length?i.getAttribute("multiple")!==null?i.files:i.files[0]:null,"getFileValue"),ta=u((i,s)=>{let a=q(),g=u(C=>ia[s.input](a,Fn(C),s),"processInputOptions");h(s.inputOptions)||k(s.inputOptions)?(Se(ie()),b(s.inputOptions).then(C=>{i.hideLoading(),g(C)})):typeof s.inputOptions=="object"?g(s.inputOptions):y("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof s.inputOptions))},"handleInputOptions"),na=u((i,s)=>{let a=i.getInput();z(a),b(s.inputValue).then(g=>{a.value=s.input==="number"?parseFloat(g)||0:"".concat(g),j(a),a.focus(),i.hideLoading()}).catch(g=>{y("Error in inputValue promise: ".concat(g)),a.value="",j(a),a.focus(),i.hideLoading()})},"handleInputValue"),ia={select:f((i,s,a)=>{let g=ce(i,E.select),C=u((F,$,J)=>{let G=document.createElement("option");G.value=J,V(G,$),G.selected=ys(J,a.inputValue),F.appendChild(G)},"renderOption");s.forEach(F=>{let $=F[0],J=F[1];if(Array.isArray(J)){let G=document.createElement("optgroup");G.label=$,G.disabled=!1,g.appendChild(G),J.forEach(Fe=>C(G,Fe[1],Fe[0]))}else C(g,J,$)}),g.focus()},"select"),radio:f((i,s,a)=>{let g=ce(i,E.radio);s.forEach(F=>{let $=F[0],J=F[1],G=document.createElement("input"),Fe=document.createElement("label");G.type="radio",G.name=E.radio,G.value=$,ys($,a.inputValue)&&(G.checked=!0);let Mn=document.createElement("span");V(Mn,J),Mn.className=E.label,Fe.appendChild(G),Fe.appendChild(Mn),g.appendChild(Fe)});let C=g.querySelectorAll("input");C.length&&C[0].focus()},"radio")},Fn=u(i=>{let s=[];return typeof Map!="undefined"&&i instanceof Map?i.forEach((a,g)=>{let C=a;typeof C=="object"&&(C=Fn(C)),s.push([g,C])}):Object.keys(i).forEach(a=>{let g=i[a];typeof g=="object"&&(g=Fn(g)),s.push([a,g])}),s},"formatInputOptions"),ys=u((i,s)=>s&&s.toString()===i.toString(),"isSelected"),sa=u(i=>{let s=I.innerParams.get(i);i.disableButtons(),s.input?bs(i,"confirm"):Dn(i,!0)},"handleConfirmButtonClick"),oa=u(i=>{let s=I.innerParams.get(i);i.disableButtons(),s.returnInputValueOnDeny?bs(i,"deny"):Tn(i,!1)},"handleDenyButtonClick"),ra=u((i,s)=>{i.disableButtons(),s(t.cancel)},"handleCancelButtonClick"),bs=u((i,s)=>{let a=I.innerParams.get(i),g=Yr(i,a);a.inputValidator?aa(i,g,s):i.getInput().checkValidity()?s==="deny"?Tn(i,g):Dn(i,g):(i.enableButtons(),i.showValidationMessage(a.validationMessage))},"handleConfirmOrDenyWithInput"),aa=u((i,s,a)=>{let g=I.innerParams.get(i);i.disableInput(),Promise.resolve().then(()=>b(g.inputValidator(s,g.validationMessage))).then(F=>{i.enableButtons(),i.enableInput(),F?i.showValidationMessage(F):a==="deny"?Tn(i,s):Dn(i,s)})},"handleInputValidator"),Tn=u((i,s)=>{let a=I.innerParams.get(i||void 0);a.showLoaderOnDeny&&Se(he()),a.preDeny?(I.awaitingPromise.set(i||void 0,!0),Promise.resolve().then(()=>b(a.preDeny(s,a.validationMessage))).then(C=>{C===!1?i.hideLoading():i.closePopup({isDenied:!0,value:typeof C=="undefined"?s:C})}).catch(C=>Es(i||void 0,C))):i.closePopup({isDenied:!0,value:s})},"deny"),_s=u((i,s)=>{i.closePopup({isConfirmed:!0,value:s})},"succeedWith"),Es=u((i,s)=>{i.rejectPromise(s)},"rejectWith"),Dn=u((i,s)=>{let a=I.innerParams.get(i||void 0);a.showLoaderOnConfirm&&Se(),a.preConfirm?(i.resetValidationMessage(),I.awaitingPromise.set(i||void 0,!0),Promise.resolve().then(()=>b(a.preConfirm(s,a.validationMessage))).then(C=>{Z(Xt())||C===!1?i.hideLoading():_s(i,typeof C=="undefined"?s:C)}).catch(C=>Es(i||void 0,C))):_s(i,s)},"confirm"),la=u((i,s,a,g)=>{s.keydownTarget&&s.keydownHandlerAdded&&(s.keydownTarget.removeEventListener("keydown",s.keydownHandler,{capture:s.keydownListenerCapture}),s.keydownHandlerAdded=!1),a.toast||(s.keydownHandler=C=>ua(i,C,g),s.keydownTarget=a.keydownListenerCapture?window:q(),s.keydownListenerCapture=a.keydownListenerCapture,s.keydownTarget.addEventListener("keydown",s.keydownHandler,{capture:s.keydownListenerCapture}),s.keydownHandlerAdded=!0)},"addKeydownHandler"),Pn=u((i,s,a)=>{let g=gn();if(g.length)return s=s+a,s===g.length?s=0:s===-1&&(s=g.length-1),g[s].focus();q().focus()},"setFocus"),ks=["ArrowRight","ArrowDown"],ca=["ArrowLeft","ArrowUp"],ua=u((i,s,a)=>{let g=I.innerParams.get(i);g&&(g.stopKeydownPropagation&&s.stopPropagation(),s.key==="Enter"?da(i,s,g):s.key==="Tab"?pa(s,g):[...ks,...ca].includes(s.key)?fa(s.key):s.key==="Escape"&&ha(s,g,a))},"keydownHandler"),da=u((i,s,a)=>{if(!s.isComposing&&s.target&&i.getInput()&&s.target.outerHTML===i.getInput().outerHTML){if(["textarea","file"].includes(a.input))return;Vi(),s.preventDefault()}},"handleEnter"),pa=u((i,s)=>{let a=i.target,g=gn(),C=-1;for(let F=0;F<g.length;F++)if(a===g[F]){C=F;break}i.shiftKey?Pn(s,C,-1):Pn(s,C,1),i.stopPropagation(),i.preventDefault()},"handleTab"),fa=u(i=>{let s=ie(),a=he(),g=me();if(![s,a,g].includes(document.activeElement))return;let C=ks.includes(i)?"nextElementSibling":"previousElementSibling",F=document.activeElement[C];F&&F.focus()},"handleArrows"),ha=u((i,s,a)=>{c(s.allowEscapeKey)&&(i.preventDefault(),a(t.esc))},"handleEsc"),ga=u((i,s,a)=>{I.innerParams.get(i).toast?ma(i,s,a):(wa(s),va(s),ya(i,s,a))},"handlePopupClick"),ma=u((i,s,a)=>{s.popup.onclick=()=>{let g=I.innerParams.get(i);g.showConfirmButton||g.showDenyButton||g.showCancelButton||g.showCloseButton||g.timer||g.input||a(t.close)}},"handleToastClick"),en=!1,wa=u(i=>{i.popup.onmousedown=()=>{i.container.onmouseup=function(s){i.container.onmouseup=void 0,s.target===i.container&&(en=!0)}}},"handleModalMousedown"),va=u(i=>{i.container.onmousedown=()=>{i.popup.onmouseup=function(s){i.popup.onmouseup=void 0,(s.target===i.popup||i.popup.contains(s.target))&&(en=!0)}}},"handleContainerMousedown"),ya=u((i,s,a)=>{s.container.onclick=g=>{let C=I.innerParams.get(i);if(en){en=!1;return}g.target===s.container&&c(C.allowOutsideClick)&&a(t.backdrop)}},"handleModalClick");function Cs(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_r(Object.assign({},s,i)),P.currentInstance&&(P.currentInstance._destroy(),mn()&&Zi()),P.currentInstance=this;let a=ba(i,s);gs(a),Object.freeze(a),P.timeout&&(P.timeout.stop(),delete P.timeout),clearTimeout(P.restoreFocusTimeout);let g=Ea(this);return ji(this,a),I.innerParams.set(this,a),_a(this,g,a)}f(Cs,"_main"),u(Cs,"_main");let ba=u((i,s)=>{let a=Br(i),g=Object.assign({},xe,s,a,i);return g.showClass=Object.assign({},xe.showClass,g.showClass),g.hideClass=Object.assign({},xe.hideClass,g.hideClass),g},"prepareParams"),_a=u((i,s,a)=>new Promise((g,C)=>{let F=u($=>{i.closePopup({isDismissed:!0,dismiss:$})},"dismissWith");jt.swalPromiseResolve.set(i,g),jt.swalPromiseReject.set(i,C),s.confirmButton.onclick=()=>sa(i),s.denyButton.onclick=()=>oa(i),s.cancelButton.onclick=()=>ra(i,F),s.closeButton.onclick=()=>F(t.close),ga(i,s,F),la(i,P,a,F),Kr(i,a),Qr(a),ka(P,a,F),Ca(s,a),setTimeout(()=>{s.container.scrollTop=0})}),"swalPromise"),Ea=u(i=>{let s={popup:q(),container:N(),actions:Wt(),confirmButton:ie(),denyButton:he(),cancelButton:me(),loader:ke(),closeButton:hn(),validationMessage:Xt(),progressSteps:xi()};return I.domCache.set(i,s),s},"populateDomCache"),ka=u((i,s,a)=>{let g=Kt();z(g),s.timer&&(i.timeout=new Zt(()=>{a("timer"),delete i.timeout},s.timer),s.timerProgressBar&&(j(g),setTimeout(()=>{i.timeout&&i.timeout.running&&vn(s.timer)})))},"setupTimer"),Ca=u((i,s)=>{if(!s.toast){if(!c(s.allowEnterKey))return xa();Sa(i,s)||Pn(s,-1,1)}},"initFocus"),Sa=u((i,s)=>s.focusDeny&&Z(i.denyButton)?(i.denyButton.focus(),!0):s.focusCancel&&Z(i.cancelButton)?(i.cancelButton.focus(),!0):s.focusConfirm&&Z(i.confirmButton)?(i.confirmButton.focus(),!0):!1,"focusButton"),xa=u(()=>{document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()},"blurActiveElement");function Ss(i){let s=q(),a=I.innerParams.get(this);if(!s||Ht(s,a.hideClass.popup))return m("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");let g={};Object.keys(i).forEach(F=>{ye.isUpdatableParameter(F)?g[F]=i[F]:m('Invalid parameter to update: "'.concat(F,`". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js

If you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md`))});let C=Object.assign({},a,g);ji(this,C),I.innerParams.set(this,C),Object.defineProperties(this,{params:{value:Object.assign({},this.params,i),writable:!1,enumerable:!0}})}f(Ss,"update"),u(Ss,"update");function xs(){let i=I.domCache.get(this),s=I.innerParams.get(this);if(!s){Fs(this);return}i.popup&&P.swalCloseEventFinishedCallback&&(P.swalCloseEventFinishedCallback(),delete P.swalCloseEventFinishedCallback),P.deferDisposalTimer&&(clearTimeout(P.deferDisposalTimer),delete P.deferDisposalTimer),typeof s.didDestroy=="function"&&s.didDestroy(),Fa(this)}f(xs,"_destroy"),u(xs,"_destroy");let Fa=u(i=>{Fs(i),delete i.params,delete P.keydownHandler,delete P.keydownTarget,delete P.currentInstance},"disposeSwal"),Fs=u(i=>{i.isAwaitingPromise()?(Ln(I,i),I.awaitingPromise.set(i,!0)):(Ln(jt,i),Ln(I,i))},"disposeWeakMaps"),Ln=u((i,s)=>{for(let a in i)i[a].delete(s)},"unsetWeakMaps");var Ts=Object.freeze({hideLoading:kn,disableLoading:kn,getInput:Ji,close:Vt,isAwaitingPromise:ts,rejectPromise:ns,closePopup:Vt,closeModal:Vt,closeToast:Vt,enableButtons:os,disableButtons:rs,enableInput:as,disableInput:ls,showValidationMessage:cs,resetValidationMessage:us,getProgressSteps:ds,_main:Cs,update:Ss,_destroy:xs});let An,On=class On{constructor(){if(typeof window=="undefined")return;An=this;for(var s=arguments.length,a=new Array(s),g=0;g<s;g++)a[g]=arguments[g];let C=Object.freeze(this.constructor.argsToParams(a));Object.defineProperties(this,{params:{value:C,writable:!1,enumerable:!0,configurable:!0}});let F=this._main(this.params);I.promise.set(this,F)}then(s){return I.promise.get(this).then(s)}finally(s){return I.promise.get(this).finally(s)}};f(On,"SweetAlert");let de=On;u(de,"SweetAlert"),Object.assign(de.prototype,Ts),Object.assign(de,Er),Object.keys(Ts).forEach(i=>{de[i]=function(){if(An)return An[i](...arguments)}}),de.DismissReason=t,de.version="11.1.10";let ye=de;return ye.default=ye,ye}),typeof w!="undefined"&&w.Sweetalert2&&(w.swal=w.sweetAlert=w.Swal=w.SweetAlert=w.Sweetalert2),typeof document!="undefined"&&function(t,o){var l=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(l),l.styleSheet)l.styleSheet.disabled||(l.styleSheet.cssText=o);else try{l.innerHTML=o}catch(d){l.innerText=o}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')}}),Me,Un=(Me=class{constructor(e){return this.$request=e,this}run(){return oe(this,null,function*(){return yield fetch(this.getRequest())})}getRequest(){return this.$request}},f(Me,"FetchAPI"),Me);u(Un,"FetchAPI");var Re,ii=(Re=class{constructor(e){this.list=e}getList(){return this.list}},f(Re,"CommandRegistrar"),Re);u(ii,"CommandRegistrar");var D={play:'<svg class="icon tonics-play-outline"><use xlink:href="#tonics-play-outline"></use></svg>',playlist:'<svg class="icon tonics-music-playlist"><use xlink:href="#tonics-music-playlist"></use></svg>',plus:'<svg class="icon tonics-add-new"><use xlink:href="#tonics-add-new"></use></svg>',archive:'<svg class="icon tonics-archive"><use xlink:href="#tonics-archive"></use></svg>',note:'<svg class="icon tonics-note"><use xlink:href="#tonics-note"></use></svg>',notes:'<svg class="icon tonics-multiple-notes"><use xlink:href="#tonics-multiple-notes"></use></svg>',category:'<svg class="icon tonics-categories"><use xlink:href="#tonics-categories"></use></svg>',cog:'<svg class="icon tonics-cog"> <use xlink:href="#tonics-cog"></use></svg>',dashboard:'<svg class="icon tonics-dashboard"> <use xlink:href="#tonics-dashboard"></use></svg>',menu:'<svg class="icon tonics-menu"> <use xlink:href="#tonics-menu"></use></svg>',"trash-can":'<svg class="icon tonics-trash-can"> <use xlink:href="#tonics-trash-can"></use></svg>',cart:'<svg class="icon tonics-cart"> <use xlink:href="#tonics-cart"></use></svg>',widget:'<svg class="icon tonics-widgets"> <use xlink:href="#tonics-widgets"></use></svg>',tools:'<svg class="icon tonics-tools"> <use xlink:href="#tonics-tools"></use></svg>',"toggle-left":'<svg class="icon tonics-toggle-left"> <use xlink:href="#tonics-toggle-left"></use></svg>',"toggle-right":'<svg class="icon tonics-toggle-right"> <use xlink:href="#tonics-toggle-right"></use></svg>',"arrow-down":'<svg class="icon tonics-arrow-down"> <use xlink:href="#tonics-arrow-down"></use></svg>',"arrow-up":'<svg class="icon tonics-arrow-up"> <use xlink:href="#tonics-arrow-up"></use></svg>',"arrow-right":'<svg class="icon tonics-chevron-with-circle-right"> <use xlink:href="#tonics-chevron-with-circle-right"></use></svg>',"arrow-left":'<svg class="icon tonics-chevron-with-circle-left"> <use xlink:href="#tonics-chevron-with-circle-left"></use></svg>',"sign-out":'<svg class="icon tonics-sign-out"> <use xlink:href="#tonics-dashboard"></use></svg>',"user-solid-circle":'<svg class="icon tonics-user-solid-circle"> <use xlink:href="#tonics-user-solid-circle"></use></svg>',users:'<svg class="icon tonics-users"> <use xlink:href="#tonics-users"></use></svg>',"profile-settings":'<svg class="icon tonics-profile-settings"><use xlink:href="#tonics-profile-settings"></use></svg>',"more-horizontal":'<svg class="icon tonics-more-horizontal"><use xlink:href="#tonics-more-horizontal"></use></svg>',"more-vertical":'<svg class="icon tonics-more-vertical"><use xlink:href="#tonics-more-vertical"></use></svg>',heart:'<svg class="icon tonics-heart"> <use xlink:href="#tonics-heart"></use></svg>',"dots-two-vertical":'<svg class="icon tonics-dots-two-vertical"><use xlink:href="#tonics-dots-two-vertical"></use></svg>',"dots-two-horizontal":'<svg class="icon tonics-dots-two-horizontal"><use xlink:href="#tonics-dots-two-horizontal"></use></svg>',"heart-fill":'<svg class="icon tonics-heart-fill"> <use xlink:href="#tonics-heart-fill"></use></svg>',pending:'<svg class="icon tonics-pending"><use xlink:href="#tonics-pending"></use></svg>',remove:'<svg class="icon tonics-remove"> <use xlink:href="#tonics-remove"></use></svg>',"shopping-cart":'<svg class="icon tonics-shopping-cart"> <use xlink:href="#tonics-shopping-cart"></use></svg>',dollar:'<svg class="icon tonics-dollar"> <use xlink:href="#tonics-dollar"></use></svg>',"align-left":'<svg class="icon tonics-align_left"> <use xlink:href="#tonics-align_left"></use></svg>',"align-right":'<svg class="icon tonics-align_right"> <use xlink:href="#tonics-align_right"></use></svg>',"align-column":'<svg class="icon tonics-align-column"> <use xlink:href="#tonics-align-column"></use></svg>',"align-row":'<svg class="icon tonics-align-row"> <use xlink:href="#tonics-align-row"></use></svg>',MEDIA:{shuffle:'<svg class="icon tonics-shuffle"> <use xlink:href="#tonics-shuffle"></use></svg>',refresh:'<svg class="icon tonics-refresh"> <use xlink:href="#tonics-refresh"></use></svg>',"step-forward":'<svg class="icon tonics-step-forward"> <use xlink:href="#tonics-step-forward"></use></svg>',"step-backward":'<svg class="icon tonics-step-backward"> <use xlink:href="#tonics-step-backward"></use></svg>',"pause-outline":'<svg class="icon tonics-pause-outline"> <use xlink:href="#tonics-pause-outline"></use></svg>',"play-outline":'<svg class="icon tonics-play-outline"> <use xlink:href="#tonics-play-outline"></use></svg>'},SOCIAL:{mail:'<svg class="icon tonics-mail"> <use xlink:href="#tonics-mail"></use></svg>',"google-plus":'<svg class="icon tonics-google-plus"> <use xlink:href="#tonics-google-plus"></use></svg>',hangouts:'<svg class="icon tonics-hangouts"> <use xlink:href="#tonics-hangouts"></use></svg>',facebook:'<svg class="icon tonics-facebook"> <use xlink:href="#tonics-facebook"></use></svg>',instagram:'<svg class="icon tonics-instagram"> <use xlink:href="#tonics-instagram"></use></svg>',whatsapp:'<svg class="icon tonics-whatsapp"> <use xlink:href="#tonics-whatsapp"></use></svg>',telegram:'<svg class="icon tonics-telegram"> <use xlink:href="#tonics-telegram"></use></svg>',renren:'<svg class="icon tonics-renren"> <use xlink:href="#tonics-renren"></use></svg>',rss:'<svg class="icon tonics-rss"> <use xlink:href="#tonics-rss"></use></svg>',twitch:'<svg class="icon tonics-twitch"> <use xlink:href="#tonics-twitch"></use></svg>',vimeo:'<svg class="icon tonics-vimeo"> <use xlink:href="#tonics-vimeo"></use></svg>',flickr:'<svg class="icon tonics-flickr"> <use xlink:href="#tonics-flickr"></use></svg>',dribble:'<svg class="icon tonics-dribble"> <use xlink:href="#tonics-dribble"></use></svg>',behance:'<svg class="icon tonics-behance"> <use xlink:href="#tonics-behance"></use></svg>',deviantart:'<svg class="icon tonics-deviantart"> <use xlink:href="#tonics-deviantart"></use></svg>',"500px":'<svg class="icon tonics-500px"> <use xlink:href="#tonics-500px"></use></svg>',steam:'<svg class="icon tonics-steam"> <use xlink:href="#tonics-steam"></use></svg>',soundcloud:'<svg class="icon tonics-soundcloud"> <use xlink:href="#tonics-soundcloud"></use></svg>',skype:'<svg class="icon tonics-skype"> <use xlink:href="#tonics-skype"></use></svg>',lastfm:'<svg class="icon tonics-lastfm"> <use xlink:href="#tonics-lastfm"></use></svg>',linkedin:'<svg class="icon tonics-linkedin"> <use xlink:href="#tonics-linkedin"></use></svg>',github:'<svg class="icon tonics-github"> <use xlink:href="#tonics-github"></use></svg>',twitter:'<svg class="icon tonics-twitter"> <use xlink:href="#tonics-twitter"></use></svg>',youtube:'<svg class="icon tonics-youtube"> <use xlink:href="#tonics-youtube"></use></svg>',reddit:'<svg class="icon reddit"> <use xlink:href="#tonics-reddit"></use></svg>',delicious:'<svg class="icon tonics-delicious"> <use xlink:href="#tonics-delicious"></use></svg>',stackoverflow:'<svg class="icon tonics-stackoverflow"> <use xlink:href="#tonics-stackoverflow"></use></svg>',pinterest:'<svg class="icon tonics-dashboard"> <use xlink:href="#tonics-pinterest"></use></svg>',xing:'<svg class="icon tonics-dashboard"> <use xlink:href="#tonics-xing"></use></svg>',flattr:'<svg class="icon tonics-flattr"> <use xlink:href="#tonics-flattr"></use></svg>',foursquare:'<svg class="icon tonics-foursquare"> <use xlink:href="#tonics-foursquare"></use></svg>',yelp:'<svg class="icon tonics-yelp"> <use xlink:href="#tonics-yelp"></use></svg>'},FILE:{file:'<svg class="icon tonics-file"> <use xlink:href="#tonics-file"></use></svg>',folder:'<svg class="icon tonics-folder"> <use xlink:href="#tonics-folder"></use></svg>',image:'<svg class="icon tonics-file-image"> <use xlink:href="#tonics-file-image"></use></svg>',"load-more":'<svg class="icon tonics-load-more"> <use xlink:href="#tonics-load-more"></use></svg>',music:'<svg class="icon tonics-music"> <use xlink:href="#tonics-music"></use></svg>',note:'<svg class="icon tonics-note"> <use xlink:href="#tonics-note"></use></svg>',pdf:'<svg class="icon tonics-pdf"> <use xlink:href="#tonics-pdf"></use></svg>',docx:'<svg class="icon tonics-docx"> <use xlink:href="#tonics-docx"></use></svg>',code:'<svg class="icon tonics-code"> <use xlink:href="#tonics-code"></use></svg>',zip:'<svg class="icon tonics-zip"> <use xlink:href="#tonics-zip"></use></svg>',compress:'<svg class="icon tonics-compress"> <use xlink:href="#tonics-compress"></use></svg>',exclamation:'<svg class="icon tonics-exclamation"> <use xlink:href="#tonics-exclamation"></use></svg>'},CONTEXT:{link:'<svg class="icon tonics-download-link"> <use xlink:href="#tonics-download-link"></use></svg>',preview_link:'<svg class="icon tonics-link"> <use xlink:href="#tonics-link"></use></svg>',edit:'<svg class="icon tonics-edit-icon"> <use xlink:href="#tonics-edit-icon"></use></svg>',cut:'<svg class="icon tonics-cut-icon"> <use xlink:href="#tonics-cut"></use></svg>',trash:'<svg class="icon tonics-trash-icon"> <use xlink:href="#tonics-trash-can"></use></svg>',paste:'<svg class="icon tonics-paste-icon"> <use xlink:href="#tonics-paste"></use></svg>',upload:'<svg class="icon tonics-plus-icon"> <use class="svgUse" xlink:href="#tonics-upload-icon"></use></svg>',refresh:'<svg class="icon tonics-refresh"><use class="svgUse" xlink:href="#tonics-refresh"></use></svg>',plus:'<svg class="icon tonics-plus"><use class="svgUse" xlink:href="#tonics-plus2"></use></svg>'}};function S(){return{EDIT_IMAGE_FILE:"EditImageFileEvent",DELETE_FILE:"DeleteFileEvent",RENAME_FILE:"RenameFileEvent",CUT_FILE:"CutFileEvent",PASTE_FILE:"PasteFileEvent",UPLOAD_FILE:"UploadFileEvent",COPY_LINK:"CopyLinkEvent",COPY_PREVIEW_LINK:"CopyPreviewLinkEvent",CREATE_FOLDER:"NewFolderEvent",REFRESH_FOLDER:"RefreshFolderEvent"}}f(S,"MenuActions");u(S,"MenuActions");var K=Ba(Ha()),L={HEAD:{PARENT:".tonics-main-header-menu",MENU_SECTION:".menu-section",NAV:"#site-navigation"},FILES:{BREADCRUMB:".breadcrumb",CONTEXT:".context-menu",PROGRESS:{CONTAINER:".upload-progress-container",UPLOAD_FILE_CONTAINER:".upload-files",UPLOAD_STRING:".upload-string",PROGRESS_PERCENTAGE:".upload-percentage",CONTROL:{RESUME_PAUSE:".resume-pause",CANCEL:".cancel"}},FILE_MAIN_CONTENT:".tonics-fm-main-content",FILE_PARENT:".tonics-files-parent",FILE_CONTAINER:".tonics-files-container",SINGLE_FILE:"li.tonics-file"},DRIVE:{TOGGLE:".drive-toggle",DRIVE_NAVIGATION:".tonics-fm-nav-menu",DISK_DRIVE_CONTAINER:".tonics-disk-drive-container",DRIVE_FOLDER:".drive-folder",FILE_DISK_DRIVES:".tonics-disk-drive-container",INDIVIDUAL_DRIVE:".tonics-individual-drive",DRIVE_SELECTED:".tonics-drive-selected"},Button:{FILE_LOAD_MORE:".file-load-more"},SEARCH:".filter-search"},qe,cn=(qe=class{constructor(e={}){this.$callbacks={},this.http=new XMLHttpRequest,this.headers=e,this.settings()}getCallbacks(){return this.$callbacks}settings(){this.getCallbacks().callbacks={onProgress:null}}checkIfCallbackIsSet(){if(!this.getCallbacks().callbacks)throw new DOMException("No Callbacks exist");return!0}onProgress(e){if(this.checkIfCallbackIsSet())return this.getCallbacks().callbacks.onProgress=e,this}Get(e,t){this.getHttp().open("GET",e,!0),this.setHeaders(),this.getHttp().send();let o=this;this.getHttp().onreadystatechange=function(){try{o.http.readyState===XMLHttpRequest.DONE&&(o.http.status===200?t(null,o.http.response):t(o.http.response))}catch(l){t("Something Went Wrong: "+l.description)}}}Post(e,t,o){this.getHttp().open("POST",e,!0),this.setHeaders(),this.getHttp().send(t);let l=this,d=l.getCallbacks().callbacks.onProgress;d!==null&&typeof d=="function"&&this.getHttp().upload.addEventListener("progress",function(p){d(p)}),this.getHttp().onreadystatechange=function(){try{l.http.onload=function(){o(null,l.http.responseText)}}catch(p){o("Something Went Wrong: "+p.description)}}}Put(e,t,o){this.getHttp().open("PUT",e,!0),this.setHeaders(),this.getHttp().send(t);let l=this,d=l.getCallbacks().callbacks.onProgress;d!==null&&typeof d=="function"&&this.getHttp().upload.addEventListener("progress",function(p){d(p)});try{this.http.onload=function(){l.http.status===200?o(null,l.http.response):o(l.http.response)}}catch(p){o("Something Went Wrong: "+p.description)}}Delete(e,t=null,o){this.http.open("DELETE",e,!0),this.setHeaders(),t?this.http.send(t):this.http.send();let l=this;try{this.http.onload=function(){l.http.status===200?o(null,l.http.response):o(l.http.response)}}catch(d){o("Something Went Wrong: "+d.description)}}getHeaders(){return this.headers}setHeaders(){if(this.getHeaders())for(let e in this.getHeaders())this.getHttp().setRequestHeader(e,this.getHeaders()[e])}getHttp(){return this.http}},f(qe,"XHRApi"),qe);u(cn,"XHRApi");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.XHRApi=(w={})=>new cn(w);function Vs(w,e=""){let t="";return w.lastIndexOf("/")!==-1&&(t=w.substring(0,w.lastIndexOf("/"))),w.lastIndexOf("\\")!==-1&&(t=w.substring(0,w.lastIndexOf("\\"))),t||e}f(Vs,"getFileDirectory");u(Vs,"getFileDirectory");function si(w){return w.toLowerCase().replace(/\b(\w)/g,function(e){return e.toLocaleUpperCase()})}f(si,"titleCase");u(si,"titleCase");function pe(w){return new Promise((e,t)=>{navigator.clipboard.writeText(w).then(()=>{e(w)}).catch(o=>{t(o)})})}f(pe,"copyToClipBoard");u(pe,"copyToClipBoard");function zs(w,e=!1){let t,o,l=document.createElement("a");return l.style.display="none",l.setAttribute("href",w),w=w.replace(l.protocol,""),w=w.replace(l.hostname,""),w=w.replace(":"+l.port,""),w=w.split("?")[0],w=w.split("#")[0],w=w.substr(1+w.lastIndexOf("/")),t=w,!e&&t.startsWith(".")||t.lastIndexOf(".")===-1?"":(o=t.substr(1+t.lastIndexOf(".")),o)}f(zs,"getFileExtension");u(zs,"getFileExtension");function O(w,e,t){return`
<li class="context-menu-item" data-menu-action=${t}>
      ${e}
      <a class="" href="javascript:void(0);">
        ${w}
      </a>
    </li>
`}f(O,"contextMenuListCreator");u(O,"contextMenuListCreator");function oi(w,e="",t="text"){return K.default.fire({title:w,input:t,inputValue:e,inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Save",backdrop:!0,allowOutsideClick:f(()=>!K.default.isLoading(),"allowOutsideClick"),confirmButtonColor:"#0c132c",focusConfirm:!0,background:"#eaeaea",iconColor:"#264762d1"})}f(oi,"inputToast");u(oi,"inputToast");function ee(w,e=4e3){return K.default.mixin({toast:!0,position:"bottom-right",showConfirmButton:!1,timer:e,timerProgressBar:!0,background:"#eaeaea",iconColor:"#264762d1",didOpen:f(o=>{o.addEventListener("mouseenter",K.default.stopTimer),o.addEventListener("mouseleave",K.default.resumeTimer)},"didOpen")}).fire({customClass:{title:"swal2-title-dark"},icon:"success",title:w})}f(ee,"successToast");u(ee,"successToast");function Qs(w,e=4e3){return K.default.mixin({toast:!0,position:"bottom-right",showConfirmButton:!1,timer:e,timerProgressBar:!0,background:"#eaeaea",iconColor:"#264762d1",didOpen:f(o=>{o.addEventListener("mouseenter",K.default.stopTimer),o.addEventListener("mouseleave",K.default.resumeTimer)},"didOpen")}).fire({customClass:{title:"swal2-title-dark"},icon:"info",title:w})}f(Qs,"infoToast");u(Qs,"infoToast");function Y(w,e=5e3){return K.default.mixin({toast:!0,position:"bottom-right",showConfirmButton:!1,timer:e,timerProgressBar:!0,background:"#eaeaea",iconColor:"#941943",didOpen:f(o=>{o.addEventListener("mouseenter",K.default.stopTimer),o.addEventListener("mouseleave",K.default.resumeTimer)},"didOpen")}).fire({customClass:{title:"swal2-title-red"},icon:"error",title:w})}f(Y,"errorToast");u(Y,"errorToast");function ri(w,e="Proceed",t,o=null,l=null){K.default.mixin({toast:!0,position:"bottom-right",timer:5e4,timerProgressBar:!0,showCancelButton:!0,showConfirmButton:!0,confirmButtonText:e,confirmButtonColor:"#0c132c",focusConfirm:!0,background:"#eaeaea",iconColor:"#264762d1",didOpen:f(p=>{p.addEventListener("mouseenter",K.default.stopTimer),p.addEventListener("mouseleave",K.default.resumeTimer)},"didOpen")}).fire({title:w}).then(p=>{p.isConfirmed?typeof t=="function"&&t():p.isDenied?o&&typeof o=="function"&&o():p.isDismissed&&l&&typeof l=="function"&&l()})}f(ri,"promptToast");u(ri,"promptToast");function Te(w){let e=document.querySelector(L.HEAD.MENU_SECTION);w.forEach(function(t,o){let l=e.querySelector(`[data-menu-action="${t}"]`);l&&(l.closest(".menu-item").classList.remove("deactivate-menu-pointer"),l.querySelector(".icon").classList.remove("deactivate-menu"))})}f(Te,"activateMenus");u(Te,"activateMenus");function $n(w){let e=document.querySelector(L.HEAD.MENU_SECTION);w.forEach(function(t,o){let l=e.querySelector(`[data-menu-action="${t}"]`);l&&(l.closest(".menu-item").classList.add("deactivate-menu-pointer"),l.querySelector(".icon").classList.add("deactivate-menu"))})}f($n,"deActivateMenus");u($n,"deActivateMenus");function ai(w,e){return new Promise((t,o)=>{if(document.querySelector(`[data-script_id="${e}"]`))t();else{let d=document.createElement("script");d.dataset.script_id=e,document.body.appendChild(d),d.onload=t,d.onerror=o,d.async=!0,d.src=w}})}f(ai,"loadScriptDynamically");u(ai,"loadScriptDynamically");function jn(w){let e=null;return w.forEach((t,o)=>{var l,d;let p=(l=document.querySelector(`input[name=${t}]`))==null?void 0:l.value;p||(p=(d=document.querySelector(`meta[name=${t}]`))==null?void 0:d.content),!e&&p&&(e=p)}),e}f(jn,"getCSRFFromInput");u(jn,"getCSRFFromInput");function Ee(w=!0,e=!1){let t=document.querySelector(L.Button.FILE_LOAD_MORE),o=document.querySelector(".dot-elastic.loading");w?(t==null||t.classList.remove("display-none"),t==null||t.classList.add("display-flex")):(t==null||t.classList.remove("display-flex"),t==null||t.classList.add("display-none")),e?o.classList.remove("display-none"):o.classList.add("display-none")}f(Ee,"fileLoadMoreButton");u(Ee,"fileLoadMoreButton");function Vn(w=!0){let e=document.querySelector(L.FILES.FILE_PARENT),t=document.querySelector(".dot-elastic.loading");w?document.querySelector("[data-list_id]:nth-of-type(1)")||(e==null||e.classList.remove("align-content-fs"),t.classList.remove("display-none")):(e==null||e.classList.add("align-content-fs"),t.classList.add("display-none"))}f(Vn,"filesLoadingAnimation");u(Vn,"filesLoadingAnimation");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.promptToast=(w,e="Proceed",t,o=null,l=null)=>ri(w,e,t,o,l);window.TonicsScript.successToast=(w,e=4e3)=>ee(w,e);window.TonicsScript.errorToast=(w,e=4e3)=>Y(w,e);window.TonicsScript.infoToast=(w,e=4e3)=>Qs(w,e);var T={Rename:{Success:"File Successfully Renamed",Error:"Failed To Rename File"},Folder:{Success:"Folder Successfully Created",Error:"Failed To Create Folder"},Update:{Success:"File Successfully Updated",Error:"Failed To Update File"},Upload:{Success:"File Successfully Uploaded",Error:"Failed To Upload File"},Deleted:{Success:"File(s) Successfully Deleted",Error:"Failed To Delete File(s)"},Refresh:{Success:"Refreshed",Error:"Failed To Refresh Folder"},Move:{Success:"File(s) Successfully Moved",Error:"Failed To Move File(s)"},Link:{Copy:{Preview:{Success:"Preview Link Copied To Clipboard",Error:"Failed To Copy Link To Clipboard"},Download:{Success:"Download Link Copied To Clipboard",Error:"Failed To Copy Link To Clipboard"}}},Context:{Media:{Play:"Play",Pause:"Pause"},Rename:"Rename",Link:{Copy:"Download Link",Preview:"Preview Link"},Edit:{Image:"Edit Image"},Cut:"Cut",Delete:"Delete",Paste:"Paste",Refresh:"Refresh",Upload:"Upload",New_Folder:"New Folder"}},Be,zn=(Be=class{get audioFile(){return this._audioFile}constructor(e){this._audioFile=e}},f(Be,"OnAudioFileEvent"),Be);u(zn,"OnAudioFileEvent");var He,li=(He=class{constructor(){this.$eventHandlers=new Map}attachHandlerToEvent(e,t){var o;return this.getHandlers().has(e)?((o=this.getHandlers().get(e))==null||o.push(t),this):(this.getHandlers().set(e,[t]),this)}getHandlers(){return this.$eventHandlers}detachHandlerFromEvent(e){if(this.getHandlers().has(e))return this.getHandlers().delete(e),this}getEventHandlers(e){var t;return this.getHandlers().has(e)?(t=this.getHandlers().get(e))!=null?t:[]:[]}},f(He,"EventQueue"),He);u(li,"EventQueue");window.hasOwnProperty("TonicsEvent")||(window.TonicsEvent={});window.TonicsEvent.EventQueue=()=>new li;var Ne,Gs=(Ne=class{constructor(e){this._shiftClick=new Map,this.fileContainerEvent=e,this.addClickEvent()}get shiftClick(){return this._shiftClick}set shiftClick(e){this._shiftClick=e}addClickEvent(){let e=this,t=document.querySelector(L.FILES.FILE_PARENT);t.hasAttribute("data-event-click")||t.addEventListener("click",o=>{t.setAttribute("data-event-click","true");let l=o.target,d=L.FILES.SINGLE_FILE;if(l.closest(".tonics-file-filename-input"))return!1;if(l.closest(d)){let p=l.closest(d);if(o.ctrlKey)return o.preventDefault(),p.classList.contains("selected-file")?e.getFileContainerEvent().unHighlightFile(p):e.getFileContainerEvent().highlightFile(p),!1;o.shiftKey?(this.getFileContainerEvent().resetPreviousFilesState(),this.setShiftClick(p)):(e.getFileContainerEvent().resetPreviousFilesState(),e.getFileContainerEvent().highlightFile(p),this.resetShiftClick(),this.setShiftClick(p))}else this.resetShiftClick(),e.getFileContainerEvent().resetPreviousFilesState()},!1)}setShiftClick(e){let t=e.dataset.list_id;if(this.shiftClick.get(t)&&this.shiftClick.delete(t),this.shiftClick.set(t,e),this.shiftClick.size>=2){let o=[...this.shiftClick][0][0],l=[...this.shiftClick][this.shiftClick.size-1][0],d=[o,l];d.sort();for(let p=d[0];p<=d[1];p++){let m=document.querySelector(`[data-list_id="${p}"]`);m&&this.getFileContainerEvent().highlightFile(m)}}}resetShiftClick(){this.shiftClick=new Map}getFileContainerEvent(){return this.fileContainerEvent}},f(Ne,"AddClickEventToFileContainer"),Ne);u(Gs,"AddClickEventToFileContainer");var Ue,Xs=(Ue=class{constructor(e){let t=e.getFileContainer();t.hasAttribute("data-event-dblclick")||(t.setAttribute("data-event-dblclick","true"),t.addEventListener("dblclick",o=>{let l=e.getSelectedFile();l.dataset.file_type==="directory"&&(l.querySelector(".svg-per-file-loading").classList.remove("display-none"),e.currentDrive.openFolderHandler(l,e).then(()=>{e.resetPreviousFilesState()}).catch(()=>{l.querySelector(".svg-per-file-loading").classList.add("display-none")})),l.dataset.file_type==="file"&&e.copyPreviewLinkEvent()}))}},f(Ue,"DoubleClickEventToFileContainer"),Ue);u(Xs,"DoubleClickEventToFileContainer");var $e,Ws=($e=class{constructor(e){this.fileContainerEventObject=e,this.addContextMenuClickEvent()}getFileContainerEventObject(){return this.fileContainerEventObject}addContextMenuClickEvent(){let e=document.querySelector(L.FILES.CONTEXT);document.addEventListener("click",t=>{if(t.target.closest(L.FILES.CONTEXT))return!1;e.classList.remove("show")}),e!=null&&e.hasAttribute("data-event-contextmenu")||(e.setAttribute("data-event-contextmenu","true"),e.addEventListener("click",t=>{let o=t.target;if(o.closest(".context-menu-item").hasAttribute("data-menu-action")){let l=o.closest(".context-menu-item").getAttribute("data-menu-action");this.getFileContainerEventObject().menuEventAction(l)}}))}},f($e,"ContextMenuProcessor"),$e);u(Ws,"ContextMenuProcessor");var je,un=(je=class{extensions(){return[""]}run(e,t,o=null){if(o&&typeof o=="function")return o(D.FILE.exclamation,t,e)}fileContext(e){return`
    ${O(T.Context.Rename,D.CONTEXT.edit,S().RENAME_FILE)}
    ${O(T.Context.Link.Copy,D.CONTEXT.link,S().COPY_LINK)}
    ${O(T.Context.Link.Preview,D.CONTEXT.preview_link,S().COPY_PREVIEW_LINK)}
    ${O(T.Context.Cut,D.CONTEXT.cut,S().CUT_FILE)}
    ${O(T.Context.Delete,D.CONTEXT.trash,S().DELETE_FILE)}`}},f(je,"DefaultFilePlacement"),je);u(un,"DefaultFilePlacement");var Ve,Ks=(Ve=class{fileContext(e){return`
    ${O(T.Context.Refresh,D.CONTEXT.refresh,S().REFRESH_FOLDER)}
    ${O(T.Context.New_Folder,D.CONTEXT.plus,S().CREATE_FOLDER)}
    ${O(T.Context.Upload,D.CONTEXT.upload,S().UPLOAD_FILE)}`}},f(Ve,"BackgroundFilePlacement"),Ve);u(Ks,"BackgroundFilePlacement");var ze,Ys=(ze=class{constructor(e){let t=e.getContextMenu();e.getFileContainer().addEventListener("contextmenu",l=>{let d=l.target;if(l.preventDefault(),d.closest(L.FILES.SINGLE_FILE)){let p=d.closest(L.FILES.SINGLE_FILE),m=p.dataset.ext,y=!1;fi.FileByExtensions.forEach(v=>{v.extensions().includes(m)&&(y=!0,e.highlightFile(p),this.showContextMenu(t,v.fileContext(e),l))}),y||(e.highlightFile(p),this.showContextMenu(t,new un().fileContext(e),l))}else this.showContextMenu(t,new Ks().fileContext(e),l)})}showContextMenu(e,t,o){e==null||e.replaceChildren(),e.insertAdjacentHTML("beforeend",t);let l=o.clientX,d=o.clientY;e.classList.remove("show"),e.style.top=`${d}px`,e.style.left=`${l-30}px`,setTimeout(()=>{e.classList.add("show")})}},f(ze,"ContextHandler"),ze);u(Ys,"ContextHandler");var Qe,Js=(Qe=class{constructor(e){this.fileContainerEventObject=e,this.addHeaderMenuClickEvent()}getFileContainerEventObject(){return this.fileContainerEventObject}addHeaderMenuClickEvent(){let e=document.querySelector(".site-navigation-ul");e&&(e!=null&&e.hasAttribute("data-event-menu")||(e.setAttribute("data-event-menu","true"),e.addEventListener("click",t=>{let o=t.target;if(o.closest("button")){let l=o.closest("button");if(l.hasAttribute("data-menu-action")){let d=l.getAttribute("data-menu-action");this.getFileContainerEventObject().menuEventAction(d)}}})))}hideHeaderMenuOnScroll(){let e=document.querySelector(L.HEAD.PARENT),t=e==null?void 0:e.getBoundingClientRect().height,o=20;window.addEventListener("scroll",()=>{o>window.scrollY?e.style.top="0":e.style.top=`-${t}px`,o=window.scrollY})}},f(Qe,"HeaderSectionHandler"),Qe);u(Js,"HeaderSectionHandler");var Ge,te=(Ge=class{constructor(e){return e?this.query(e):this}query(e){let t=document.querySelector(`${e}`);if(t)return this.setQueryResult(t),this;console.log(`Invalid class or id name - ${e}`)}setQueryResult(e){return this.$queryResult=e,this}getQueryResult(){return this.$queryResult}},f(Ge,"ElementAbstract"),Ge);u(te,"ElementAbstract");var Xe,ci=(Xe=class extends te{constructor(e){super(e),this.$dragAndDropDetails={},this.settings()}settings(){this.getDragAndDropElementDetails().callbacks={onDragEnter:null,onDragOver:null,onDragLeave:null,onDragDrop:null}}getDragAndDropElementDetails(){return this.$dragAndDropDetails}checkIfSettingsIsSet(){if(!this.getDragAndDropElementDetails().callbacks)throw new DOMException("No Callbacks exist for the DragAndDropElement");return!0}onDragEnter(e){if(this.checkIfSettingsIsSet())return this.getDragAndDropElementDetails().callbacks.onDragEnter=e,this}onDragOver(e){if(this.checkIfSettingsIsSet())return this.getDragAndDropElementDetails().callbacks.onDragOver=e,this}onDragLeave(e){if(this.checkIfSettingsIsSet())return this.getDragAndDropElementDetails().callbacks.onDragLeave=e,this}onDragDrop(e){if(this.checkIfSettingsIsSet())return this.getDragAndDropElementDetails().callbacks.onDragDrop=e,this}run(){let e=this.getQueryResult(),t=this;e&&(e.addEventListener("dragenter",function(o){t.preventDefaults(o),e.classList.add("highlight");let l=t.getDragAndDropElementDetails().callbacks.onDragEnter;l!==null&&typeof l=="function"&&l(o)}),e.addEventListener("dragover",function(o){t.preventDefaults(o),e.classList.add("highlight");let l=t.getDragAndDropElementDetails().callbacks.onDragOver;l!==null&&typeof l=="function"&&l(o)}),e.addEventListener("dragleave",function(o){t.preventDefaults(o),e.classList.remove("highlight");let l=t.getDragAndDropElementDetails().callbacks.onDragLeave;l!==null&&typeof l=="function"&&l(o)}),e.addEventListener("drop",function(o){t.preventDefaults(o),e.classList.remove("highlight");let l=t.getDragAndDropElementDetails().callbacks.onDragDrop;l!==null&&typeof l=="function"&&l(o)},!1))}preventDefaults(e){e.preventDefault(),e.stopPropagation()}},f(Xe,"DragAndDrop"),Xe);u(ci,"DragAndDrop");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.DragAndDrop=w=>new ci(w);var We,Rt=(We=class extends te{addNodeElement(e){return this.setQueryResult(e),this}forward(e){let t=this.getQueryResult().nextElementSibling;for(;t;){if(t.matches(e))return this.setQueryResult(t),this;t=t.nextElementSibling}return null}backward(e){let t=this.getQueryResult().previousElementSibling;for(;t;){if(t.matches(e))return this.setQueryResult(t),this;t=t.previousElementSibling}return null}in(){let e=this.getQueryResult().firstElementChild;return e?(this.setQueryResult(e),this):null}out(){let e=this.getQueryResult().parentElement;return e?(this.setQueryResult(e),this):null}queryChildren(e,t=!0){let o=this.getQueryResult().querySelector(e);return o?t?(this.setQueryResult(o),this):o:null}setSVGUseAttribute(e){let t=this.getQueryResult();if(t.tagName=="use")t.removeAttribute("xlink:href"),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e);else throw new DOMException("Not a valid svg use element")}},f(We,"Query"),We);u(Rt,"Query");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.Query=()=>new Rt;var Ke,dn=(Ke=class{constructor(e,t,o){this._$uploadedFilesObject=new Map,this._maxRequestToSend=4,this._byteToSendPerChunk=.5*1048576,this._isUploadInParallel=!1,this._$fileSequence={},this.fileContainerEvent=e,t!==null&&o!==null&&this.handleFiles(t,o),this.UploadFileEvent=this}get maxRequestToSend(){return this._maxRequestToSend}get $uploadedFilesObject(){return this._$uploadedFilesObject}get $fileSequence(){return this._$fileSequence}set $fileSequence(e){this._$fileSequence=e}get byteToSendPerChunk(){return this._byteToSendPerChunk}set byteToSendPerChunk(e){this._byteToSendPerChunk=e}get isUploadInParallel(){return this._isUploadInParallel}set isUploadInParallel(e){this._isUploadInParallel=e}getFileContainerEvent(){return this.fileContainerEvent}handleFiles(e,t){this.handleUploadedFiles(e,t)}setUploadFileObject(e,t){this.$uploadedFilesObject.set(e,t)}handleFileUpload(){let e=this,t=this.fileContainerEvent,o=document.createElement("input");o.type="file",o.multiple=!0,o.click(),o.onchange=function(l){let d=l.target.files,p=t.getCurrentDirectory();e.handleUploadedFiles(d,p)}}handleUploadedFiles(e,t){let o=this,l,d=o.fileContainerEvent;d.removeContextMenu();for(let p=0,m=e.length;p<m;p++){let y=d.currentDrive.driveSignature+"_"+e[p].name;o.addFileToProgressContainer(e[p],y,null,(v,n,r,c)=>{c=o.UploadFileEvent,d.currentDrive.uploadFile(r,n,c)},(v,n)=>{n=o.UploadFileEvent,d.currentDrive.cancelFileUploadHandler(v,n).then(()=>{ee(`${v.fileObject.name} Upload Terminated`)}).catch(()=>{Y("Failed To Cancel Upload")})}),o.isUploadingSequentially()&&o.attachFileToSequence(y)}o.isUploadingSequentially()?o.uploadFileNextSequence(d.currentDrive.driveSignature):o.uploadFiles()}uploadFiles(){this.$uploadedFilesObject.forEach((e,t)=>{e.uploaded||this.fileContainerEvent.currentDrive.uploadFile(e,t,this)})}uploadFileNextSequence(e){let o=this.fileContainerEvent.loadDriveEventClass.driveStorageManager.getDriveStorage(e),l=this.getUploadFileNextSequence(e);if(l&&typeof l=="string"){let d=this.getUploadFileObject(l,o.driveSignature);o.uploadFile(d,l,this)}}getUploadFileObject(e,t){for(let o of this.$uploadedFilesObject.values())if(o.driveSignature===t)return this.$uploadedFilesObject.get(e)}getUploadFileNextSequence(e){let t=this.$fileSequence,o=!1;for(let l in t)if(t.hasOwnProperty(l)){if(l.split("_")[0]!==e)continue;if(t[l].progressing===!1){this.$fileSequence[l]={progressing:!0,sequenceDone:!1},o=l;break}}return o}setSequenceDone(e,t){let o=`${t}_${e}`;this.$fileSequence.hasOwnProperty(o)&&(this.$fileSequence[o]={progressing:!0,sequenceDone:!0})}deleteUploadFileObject(e){this.$uploadedFilesObject.delete(e),delete this.$fileSequence[e]}addFileToProgressContainer(e,t,o=null,l=null,d=null){var p;let m=this,y=this.fileContainerEvent,v=this.byteToSendPerChunk,n=y.currentDrive.driveSignature,r={fileObject:e,driveSignature:n,preFlightData:{filename:e.name,dataToFill:null,chunksToSend:Math.ceil(e.size/v),Byteperchunk:v,Totalblobsize:e.size,maxRequestToSend:y.currentDrive.getMaxRequestToSend(),noOfReceivedResponse:0,throttleSwitch:!1,sentApi:0,nextIndex:0},newFile:!0,uploadTo:y.getCurrentDirectory(),fetched:!1,pause:!1,uploaded:!1},c=(p=document.querySelector(L.FILES.PROGRESS.UPLOAD_FILE_CONTAINER))==null?void 0:p.querySelector(`[data-filename="${t}"]`),h=document.querySelector(L.FILES.PROGRESS.UPLOAD_FILE_CONTAINER);h.classList.remove("display-none"),c||(h.insertAdjacentHTML("beforeend",`
      <div class="inner-file-upload-container" tabindex="0" data-pause="false" data-filename="${t}" data-uploaded="false">

        <div class="info">
         <span class="upload-string">[${y.currentDrive.driveSignature} Drive] -  \u22EF Uploading [</span>
         <span class="upload-progress-name" tabindex="0">${t.split("_")[1]}</span>
         <span class="delimiter">] \xBB </span>
         <span class="upload-percentage">0%</span>
       </div>
      <div class="control">
          <button title="Pause" class="resume-pause background:transparent border:none color:black border-width:default border:black padding:default margin-top:0 cursor:pointer">
            Pause
        </button>
        <button title="Cancel" class="cancel background:transparent border:none color:black border-width:default border:black padding:default margin-top:0 cursor:pointer">
            Cancel
        </button>
        </div>
      </div>`),m.$uploadedFilesObject.set(t,r)),h.hasAttribute("data-event-click")||(h.setAttribute("data-event-click","true"),h.addEventListener("click",b=>{var k;let _=b.target;if(_.closest(L.FILES.PROGRESS.CONTROL.RESUME_PAUSE)){let x=_.closest(L.FILES.PROGRESS.CONTROL.RESUME_PAUSE);_.closest(".inner-file-upload-container").dataset.pause=_.closest(".inner-file-upload-container").dataset.pause==="true"?"false":"true";let A=_.closest(".inner-file-upload-container").dataset.pause,R=_.closest(".inner-file-upload-container").dataset.filename,H=m.getUploadFileObject(R,y.currentDrive.driveSignature);A==="true"&&(x.innerText="Resume",x.title="Resume",H.pause=!0,this.$uploadedFilesObject.set(R,H),typeof o=="function"&&o(b,R,H,m)),A==="false"&&(x.innerText="Pause",x.title="Pause",H.pause=!1,this.$uploadedFilesObject.set(R,H),typeof l=="function"&&!H.uploaded&&!H.pause&&l(b,R,H,m))}if(_.closest(L.FILES.PROGRESS.CONTROL.CANCEL)){let x=_.closest(".inner-file-upload-container"),A=x.dataset.filename,R=m.getUploadFileObject(A,y.currentDrive.driveSignature);A&&R&&typeof d=="function"&&(this.deleteUploadFileObject(A),d(R,y),x.classList.add("file-upload-cancelled"),x.dataset.filename="",(k=x.querySelector(".control"))==null||k.remove())}}))}isUploadingSequentially(){return!this.isUploadInParallel}attachFileToSequence(e){this.$fileSequence.hasOwnProperty(e)||(this.$fileSequence[e]={progressing:!1,sequenceDone:!1})}updateFileProgress(e,t=0,o,l=" \u22EF Uploading"){let p=new Rt(L.FILES.PROGRESS.UPLOAD_FILE_CONTAINER).getQueryResult().querySelector(`[data-filename="${e}"]`);p&&(p.querySelector(L.FILES.PROGRESS.UPLOAD_STRING).innerHTML=`[${o} Drive] - ${l} [`,p.querySelector(L.FILES.PROGRESS.PROGRESS_PERCENTAGE).innerHTML=`${t}%`,p.style.background=`linear-gradient(to right, #bab8b8 ${t}%, #ffffff00 0%)`)}setUploadCompleted(e,t){var o,l;let d=this.getUploadFileObject(e,t),p=(o=document.querySelector(L.FILES.PROGRESS.UPLOAD_FILE_CONTAINER))==null?void 0:o.querySelector(`[data-filename="${e}"]`);p&&((l=p.querySelector(".control"))==null||l.remove(),this.updateFileProgress(e,100,t,"\u2713 Completed "),d.uploaded=!0,this.$uploadedFilesObject.set(e,d),p.dataset.uploaded="true",this.$uploadedFilesObject.delete(p.dataset.uploadFilename),ee(T.Upload.Success))}releaseThrottle(e,t){let o=this.getUploadFileObject(e,t);o&&(o.preFlightData.throttleSwitch=!1,this.$uploadedFilesObject.set(e,o),o.preFlightData.sentApi=0,this.$uploadedFilesObject.set(e,o),o.preFlightData.noOfReceivedResponse=0,this.$uploadedFilesObject.set(e,o))}},f(Ke,"UploadFileEvent"),Ke);u(dn,"UploadFileEvent");var Ye,Zs=(Ye=class{constructor(e){this._maxRequestToSend=4,this.fileContainerEventObject=e,this.handleDragAndDropFileUploads()}getFileContainerEventObject(){return this.fileContainerEventObject}handleDragAndDropFileUploads(){var e;let t=this,o=t.getFileContainerEventObject().getFileContainer().closest(".tonics-files-parent");if(!o.hasAttribute("data-drag_drop")){o.setAttribute("data-drag_drop","true");let l=new ci(L.FILES.FILE_PARENT);(e=l==null?void 0:l.onDragDrop(function(d){var p;let m=(p=d==null?void 0:d.dataTransfer)==null?void 0:p.files,y=t.uploadToDirectory();new dn(t.getFileContainerEventObject(),m,y)}))==null||e.run()}}uploadToDirectory(){return this.getFileContainerEventObject().getCurrentDirectory()}get maxRequestToSend(){return this._maxRequestToSend}set maxRequestToSend(e){this._maxRequestToSend=e}},f(Ye,"FileContainerDragAndDropHandler"),Ye);u(Zs,"FileContainerDragAndDropHandler");var Je,eo=(Je=class{constructor(e){let t=e.getDiskDrives();t.hasAttribute("data-event-click")||(t.setAttribute("data-event-click","true"),t.addEventListener("click",o=>{let l=o.target;if(l.closest(L.DRIVE.INDIVIDUAL_DRIVE)){let d=l.closest(L.DRIVE.INDIVIDUAL_DRIVE),p=e.getLoadDriveEventClass();if(p.driveStorageManager.$driveSystem.has(d.dataset.drivename)){let m=p.driveStorageManager.getDriveStorage(d.dataset.drivename);m.coldBootStorageDisk().then(()=>{e.removeAllDriveSelectionMark(),d.querySelector(L.DRIVE.DRIVE_SELECTED).classList.remove("display-none"),e.currentDrive=m}).catch(()=>{Y("Failed To Switch Drive, Network Issue?")})}}}))}},f(Je,"SwitchDriveStorageHandler"),Je);u(eo,"SwitchDriveStorageHandler");var Ze,to=(Ze=class{constructor(e){this.fileContainerEvent=e,this.loadMoreButtonHandle()}getFileContainerEvent(){return this.fileContainerEvent}loadMoreButtonHandle(){let e=document.querySelector(L.Button.FILE_LOAD_MORE);e.hasAttribute("data-event-click")||e.addEventListener("click",t=>{e.setAttribute("data-event-click","true"),Ee(!1,!0);let o=document.querySelector("[data-list_id]:last-of-type");this.getFileContainerEvent().currentDrive.loadMoreFiles(this.getFileContainerEvent()).then(()=>{o.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}).catch(()=>{Y("Failed To Load More Files"),Ee()})})}},f(Ze,"LoadMoreFilesHandler"),Ze);u(to,"LoadMoreFilesHandler");var et,no=(et=class{constructor(e){this.fileContainerEvent=e,this.handleNavigationByKeyPres()}getFileContainerEvent(){return this.fileContainerEvent}handleNavigationByKeyPres(){document.querySelector(L.FILES.FILE_CONTAINER).addEventListener("keydown",t=>{if(this.getFileContainerEvent().getSelectedFile()){let o=this.getFileContainerEvent().getSelectedFile();switch(t.code){case"ArrowDown":this.navigateDown(o);break;case"ArrowUp":this.navigateUp(o);break;case"ArrowRight":this.navigateRight(o);break;case"ArrowLeft":this.navigateLeft(o);break;case"Enter":this.navigateEnter(o);break}}})}navigateDown(e){let t=this.getNumberOfFilesPerRow(),o=parseInt(e.dataset.list_id)+t;e=this.getFileContainerEvent().getFileByListID(o),e&&(this.getFileContainerEvent().resetPreviousFilesState(),e.scrollIntoView(),this.getFileContainerEvent().highlightFile(e),this.removeHeaderMenuFromViewPort())}navigateUp(e){let t=this.getNumberOfFilesPerRow(),o=parseInt(e.dataset.list_id)-t;e=this.getFileContainerEvent().getFileByListID(o),e&&(this.getFileContainerEvent().resetPreviousFilesState(),e.scrollIntoView(),this.getFileContainerEvent().highlightFile(e),this.removeHeaderMenuFromViewPort())}navigateRight(e){let t=e.nextElementSibling;t&&(this.getFileContainerEvent().resetPreviousFilesState(),t.scrollIntoView(),this.getFileContainerEvent().highlightFile(t),this.removeHeaderMenuFromViewPort())}navigateLeft(e){let t=e.previousElementSibling;t&&(this.getFileContainerEvent().resetPreviousFilesState(),t.scrollIntoView(),this.getFileContainerEvent().highlightFile(t),this.removeHeaderMenuFromViewPort())}removeHeaderMenuFromViewPort(){let e=document.querySelector(L.HEAD.PARENT),t=e==null?void 0:e.getBoundingClientRect().height;e.style.top=`-${t}px`}getNumberOfFilesPerRow(){let e=document.querySelector("[data-list_id]:nth-of-type(1)");return e?this.getRemainingRowsOfItemToTheRight(e)+1:0}getRemainingRowsOfItemToTheRight(e){let t=e,o=e.nextElementSibling,l=0;if(o)for(;t.offsetTop===o.offsetTop;)l++,t=o,o=o.nextElementSibling;return l}getRemainingRowsOfItemToTheLeft(e){let t=e,o=e.previousElementSibling,l=0;if(o)for(;t.offsetTop===o.offsetTop;)l++,t=o,o=o.previousElementSibling;return l}navigateEnter(e){e.querySelector(".svg-per-file-loading").classList.remove("display-none"),this.getFileContainerEvent().currentDrive.openFolderHandler(e,this.getFileContainerEvent()).catch(()=>{e.querySelector(".svg-per-file-loading").classList.add("display-none")})}},f(et,"NavigateFilesByKeyboardKeysHandler"),et);u(no,"NavigateFilesByKeyboardKeysHandler");var tt,io=(tt=class{constructor(e){this.fileContainerEvent=e,this.handleSearch()}handleSearch(){let e=document.querySelector(L.SEARCH);e.addEventListener("keyup",t=>{if(t.code==="Enter"){let o=e.value;this.getFileContainerEvent().currentDrive.searchFiles(o,this.getFileContainerEvent()).then(()=>{e.value=""}).catch(()=>{Y("An Error Occurred While Searching")})}})}getFileContainerEvent(){return this.fileContainerEvent}},f(tt,"SearchFilesInFolderHandler"),tt);u(io,"SearchFilesInFolderHandler");var nt,so=(nt=class{constructor(e){this.fileContainerEvent=e,this.handleBreadCrumbNavigation()}getFileContainerEvent(){return this.fileContainerEvent}handleBreadCrumbNavigation(){document.querySelector(".breadcrumb").addEventListener("click",t=>{let o=t.target;if(o.hasAttribute("data-pathtrail")){let l=o.getAttribute("data-pathtrail");this.getFileContainerEvent().currentDrive.breadCrumbClickNavigationHandler(l).then(()=>{this.getFileContainerEvent().resetPreviousFilesState()})}}),window.addEventListener("keydown",t=>{switch(t.code){case"Backspace":this.navigateBackSpace();break}})}navigateBackSpace(){let e=document.querySelectorAll(".breadcrumb a"),t=e[e.length-2];if(t){let o=t.dataset.pathtrail;this.getFileContainerEvent().currentDrive.breadCrumbClickNavigationHandler(o).then(()=>{this.getFileContainerEvent().resetPreviousFilesState()})}}},f(nt,"BreadCrumbHandler"),nt);u(so,"BreadCrumbHandler");var it,oo=(it=class{constructor(e){this.copyLinkEvent=e;let t=e.getCopiedLinkFile().dataset.file_type,o=e.getFileContainerEvent().getLoadDriveEventClass().appURL;t==="file"&&(window.parent.postMessage({mceAction:"execCommand",cmd:"tonics:RegularLink",value:e.copiedLink},o),window.hasOwnProperty("opener")&&window.opener!==null&&window.opener.postMessage({cmd:"tonics:RegularLink",value:e.copiedLink},o))}},f(it,"TinymceCopyLinkHandler"),it);u(oo,"TinymceCopyLinkHandler");var st,Qn=(st=class{get imageFile(){return this._imageFile}constructor(e){this._imageFile=e}},f(st,"OnImageFileEvent"),st);u(Qn,"OnImageFileEvent");var ot,ui=(ot=class{extensions(){return["jpeg","jpg","jpe","jfi","jif","jfif","png","gif","bmp","webp","apng","avif","svg"]}run(e,t,o=null){if(o&&typeof o=="function"){let l=o(D.FILE.image,t,e);return fe(new Qn(l),Qn),l}}fileContext(e){return`
        ${O(T.Context.Edit.Image,D.FILE.image,S().EDIT_IMAGE_FILE)}
    ${O(T.Context.Rename,D.CONTEXT.edit,S().RENAME_FILE)}
    ${O(T.Context.Link.Copy,D.CONTEXT.link,S().COPY_LINK)}
    ${O(T.Context.Link.Preview,D.CONTEXT.preview_link,S().COPY_PREVIEW_LINK)}
    ${O(T.Context.Cut,D.CONTEXT.cut,S().CUT_FILE)}
    ${O(T.Context.Delete,D.CONTEXT.trash,S().DELETE_FILE)}`}},f(ot,"ImageFilePlacement"),ot);u(ui,"ImageFilePlacement");var rt,Gn=(rt=class{get docFile(){return this._docFile}constructor(e){this._docFile=e}},f(rt,"OnDocumentFileEvent"),rt);u(Gn,"OnDocumentFileEvent");var at,di=(at=class{extensions(){return["pdf","docx","doc","txt"]}run(e,t,o=null){if(o&&typeof o=="function"){let l;switch(t){case"docx":case"doc":l=o(D.FILE.docx,t,e);break;case"pdf":l=o(D.FILE.pdf,t,e);break;default:l=o(D.FILE.note,t,e)}return fe(new Gn(l),Gn),l}}fileContext(e){return`
    ${O(T.Context.Rename,D.CONTEXT.edit,S().RENAME_FILE)}
    ${O(T.Context.Link.Copy,D.CONTEXT.link,S().COPY_LINK)}
    ${O(T.Context.Link.Preview,D.CONTEXT.preview_link,S().COPY_PREVIEW_LINK)}
    ${O(T.Context.Cut,D.CONTEXT.cut,S().CUT_FILE)}
    ${O(T.Context.Delete,D.CONTEXT.trash,S().DELETE_FILE)}`}},f(at,"DocumentsFilePlacement"),at);u(di,"DocumentsFilePlacement");var lt,ro=(lt=class{constructor(e){this.copyPreviewLinkEvent=e;let t=new ui,o=new pi,l=new di,d=e.getCopiedLinkFile().dataset.file_type,p=e.getCopiedLinkFile().dataset.ext,m=this.copyPreviewLinkEvent.getFileContainerEvent().getLoadDriveEventClass().appURL;d==="file"&&(t.extensions().includes(p)&&(window.parent.postMessage({mceAction:"execCommand",cmd:"tonics:ImageLink",value:e.getCopiedLink()},m),window.hasOwnProperty("opener")&&window.opener!==null&&window.opener.postMessage({cmd:"tonics:ImageLink",value:e.getCopiedLink()},m)),l.extensions().includes(p)&&window.hasOwnProperty("opener")&&window.opener!==null&&window.opener.postMessage({cmd:"tonics:DocLink",value:e.getCopiedLink()},m),o.extensions().includes(p)||["mp4","3gp","mov"].includes(p)?(window.parent.postMessage({mceAction:"execCommand",cmd:"tonics:MediaLink",value:e.getCopiedLink()},m),window.hasOwnProperty("opener")&&window.opener!==null&&window.opener.postMessage({cmd:"tonics:MediaLink",value:e.getCopiedLink()},m)):window.parent.postMessage({mceAction:"execCommand",cmd:"tonics:RegularLink",value:e.getCopiedLink()},m))}},f(lt,"TinymceCopyPreviewLinkHandler"),lt);u(ro,"TinymceCopyPreviewLinkHandler");var ct,pn=(ct=class{get copiedLink(){return this._copiedLink}set copiedLink(e){this._copiedLink=e}constructor(e){this.fileContainerEvent=e,this.copiedLinkFile=e.getSelectedFile()}getFileContainerEvent(){return this.fileContainerEvent}handleCopyLink(e=null){return this.fileContainerEvent.currentDrive.copyLinkHandler(this.fileContainerEvent,e)}onSuccess(e=null){this.copiedLinkFile=this.fileContainerEvent.getSelectedFile(),this.copiedLink=e,this.getFileContainerEvent().removeContextMenu(),ee(T.Link.Copy.Download.Success).then(),this.fileContainerEvent.dispatchEventToHandlers(this,pn)}onError(e=null){Y(T.Link.Copy.Download.Error).then()}getCopiedLinkFile(){return this.copiedLinkFile}},f(ct,"CopyLinkEvent"),ct);u(pn,"CopyLinkEvent");var ut,Xn=(ut=class{get audioFile(){return this._audioFile}constructor(e){this._audioFile=e}},f(ut,"OnAudioIsPlayableEvent"),ut);u(Xn,"OnAudioIsPlayableEvent");var dt,ao=(dt=class{constructor(e){let t=e.audioFile;new pn(window.TonicsFileManager.events.fileContainerEvent).handleCopyLink(t).then(l=>{t.dataset.audioplayer_play="false",t.dataset.audioplayer_songurl=l,t.dataset.audioplayer_image="",t.dataset.audioplayer_title=t.dataset.filename,t.dataset.audioplayer_format=t.dataset.ext,t.setAttribute("data-tonics-audioplayer-track",""),fe(new Xn(t),Xn)})}},f(dt,"RegisterAudioFileForAudioPlayerHandler"),dt);u(ao,"RegisterAudioFileForAudioPlayerHandler");var nn={FileContainerEvent:[Gs,Xs,Ws,Ys,Js,Zs,eo,to,no,io,so],LoadDriveDataEvent:[],RenameFileEvent:[],UploadFileEvent:[],CutFileEvent:[],PasteFileEvent:[],EditImageFileEvent:[],DeleteFileEvent:[],CopyLinkEvent:[oo],CopyPreviewLinkEvent:[ro],RefreshFolderEvent:[],OnAudioFileEvent:[ao],OnAudioIsPlayableEvent:[],OnArchiveCompressFileEvent:[],OnCodeFileEvent:[],OnDirectoryFileEvent:[],OnDocumentFileEvent:[],OnImageFileEvent:[],NewFolderEvent:[]},pt,fn=(pt=class{constructor(e){if(e)return this.$handleProvider=e,this}dispatch(e){let t=e.constructor,o=this.getHandler().getEventHandlers(t);for(let l=0;l<o.length;l++)Object.getOwnPropertyNames(o[l]).includes("arguments")?o[l](e):new o[l](e);return e}setHandler(e){return this.$handleProvider=e,this}getHandler(){return this.$handleProvider}dispatchEventToHandlers(e,t,o){let l=Mt(e,o);this.setHandler(l).dispatch(t)}},f(pt,"EventDispatcher"),pt);u(fn,"EventDispatcher");window.hasOwnProperty("TonicsEvent")||(window.TonicsEvent={});window.TonicsEvent.EventDispatcher=new fn;function Mt(w,e){let t=new li,o=e.name;if(w.hasOwnProperty(o)){let l=w[o];return l.length>0&&(l==null||l.forEach((d,p)=>{t.attachHandlerToEvent(e,d)})),t}throw new DOMException(`Can't attach ${e} to listeners because it doesn't exist`)}f(Mt,"attachEventAndHandlersToHandlerProvider");u(Mt,"attachEventAndHandlersToHandlerProvider");function fe(w,e){let t=Mt(nn,e);new fn().setHandler(t).dispatch(w)}f(fe,"dispatchEventToHandlers");u(fe,"dispatchEventToHandlers");window.hasOwnProperty("TonicsEvent")||(window.TonicsEvent={});window.TonicsEvent.attachEventAndHandlersToHandlerProvider=(w,e)=>Mt(w,e);var ft,pi=(ft=class{extensions(){return["mp3","wav","tiff","ogg","webm","aac","flac"]}run(e,t,o=null){if(o&&typeof o=="function"){let l=o(D.FILE.music,t,e);return fe(new zn(l),zn),l}}fileContext(e){return`
    ${O(T.Context.Rename,D.CONTEXT.edit,S().RENAME_FILE)}
    ${O(T.Context.Link.Copy,D.CONTEXT.link,S().COPY_LINK)}
    ${O(T.Context.Link.Preview,D.CONTEXT.preview_link,S().COPY_PREVIEW_LINK)}
    ${O(T.Context.Cut,D.CONTEXT.cut,S().CUT_FILE)}
    ${O(T.Context.Delete,D.CONTEXT.trash,S().DELETE_FILE)}`}},f(ft,"AudioFilePlacement"),ft);u(pi,"AudioFilePlacement");var ht,Wn=(ht=class{get dirFile(){return this._dirFile}constructor(e){this._dirFile=e}},f(ht,"OnDirectoryFileEvent"),ht);u(Wn,"OnDirectoryFileEvent");var gt,lo=(gt=class{extensions(){return["null",null]}run(e,t,o=null){if(o&&typeof o=="function"){let l=o(D.FILE.folder,t,e);return fe(new Wn(l),Wn),l}}fileContext(e){let t="";return e.cutFile.length>0&&(t=O(T.Context.Paste,D.CONTEXT.paste,S().PASTE_FILE)),`
    ${O(T.Context.Rename,D.CONTEXT.edit,S().RENAME_FILE)}
    ${O(T.Context.Cut,D.CONTEXT.cut,S().CUT_FILE)}
     ${t}
    ${O(T.Context.Delete,D.CONTEXT.trash,S().DELETE_FILE)}`}getCutFiles(){return document.querySelectorAll('[data-cut="true"]')}},f(gt,"DirectoryFilePlacement"),gt);u(lo,"DirectoryFilePlacement");var mt,Kn=(mt=class{get archiveFile(){return this._archiveFile}constructor(e){this._archiveFile=e}},f(mt,"OnArchiveCompressFileEvent"),mt);u(Kn,"OnArchiveCompressFileEvent");var wt,co=(wt=class{extensions(){return["zip","tar","gz","rar","7z","bz2","xz","wim"]}fileContext(e){return`
    ${O(T.Context.Rename,D.CONTEXT.edit,S().RENAME_FILE)}
    ${O(T.Context.Link.Copy,D.CONTEXT.link,S().COPY_LINK)}
    ${O(T.Context.Link.Preview,D.CONTEXT.preview_link,S().COPY_PREVIEW_LINK)}
    ${O(T.Context.Cut,D.CONTEXT.cut,S().CUT_FILE)}
    ${O(T.Context.Delete,D.CONTEXT.trash,S().DELETE_FILE)}`}run(e,t,o){if(o&&typeof o=="function"){let l;switch(t){case"zip":l=o(D.FILE.zip,t,e);break;default:l=o(D.FILE.compress,t,e)}return fe(new Kn(l),Kn),l}}},f(wt,"ArchiveCompressFilePlacement"),wt);u(co,"ArchiveCompressFilePlacement");var vt,Yn=(vt=class{get codeFile(){return this._codeFile}constructor(e){this._codeFile=e}},f(vt,"OnCodeFileEvent"),vt);u(Yn,"OnCodeFileEvent");var yt,uo=(yt=class{extensions(){return["php","js","css","bat","nim","cs","sql","ts","sh","rb","pyo","pl","o","lua","kt"]}fileContext(e){return`
    ${O(T.Context.Rename,D.CONTEXT.edit,S().RENAME_FILE)}
    ${O(T.Context.Link.Copy,D.CONTEXT.link,S().COPY_LINK)}
    ${O(T.Context.Link.Preview,D.CONTEXT.preview_link,S().COPY_PREVIEW_LINK)}
    ${O(T.Context.Cut,D.CONTEXT.cut,S().CUT_FILE)}
    ${O(T.Context.Delete,D.CONTEXT.trash,S().DELETE_FILE)}`}run(e,t,o){if(o&&typeof o=="function"){let l=o(D.FILE.code,t,e);return fe(new Yn(l),Yn),l}}},f(yt,"CodeFilePlacement"),yt);u(uo,"CodeFilePlacement");var fi={FileByExtensions:[new pi,new co,new uo,new ui,new lo,new di]},bt,Jn=(bt=class{get data(){return this._data}set data(e){this._data=e}constructor(e,t,o=!1){this.commands=e,this.data=t,this.append=o}getCommands(){return this.commands}placeFileByExtension(){let e=this,t=this.getCommands().getList();if(!this.append)try{document.querySelector(L.FILES.FILE_CONTAINER).replaceChildren()}catch(d){console.error(d)}let o,l=this.data;for(o in l){let d=l[o],p;document.querySelector("[data-list_id]:last-of-type")?p=parseInt(document.querySelector("[data-list_id]:last-of-type").dataset.list_id)+1:p=o,d.list_id=p,d.properties=JSON.parse(d.properties);let m=!1,y=d.properties.ext;t.forEach((v,n)=>{typeof v.extensions=="function"&&typeof v.run=="function"&&v.extensions().includes(y)&&(m=!0,v.run(d,y,function(r,c,h){return e.createFile(r,c,h)}))}),m||new un().run(d,y,function(v,n,r){return e.createFile(v,n,r)})}}createFile(e,t,o){let l=document.querySelector(L.FILES.FILE_CONTAINER),d=`
        <li class="tonics-file" 
                    data-list_id="${o.list_id}"
                    data-drive_id="${o.drive_id}"
                    data-drive_parent_id="${o.drive_parent_id}"
                    data-drive_unique_id="${o.drive_unique_id}"
                    data-filename="${o.filename}" 
                    data-file_type="${o.type}"
                    data-size="${o.properties.size}"
                    data-file_path="${o.filepath}"
                    data-time_created="${o.properties.time_created}"
                    data-time_modified="${o.properties.time_modified}"
                    data-ext="${t}">
          <button class="tonics-fm-link remove-button-styles">
           ${e}
            <div class="tonics-file-filename">
              <input class="tonics-file-filename-input" type="text" value="${o.filename}" readonly="" aria-label="${o.filename}">
            </div>
            <span class="svg-per-file-loading display-none"></span>
          </button>
        </li>
        `;return l==null||l.insertAdjacentHTML("beforeend",d),l==null?void 0:l.lastElementChild}},f(bt,"LocalFileExtensionsCommands"),bt);u(Jn,"LocalFileExtensionsCommands");var ue="/api/media/",U;(function(w){w[w.GetFiles=ue+"files"]="GetFiles",w[w.GetFileFromPath=ue+"files?path="]="GetFileFromPath",w[w.SearchFileFromPath=ue+"files/search?path="]="SearchFileFromPath",w.IDQuery="&id=",w.SearchQuery="&query=",w[w.MoveFiles=ue+"files/move"]="MoveFiles",w[w.PreFlight=ue+"files/preflight"]="PreFlight",w[w.DeleteFiles=ue+"files"]="DeleteFiles",w[w.PostFiles=ue+"files"]="PostFiles",w[w.RenameFile=ue+"files/rename"]="RenameFile",w.ServeFile="/serve_file_path_987654321/",w[w.CreateFolder=ue+"files/create_folder"]="CreateFolder",w[w.CancelUpload=ue+"files/cancel_create"]="CancelUpload"})(U||(U={}));var _t,po=(_t=class{constructor(e,t,o){this._fetchInfo={lastStatus:{ok:!1,status:0,statusText:"",response:null}},this.driveSignature=e,this.bearerToken=t,this.setFqdn(o)}get currentPathID(){return this._currentPathID}set currentPathID(e){this._currentPathID=e}get appendNewFiles(){return this._appendNewFiles}set appendNewFiles(e){this._appendNewFiles=e}get filesFolderNextPageUrl(){return this._filesFolderNextPageUrl}set filesFolderNextPageUrl(e){this._filesFolderNextPageUrl=e}get driveSignature(){return this._driveSignature}set driveSignature(e){this._driveSignature=e}get currentDirectoryID(){return this._currentDirectoryID}set currentDirectoryID(e){this._currentDirectoryID=e}get fetchInfo(){return this._fetchInfo}get bearerToken(){return this._bearerToken}set bearerToken(e){this._bearerToken=e}get fqdn(){return this._fqdn}set fqdn(e){this._fqdn=e}get storageData(){return this._storageData}set storageData(e){this._storageData=e}getMaxRequestToSend(){return 4}getDriveIcon(){return"#tonics-hdd"}getDriveName(){return"local"}coldBootStorageDisk(){let e=this;return new Promise(function(t,o){let l=`${e.fqdn}${U.GetFiles}`,d=e.fetchFileData(l);e.storageData=d,d.then(p=>{e.createIndividualDataElement(p),t()}).catch(()=>o())})}createIndividualDataElement(e){let t=new ii(fi.FileByExtensions),o=e.data;if(this.currentPathID=e.more.drive_id,e.more.has_more===!0?(this.filesFolderNextPageUrl=e.more.next_page_url,Ee()):Ee(!1,!1),this.appendNewFiles)return new Jn(t,o,!0).placeFileByExtension();this.addCrumbNavigationPathTrail(e.more),this.currentDirectoryID=e.more.drive_id,new Jn(t,o).placeFileByExtension()}loadMoreFiles(e){return new Promise((t,o)=>{let l=`${this.fqdn}${this.filesFolderNextPageUrl}`;this.fetchFileData(l).then(d=>{this.appendNewFiles=!0,this.createIndividualDataElement(d),this.appendNewFiles=!1,t()})})}searchFiles(e,t){return new Promise((o,l)=>{let d=encodeURIComponent(t.getCurrentDirectory()),p=`${U.SearchFileFromPath}${d}${U.IDQuery}${this.currentPathID}${U.SearchQuery}${encodeURIComponent(e)}`,m=`${this.fqdn}${p}`;this.fetchFileData(m).then(y=>{this.createIndividualDataElement(y),o()})})}addCrumbNavigationPathTrail(e){var t;let l=e.current_path.split("/");l=l.filter(String);let d=document.querySelector(".breadcrumb");d.innerHTML="Navigating:  ";let p="";l.forEach((m,y,v)=>{p=p.concat(`/${m}`);let n=si(m);d==null||d.insertAdjacentHTML("beforeend",`<a data-pathtrail="${p}" data-filename="${m}" 
href="javascript:void(0);">${n}</a><span class="delimiter"> \xBB </span>`)}),(t=d==null?void 0:d.lastElementChild)==null||t.remove()}breadCrumbClickNavigationHandler(e){return new Promise((t,o)=>{let l=encodeURIComponent(e),d=`${this.fqdn}${U.GetFileFromPath}${l}`;this.fetchFileData(d).then(p=>{this.createIndividualDataElement(p),t()}).catch(()=>o())})}createDirectoryElement(e){let t=document.createElement("li");return t.dataset.drive_id=this.currentDirectoryID,t.dataset.file_path=e,t.dataset.file_type="directory",t.dataset.ext="null",t}refresh(e){let t=this;return new Promise(function(o,l){let d=t.createDirectoryElement(e.getCurrentDirectory());t.openFolderHandler(d,e).then(function(){o()})})}createFolder(e,t){let o=this;return new Promise(function(l,d){let p={filename:t.name,uploadTo:e.getCurrentDirectory(),uploadToID:o.currentDirectoryID},m=`${o.fqdn}${U.CreateFolder}`;o.defaultXHR({}).Post(m,JSON.stringify(p),function(v,n){v&&(v=JSON.parse(v),d()),n&&(n=JSON.parse(n),n.hasOwnProperty("status")&&n.status==200&&l())})})}openFolderHandler(e,t){let o=this;return new Promise(function(l,d){if(e.dataset.file_type=="directory"&&e.dataset.ext=="null"){let p=encodeURIComponent(e.dataset.file_path),m=e.dataset.drive_id,y=`${o.fqdn}${U.GetFileFromPath}${p}${U.IDQuery}${m}`;o.fetchFileData(y).then(function(v){o.createIndividualDataElement(v),l()})}})}getStorageFileData(){return this.storageData}defaultXHR(e={}){let t={Authorization:`Bearer ${this.bearerToken}`,"Tonics-CSRF-Token":`${jn(["tonics_csrf_token","csrf_token"])}`};return new cn(Is(Is({},t),e))}headers(){let e=this.bearerToken;return new Headers([["Content-Type","application/json; charset=utf-8"],["Authorization",`Bearer ${e}`],["Tonics-CSRF-Token",`${jn(["tonics_csrf_token","csrf_token"])}`]])}fetchFileData(e){return oe(this,null,function*(){let t=this,o=this.headers(),l=new Request(e,{method:"GET",headers:o,cache:"default",mode:"cors"});return new Un(l).run().then(function(d){return t.processResponse(d)}).then(function(d){if(t.fetchInfo.lastStatus.response=d,t.fetchInfo.lastStatus.ok)return d;console.log(t.fetchInfo.lastStatus)})})}uploadFile(e,t,o){let l=e.fileObject,d=e.preFlightData,p=this;if(d.dataToFill!==null)d.dataToFill.length>0&&!e.uploaded&&(e.pause||p.throttleSend(e,t,o));else{let m=this.defaultXHR({UploadTo:e.uploadTo,Filename:l.name,Filetype:l.type,Chunkstosend:d.chunksToSend,Totalblobsize:d.Totalblobsize,Byteperchunk:d.Byteperchunk}),y=`${this.fqdn}${U.PreFlight}`;m.Get(y,function(v,n){n&&(e.fetched=!0,e.preFlightData.dataToFill=JSON.parse(n).data,e.preFlightData.filename=JSON.parse(n).more.filename,o.setUploadFileObject(t,e),d.dataToFill.length>0&&!e.uploaded&&(e.pause||p.throttleSend(e,t,o)))})}}throttleSend(e,t,o){let l=this,d=e.preFlightData,p=e.preFlightData.dataToFill,m=e.fileObject;for(let y=d.nextIndex,v=p.length;y<v;y++)if(p){let n=p[y],r=JSON.parse(n.moreBlobInfo),c=m.slice(r.startSlice,r.endSlice),h={id:n.id,filename:e.preFlightData.filename,filetype:m.type,uploadTo:e.uploadTo,uploadToID:l.currentDirectoryID,chunkPart:n.blob_chunk_part,chunkSize:n.blob_chunk_size,mbRate:4*1048576,totalChunks:d.chunksToSend,totalBlobSize:m.size,startSlice:r.startSlice,newFile:e.newFile};if(d.throttleSwitch)break;e.preFlightData.sentApi=e.preFlightData.sentApi+1,o.setUploadFileObject(t,e),l.uploadBlob(c,h,t,o),e.preFlightData.nextIndex=e.preFlightData.nextIndex+1,o.setUploadFileObject(t,e)}}uploadBlob(e,t,o,l){let d=this,p=this.bearerToken,m=this.defaultXHR({BlobDataInfo:JSON.stringify(t)}),y=l.getUploadFileObject(o,this.driveSignature);y.preFlightData.sentApi>=y.preFlightData.maxRequestToSend&&(y.preFlightData.throttleSwitch=!0,l.$uploadedFilesObject.set(o,y));let v=`${this.fqdn}${U.PostFiles}`;m.Post(v,e,function(n,r){if(r){let c=JSON.parse(r),h=Math.round(c.data.uploadPercentage);return y.preFlightData.noOfReceivedResponse=y.preFlightData.noOfReceivedResponse+1,l.setUploadFileObject(o,y),c.data.isUploadCompleted||l.updateFileProgress(o,h,d.driveSignature),y.preFlightData.noOfReceivedResponse===y.preFlightData.maxRequestToSend&&(l.releaseThrottle(o,d.driveSignature),!c.data.isUploadCompleted&&!y.uploaded&&d.uploadFile(y,o,l)),y.uploaded||c.data.isUploadCompleted&&(l.setUploadCompleted(o,d.driveSignature),l.isUploadingSequentially()&&(l.setSequenceDone(o,d.driveSignature),l.uploadFileNextSequence(d.driveSignature))),c}})}cancelFileUploadHandler(e,t){let o=this;e.pause=!0,e.uploaded=!0,e.preFlightData.throttleSwitch=!0;let l=this.driveSignature+"_"+e.fileObject.name;return t.setUploadFileObject(l,e),new Promise(function(d,p){let m=e.preFlightData,y={filename:e.preFlightData.filename,totalChunks:m.chunksToSend,uploadTo:e.uploadTo,totalBlobSize:e.fileObject.size},v=o.defaultXHR({}),n=JSON.stringify(y),r=`${o.fqdn}${U.CancelUpload}`;v.Delete(r,n,function(c,h){c&&p(),h&&(h=JSON.parse(h),h.hasOwnProperty("status")&&h.status==200&&d(h.message))})})}renameFileHandler(e,t){let o=this;return new Promise(function(l,d){let p=e.querySelector(".tonics-file-filename-input");e.dataset.filename_new=p.value;let m=JSON.stringify(e.dataset),y=o.headers(),v=`${o.fqdn}${U.RenameFile}`,n=new Request(v,{method:"PUT",headers:y,cache:"default",mode:"cors",body:m});new Un(n).run().then(function(c){return o.processResponse(c)}).then(function(c){if(c.status>200)return d();if(c.hasOwnProperty("data")){p.style.width="175px";let h=c.data;return p.value=h.filename,p.ariaLabel=h.filename,e.dataset.drive_id=h.drive_id,e.dataset.filename=h.filename,e.dataset.file_path=h.file_path,e.dataset.time_modified=h.time_modified,l(e)}})})}editImageHandler(e){let t=this;return new Promise(function(o,l){let d=e.getFileContainerEvent().getSelectedFile(),p=`${t.fqdn}${U.ServeFile}`+d.dataset.drive_unique_id+"?render",m={translations:{en:{"toolbar.save":"Save","toolbar.apply":"Apply","toolbar.download":"Save Changes"}}};if(d){let y=u(function(n){n.canvas.toBlob(function(r){let c=new File([r],d.dataset.filename),h=e.getFileContainerEvent().getCurrentDirectory(),b=e.byteToSendPerChunk,k={fileObject:c,driveSignature:e.getFileContainerEvent().currentDrive.driveSignature,preFlightData:{filename:c.name,dataToFill:null,chunksToSend:Math.ceil(c.size/b),Byteperchunk:b,Totalblobsize:c.size,maxRequestToSend:e.maxRequestToSend,noOfReceivedResponse:0,throttleSwitch:!1,sentApi:0,nextIndex:0},newFile:!1,uploadTo:h,fetched:!1,pause:!1,uploaded:!1};e.updateFileProgress(c.name,0,t.driveSignature," \u22EF Updating"),e.setUploadFileObject(c.name,k),t.uploadFile(k,c.name,e)})},"onBeforeComplete");new FilerobotImageEditor(m,{onBeforeComplete:y}).open(p)}})}copyLinkHandler(e,t){let o=this;return new Promise((l,d)=>{t===null&&(t=e.getSelectedFile());let p=`${o.fqdn}${U.ServeFile}`+t.dataset.drive_unique_id;return pe(p).then(()=>{l(p)}).catch(()=>{d()})})}copyPreviewLinkHandler(e,t){let o=this;return new Promise((l,d)=>{t===null&&(t=e.getSelectedFile());let p=`${o.fqdn}${U.ServeFile}`+t.dataset.drive_unique_id+"?render";return pe(p).then(()=>{l(p)}).catch(()=>{d()})})}moveFileHandler(e,t){let o=this;return new Promise(function(l,d){let p=[],m=e.dataset;m.hasOwnProperty("drive_id")||(m.drive_id=o._currentDirectoryID),t.getCutFiles().forEach(r=>{if(r.dataset.drive_id==m.drive_id)throw d(`Destination Folder \`${m.filename}\` is a subfolder of the source folder`),new DOMException(`Destination Folder \`${m.filename}\` is a subfolder of the source folder, you can't paste the same folder into the same folder`);p.push(r.dataset)});let y=JSON.stringify({files:p,destination:m}),v=o.defaultXHR({}),n=`${o.fqdn}${U.MoveFiles}`;v.Put(n,y,function(r,c){if(r)return r=JSON.parse(r),d();c&&(c=JSON.parse(c),c.hasOwnProperty("status")&&c.status==200&&o.refresh(t).then(function(){l()}))})})}deleteFileHandler(e,t){let o=this;return new Promise(function(l,d){let p=o.defaultXHR({}),m=JSON.stringify({files:e}),y=`${o.fqdn}${U.DeleteFiles}`;p.Delete(y,m,function(v,n){v&&d(),n&&(n=JSON.parse(n),n.hasOwnProperty("status")&&n.status==200&&o.refresh(t).then(function(){l(n.message)}))})})}processResponse(e){return oe(this,null,function*(){return this.fetchInfo.lastStatus.ok=e.ok,this.fetchInfo.lastStatus.status=e.status,this.fetchInfo.lastStatus.statusText=e.statusText,this.fetchInfo.lastStatus.response=null,this.fetchInfo.lastStatus.ok?yield e.json():yield e.json()})}setFqdn(e){let t=this.isValidURL(e);if(!t)throw new DOMException(`${e} is not a valid domain address, an example of a valid domain is https://google.com`);this.fqdn=t}isValidURL(e){let t=document.createElement("input");return t.setAttribute("type","url"),t.value=e,t.validity.valid?e:!1}},f(_t,"LocalDiskDrive"),_t);u(po,"LocalDiskDrive");var Et,tn=(Et=class{constructor(e,t,o=!1){this.commands=e,this.fileData=t,this.append=o}getCommands(){return this.commands}getFileData(){return this.fileData}placeFileByExtension(){let e=this,t=this.getCommands().getList();this.append||document.querySelectorAll(L.FILES.SINGLE_FILE).forEach(d=>d.remove());let o,l=this.getFileData();for(o in l){let d=l[o],p;d.hasOwnProperty("metadata")&&(d=d.metadata.metadata),document.querySelector("[data-list_id]:last-of-type")?p=parseInt(document.querySelector("[data-list_id]:last-of-type").dataset.list_id)+1:p=o,d.list_id=p;let m=!1,y=zs(d.name);t.forEach((v,n)=>{typeof v.extensions=="function"&&typeof v.run=="function"&&(d[".tag"]==="folder"?v.extensions().includes(null)&&(m=!0,v.run(d,"null",function(r,c,h){return e.createFile(r,c,h)})):v.extensions().includes(y)&&(m=!0,v.run(d,y,function(r,c,h){return e.createFile(r,c,h)})))}),m||new un().run(d,y,function(v,n,r){return e.createFile(v,n,r)})}}createFile(e,t,o){let l=document.querySelector(L.FILES.FILE_CONTAINER),d="",p="";o.hasOwnProperty("size")&&(d=o.size),o.hasOwnProperty("server_modified")&&(p=o.server_modified);let m=o[".tag"]==="folder"?"directory":o[".tag"],y=`
        <li class="tonics-file" 
                    data-list_id="${o.list_id}"
                    data-drive_id="${o.id}"
                    data-filename="${o.name}" 
                    data-file_type="${m}"
                    data-size="${d}"
                    data-file_path="${o.path_lower}"
                    data-time_modified="${p}"
                    data-ext="${t}">
          <button class="tonics-fm-link remove-button-styles">
           ${e}
            <div class="tonics-file-filename">
              <input onkeyup="event.preventDefault()" class="tonics-file-filename-input" type="text" value="${o.name}" readonly="" aria-label="${o.name}">
            </div>
            <span class="svg-per-file-loading display-none"></span>
          </button>
        </li>
        `;return l==null||l.insertAdjacentHTML("beforeend",y),l==null?void 0:l.lastElementChild}},f(Et,"DropboxFileExtensionCommands"),Et);u(tn,"DropboxFileExtensionCommands");var sn={FileRobotImageEditor:{ID:"filerobot-image-editor",PATH:"/serve_module_file_path_987654321/Core?path=/js/media/filerobot-image-editor.js"},DropboxSDK:{ID:"dropbox-sdk",PATH:"/serve_module_file_path_987654321/Core?path=/js/media/dropbox.min.js"}},kt,fo=(kt=class{constructor(e="",t=""){this._sharedLink=new Map,e&&(this.driveSignature=e),t&&(this.accessToken=t)}get isSearch(){return this._isSearch}set isSearch(e){this._isSearch=e}get driveSignature(){return this._driveSignature}set driveSignature(e){this._driveSignature=e}get accessToken(){return this._accessToken}set accessToken(e){this._accessToken=e}get sharedLink(){return this._sharedLink}get storageData(){return this._storageData}set storageData(e){this._storageData=e}get nextCursor(){return this._nextCursor}set nextCursor(e){this._nextCursor=e}get appendNewFiles(){return this._appendNewFiles}set appendNewFiles(e){this._appendNewFiles=e}getMaxRequestToSend(){return 1}getDriveIcon(){return"#tonics-dropbox"}getDriveName(){return"Dropbox"}coldBootStorageDisk(){let e=this;return new Promise(function(t,o){ai(sn.DropboxSDK.PATH,sn.DropboxSDK.ID).then(function(){e.listFolder("").then(()=>{t()}).catch(()=>{o()})}.bind(e))})}addCrumbNavigationPathTrail(e){var t;let o=e.split("/"),l=document.querySelector(".breadcrumb"),d="",p="";l.innerHTML="Navigating:  ",o.forEach(m=>{d=d.concat(`/${m}`),m?p=si(m):(d="",p="Root"),l==null||l.insertAdjacentHTML("beforeend",`<a data-pathtrail="${d}" data-filename="${m}"  href="javascript:void(0);">${p}</a><span class="delimiter"> \xBB </span>`)}),(t=l==null?void 0:l.lastElementChild)==null||t.remove()}getStorageFileData(){return this.storageData}createIndividualDataElement(e){let t=new ii(fi.FileByExtensions);if(e.result.has_more?(this.nextCursor=e.result.cursor,Ee()):Ee(!1,!1),e.result.hasOwnProperty("matches")){this.isSearch=!0;let o=e.result.matches;return new tn(t,o).placeFileByExtension()}else{this.isSearch=!1;let o=e.result.entries;return this.appendNewFiles?new tn(t,o,!0).placeFileByExtension():new tn(t,o).placeFileByExtension()}}listFolder(e=""){let t=this;return new Promise((o,l)=>{let p=t.getDropbox().filesListFolder({path:e,include_media_info:!0,recursive:!1,limit:20});t.storageData=p,p.then(m=>{t.addCrumbNavigationPathTrail(e),t.createIndividualDataElement(m),o()}).catch(function(m){console.log(m),l(m)})})}loadMoreFiles(e){return new Promise((t,o)=>{this.isSearch&&this.getDropbox().filesSearchContinueV2({cursor:this.nextCursor}).then(l=>{this.appendNewFiles=!0,this.createIndividualDataElement(l),this.appendNewFiles=!1,t()}),this.getDropbox().filesListFolderContinue({cursor:this.nextCursor}).then(l=>{this.appendNewFiles=!0,this.createIndividualDataElement(l),this.appendNewFiles=!1,t()})})}searchFiles(e,t){return new Promise((o,l)=>{this.getDropbox().filesSearchV2({query:e}).then(d=>{this.createIndividualDataElement(d),o()})})}cancelFileUploadHandler(e,t){e.pause=!0,e.uploaded=!0,e.preFlightData.throttleSwitch=!0;let o=this.driveSignature+"_"+e.fileObject.name;return t.setUploadFileObject(o,e),new Promise(function(l,d){localStorage.getItem(o)&&(localStorage.removeItem(o),l()),d()})}moveFileHandler(e,t){let o=this,l=[],d=e.dataset;return t.getCutFiles().forEach(p=>{if(p.dataset.drive_id==d.drive_id)throw new DOMException(`Destination Folder \`${d.filename}\` is a subfolder of the source folder, you can't paste the same folder into the same folder`);{let m={from_path:p.dataset.file_path,to_path:d.file_path+p.dataset.file_path};d.file_path||(m={from_path:p.dataset.file_path,to_path:"/"+p.dataset.filename}),l.push(m)}}),new Promise(function(p,m){let y=o.getDropbox();y.filesMoveBatchV2({entries:l,autorename:!0,allow_ownership_transfer:!0}).then(function(v){return v}).then(function(v){y.filesMoveBatchCheckV2({async_job_id:v.result.async_job_id}).then(n=>{console.log(n),p("Move Operation is Progressing, Refresh After Few Seconds (Might Take Longer)")})}).catch(function(v){console.log(v),m()})})}renameFileHandler(e,t){let o=this;return new Promise(function(l,d){let p=e.querySelector(".tonics-file-filename-input"),m=e.dataset.file_path,y=Vs(m,"/"),v=e.dataset.ext,n=p.value,r=y+n;y!=="/"&&(r=y+"/"+n),m.endsWith(v)&&(n.endsWith(v)?r=y+n:r=y+n+"."+v),o.getDropbox().filesMoveV2({from_path:m,to_path:r}).then(function(h){if(h){p.style.width="175px";let b=h.result.metadata;p.value=b.name,e.dataset.filename=b.name,e.dataset.file_path=b.path_lower,e.dataset.time_modified=b.server_modified,l(e)}}).catch(function(h){console.log(h),d()})})}editImageHandler(e){let t=this;return new Promise(function(o,l){let d=e.getFileContainerEvent().getSelectedFile();if(d){let p=t.getDropbox();p.filesGetTemporaryLink({path:d.dataset.file_path}).then(function(y){return y.result.link}).then(function(y){let v={translations:{en:{"toolbar.save":"Save","toolbar.apply":"Apply","toolbar.download":"Save Changes"}}},n=u(function(c){c.canvas.toBlob(function(h){let b=new File([h],d.dataset.filename);p.filesUpload({path:d.dataset.file_path,contents:b,mode:"overwrite"}).then(function(k){e.updateFileProgress(b.name,100,t.driveSignature," \u2713 Updated")}).catch(function(k){console.log(k),l()})})},"onBeforeComplete");new FilerobotImageEditor(v,{onBeforeComplete:n}).open(y)}).catch(function(y){l()})}})}deleteFileHandler(e,t){let o=this,l=[];return e.forEach(function(d,p,m){let y={path:d.file_path};l.push(y)}),new Promise(function(d,p){o.getDropbox().filesDeleteBatch({entries:l}).then(y=>{y.status!==200&&p(),d("File(s) Deletion Is In Progress, Refresh After Few Seconds (Might Take Longer)")}).catch(function(y){console.log(y),p()})})}openFolderHandler(e,t){let o=this;return new Promise(function(l,d){e.dataset.file_type==="directory"&&o.listFolder(e.dataset.file_path).then(function(){l()}).catch(function(p){console.log(p),d()})})}parseDropboxSharedLink(e,t="?dl=1"){let o=document.createElement("a");return o.href=e,o.origin+o.pathname+t}copyLinkHandler(e,t){let o=this;return new Promise((l,d)=>oe(this,null,function*(){let p=o.getDropbox();t===null&&(t=e.getSelectedFile());let m=t.dataset.file_path,y;if(y=o.sharedLink.get(m)){let v=o.parseDropboxSharedLink(y);yield pe(v).then(()=>{l(v)})}else p.sharingCreateSharedLinkWithSettings({path:m,settings:{audience:"public",access:"viewer",requested_visibility:"public",allow_download:!0}}).then(n=>oe(this,null,function*(){let r=o.parseDropboxSharedLink(n.result.url);o.sharedLink.set(m,n.result.url),yield pe(r).then(()=>{l(r)})})).catch(function(n){return n.error||d(),n.error}).then(n=>{n.error&&n.error[".tag"]==="shared_link_already_exists"&&p.sharingListSharedLinks({path:m,direct_only:!0}).then(c=>oe(this,null,function*(){let h=o.parseDropboxSharedLink(c.result.links[0].url);o.sharedLink.set(m,c.result.links[0].url),yield pe(h).then(()=>{o.sharedLink.set(m,c.result.links[0].url),l(h)})}))}).catch(()=>{d()})}))}copyPreviewLinkHandler(e,t){let o=this;return new Promise((l,d)=>oe(this,null,function*(){let p=o.getDropbox();t===null&&(t=e.getSelectedFile());let m=t.dataset.file_path,y;if(y=o.sharedLink.get(m)){let v=o.parseDropboxSharedLink(y,"?raw=1");yield pe(v).then(()=>l(v))}else p.sharingCreateSharedLinkWithSettings({path:m,settings:{audience:"public",access:"viewer",requested_visibility:"public",allow_download:!0}}).then(n=>oe(this,null,function*(){let r=o.parseDropboxSharedLink(n.result.url,"?raw=1");o.sharedLink.set(m,n.result.url),yield pe(r).then(()=>{l(r)})})).catch(n=>(n.error||d(),n.error)).then(n=>{n.error&&n.error[".tag"]==="shared_link_already_exists"&&p.sharingListSharedLinks({path:m,direct_only:!0}).then(c=>oe(this,null,function*(){let h=o.parseDropboxSharedLink(c.result.links[0].url,"?raw=1");o.sharedLink.set(m,c.result.links[0].url),yield pe(h).then(()=>{o.sharedLink.set(m,c.result.links[0].url),l(h)})}))}).catch(()=>{d()})}))}createFolder(e,t){let o=this;return new Promise(function(l,d){let p=o.getDropbox(),m=e.getCurrentDirectory()+"/"+t.name;p.filesCreateFolderV2({path:m}).then(function(y){y.status===200&&l()}).catch(function(y){console.log(y),d()})})}refresh(e){let t=this;return new Promise(function(o,l){t.listFolder(e.getCurrentDirectory()).then(function(){o()}).catch(function(d){console.log(d),l()})})}getDropbox(){return new Dropbox.Dropbox({accessToken:`${this.accessToken}`})}uploadFile(e,t,o){let l=e.preFlightData,d=this;this.createPreflightData(e,l.chunksToSend,l.Byteperchunk,l.Totalblobsize).then(function(p){e.preFlightData.dataToFill=p,e.preFlightData.dataToFill&&e.preFlightData.dataToFill.length>0&&!e.uploaded&&(e.pause||d.throttleSend(e,t,o))})}throttleSend(e,t,o){let l=e.preFlightData,d=e.preFlightData.dataToFill,p=e.fileObject;for(let m=0,y=d.length;m<y;m++)if(d){let v=p.slice(d[m].startSlice,d[m].endSlice);if(l.throttleSwitch)break;e.preFlightData.sentApi=e.preFlightData.sentApi+1,o.$uploadedFilesObject.set(t,e);let n=d[m].startSlice;this.uploadBlob(v,t,o,n)}}uploadBlob(e,t,o,l){let d=this.getDropbox(),p=this.getSessionID(t),m={session_id:p,offset:l},y=this,v=o.getUploadFileObject(t,y.driveSignature);if(v.preFlightData.sentApi===v.preFlightData.maxRequestToSend&&(v.preFlightData.throttleSwitch=!0,o.$uploadedFilesObject.set(t,v)),this.isLastOffset(t,l)){let r={path:o.getFileContainerEvent().getCurrentDirectory()+"/"+v.fileObject.name,mode:"add",autorename:!0,mute:!1};return d.filesUploadSessionFinish({cursor:{session_id:p,offset:v.fileObject.size},commit:r,contents:e}).then(function(){o.setUploadCompleted(t,y.driveSignature),localStorage.removeItem(t),o.isUploadingSequentially()&&(o.setSequenceDone(t,y.driveSignature),o.uploadFileNextSequence(y.driveSignature))})}else d.filesUploadSessionAppendV2({cursor:m,close:!1,contents:e}).then(()=>{y.updateOffsetDone(t,l),v.preFlightData.noOfReceivedResponse=v.preFlightData.noOfReceivedResponse+1,o.$uploadedFilesObject.set(t,v);let n=Math.round(y.uploadPercentage(t));v.preFlightData.noOfReceivedResponse===v.preFlightData.maxRequestToSend&&(o.releaseThrottle(t,y.driveSignature),v.uploaded||(y.uploadFile(v,t,o),o.updateFileProgress(t,n,y.driveSignature)))}).catch(n=>{if(n=n.error,n.error.hasOwnProperty("correct_offset")){let r=n.error.correct_offset;y.repairOffsetPosition(t,r),o.releaseThrottle(t,y.driveSignature),y.uploadFile(v,t,o)}})}createPreflightData(e,t,o,l){let d=this,p=d.driveSignature+"_"+e.fileObject.name;return new Promise(function(m,y){return oe(this,null,function*(){let v=d.getDropbox(),n;if(n=JSON.parse(localStorage.getItem(p)))return n=n.dataToFill.filter(b=>!b.done),m(n);let r=0,c=o,h=e.fileObject;n={session_id:"",dataToFill:[]};for(let b=0;b<=t;b++)b===0?yield v.filesUploadSessionStart({close:!1,contents:h.slice(r,c)}).then(k=>{n.dataToFill.push({startSlice:r,endSlice:c,done:!0}),n.session_id=k.result.session_id}).catch(function(){y()}):n.dataToFill.push({startSlice:r,endSlice:c,done:!1}),l=l-o,r=c,c=r+o;return localStorage.setItem(p,JSON.stringify(n)),n=n.dataToFill.filter(b=>!b.done),m(n)})})}isLastOffset(e,t){let o=JSON.parse(localStorage.getItem(e));return o?(o=o.dataToFill,o[o.length-1].startSlice===t):!1}updateOffsetDone(e,t,o=!0){let l=JSON.parse(localStorage.getItem(e));if(l){let d=l.dataToFill;for(let p=0,m=d.length;p<m;p++)if(d[p].startSlice===t){d[p].done=o,localStorage.setItem(e,JSON.stringify({session_id:l.session_id,dataToFill:d}));break}}}getSessionID(e){let t=JSON.parse(localStorage.getItem(e));return t?t.session_id:!1}uploadPercentage(e){let t=JSON.parse(localStorage.getItem(e));if(t){let o=t.dataToFill.length;return t.dataToFill.filter(d=>d.done).length/o*100}}repairOffsetPosition(e,t){let o=JSON.parse(localStorage.getItem(e));if(o){let l=o.dataToFill;for(let d=0,p=l.length;d<p&&!(l[d].endSlice>t);d++)l[d].endSlice<=t&&(l[d].done=!0,localStorage.setItem(e,JSON.stringify({session_id:o.session_id,dataToFill:l})))}}breadCrumbClickNavigationHandler(e){return new Promise((t,o)=>{this.listFolder(e).then(()=>t()).catch(()=>o())})}},f(kt,"DropboxDiskDrive"),kt);u(fo,"DropboxDiskDrive");var Ct,hi=(Ct=class{constructor(){this._$driveSystem=new Map}get $driveSystem(){return this._$driveSystem}attachDriveStorage(e){return this.$driveSystem.set(e.driveSignature,e),this}detachDriveStorage(e){this.$driveSystem.has(e)&&this.$driveSystem.delete(e)}getDriveStorage(e){if(this.$driveSystem.has(e))return this.$driveSystem.get(e);throw new DOMException(`DriveStorage "${e}" doesn't exist`)}getFirstDriveStorage(){return[...this.$driveSystem][0][1]}},f(Ct,"StorageDriversManager"),Ct);u(hi,"StorageDriversManager");window.hasOwnProperty("TonicsMedia")||(window.TonicsMedia={});window.TonicsMedia.StorageDriversManager=()=>new hi;var St,ho=(St=class{constructor(e){this.removePreviousCutFiles(e),this.cutSelectedFiles(e),e.removeContextMenu()}removePreviousCutFiles(e){e.cutFile=[]}cutSelectedFiles(e){let t=e.getAllSelectedFiles();t.length>0&&(e.cutFile=t)}},f(St,"CutFileEvent"),St);u(ho,"CutFileEvent");var xt,gi=(xt=class{constructor(e){this.fileContainerEvent=e,this.copiedLinkFile=e.getSelectedFile(),this.copiedLink=""}getFileContainerEvent(){return this.fileContainerEvent}handleCopyLink(e=null){let t=this;return this.getFileContainerEvent().currentDrive.copyPreviewLinkHandler(this.fileContainerEvent,e)}onSuccess(e){this.setCopiedLink(e),this.fileContainerEvent.removeContextMenu(),ee(T.Link.Copy.Preview.Success).then(),this.fileContainerEvent.dispatchEventToHandlers(this,gi)}onError(e=null){Y(T.Link.Copy.Preview.Error).then()}getCopiedLinkFile(){return this.copiedLinkFile}setCopiedLink(e){this.copiedLink=e}getCopiedLink(){return this.copiedLink}},f(xt,"CopyPreviewLinkEvent"),xt);u(gi,"CopyPreviewLinkEvent");var Ft,mi=(Ft=class{get renamedFile(){return this._renamedFile}set renamedFile(e){this._renamedFile=e}constructor(e){this.fileContainerEvent=e}handleRenameFile(){let e=this.fileContainerEvent.getSelectedFile();if(e){let t=e.querySelector(".tonics-file-filename-input");this.fileContainerEvent.removeContextMenu(),oi("Rename File To: ",t.value).then(o=>{o.isConfirmed&&(t.value=o.value,this.fileContainerEvent.currentDrive.renameFileHandler(e,this.fileContainerEvent).then(l=>{this.onSuccess(l)}).catch(()=>{this.onError()}))})}}onSuccess(e=""){ee(T.Rename.Success).then(),this.renamedFile=e,this.fileContainerEvent.clearSelection(),this.fileContainerEvent.dispatchEventToHandlers(this,mi)}onError(e=""){Y(T.Rename.Error).then()}},f(Ft,"RenameFileEvent"),Ft);u(mi,"RenameFileEvent");var Tt,wi=(Tt=class{constructor(e){this.fileContainerEvent=e}handleDeleteFile(){return oe(this,null,function*(){let e=this.fileContainerEvent;e.removeDeletionMark(e.getAllFiles());let t=e.getAllSelectedFiles(),o=[];return t.length>0&&(e.markForDeletion(t),e.getFilesToBeDeleted().forEach(l=>{o.push(l.dataset)})),e.removeContextMenu(),e.currentDrive.deleteFileHandler(o,e)})}onSuccess(e=""){this.fileContainerEvent.resetPreviousFilesState(),e||(e=T.Deleted.Success),ee(e).then(),this.fileContainerEvent.dispatchEventToHandlers(this,wi)}onError(e=""){Y(T.Deleted.Error).then()}},f(Tt,"DeleteFileEvent"),Tt);u(wi,"DeleteFileEvent");var Dt,vi=(Dt=class{constructor(e){this.fileContainerEvent=e}handlePasteFile(){let e=this.fileContainerEvent;e.removeContextMenu();let t=e.getSelectedFile();return t||(t=document.createElement("li"),t.dataset.file_type="directory",t.dataset.file_path=e.getCurrentDirectory(),t.dataset.filename=e.getCurrentDirectoryFilename(),t.dataset.ext="null"),t&&t.dataset.ext=="null"&&t.dataset.file_type=="directory"?(t.dataset.paste="true",e.currentDrive.moveFileHandler(t,e)):!1}onSuccess(e=""){this.fileContainerEvent.resetPreviousFilesState(),this.fileContainerEvent.cutFile=[],e||(e=T.Move.Success),ee(e).then(),this.fileContainerEvent.dispatchEventToHandlers(this,vi)}onError(e=""){e?Y(e).then():Y(T.Move.Error).then()}},f(Dt,"PasteFileEvent"),Dt);u(vi,"PasteFileEvent");var Pt,go=(Pt=class{constructor(e){this.fileContainerEvent=e,this.handleEditImageFile()}handleEditImageFile(){let e=this;ai(sn.FileRobotImageEditor.PATH,sn.FileRobotImageEditor.ID).then(function(){return e.fileContainerEvent.currentDrive.editImageHandler(new dn(e.fileContainerEvent,null,null))}.bind(e))}},f(Pt,"EditImageFileEvent"),Pt);u(go,"EditImageFileEvent");var Lt,Zn=(Lt=class{constructor(e,t,o){this._cutFile=[],this._pasteTo=null,this.fileContainer=e,this.loadDriveEventClass=t,this.currentDrive=o}get currentDrive(){return this._currentDrive}set currentDrive(e){this._currentDrive=e}get cutFile(){return this._cutFile}set cutFile(e){this._cutFile=e}get pasteTo(){return this._pasteTo}set pasteTo(e){this._pasteTo=e}getFileContainer(){return this.fileContainer}getLoadDriveEventClass(){return this.loadDriveEventClass}getCurrentDirectory(){var e,t;return(t=(e=document.querySelector(".breadcrumb"))==null?void 0:e.lastElementChild)==null?void 0:t.getAttribute("data-pathtrail")}getCurrentDirectoryFilename(){var e,t;return(t=(e=document.querySelector(".breadcrumb"))==null?void 0:e.lastElementChild)==null?void 0:t.getAttribute("data-filename")}getBreadCrumbElement(){return document.querySelector(".breadcrumb")}titleCase(e){return e.toLowerCase().replace(/\b(\w)/g,function(t){return t.toLocaleUpperCase()})}getSelectedFile(){return document.querySelector('[data-selected="true"]')}getAllSelectedFiles(){return document.querySelectorAll('[data-selected="true"]')}getAllFiles(){return document.querySelectorAll("li.tonics-file")}getCutFiles(){return this.cutFile}getFilesToBeDeleted(){return document.querySelectorAll('[data-delete="true"]')}getFileByListID(e){return document.querySelector(`[data-list_id="${e}"]`)}getCopiedFiles(){return document.querySelectorAll('[data-copied="true"]')}getContextMenu(){return document.querySelector(L.FILES.CONTEXT)}getDiskDrives(){return document.querySelector(L.DRIVE.FILE_DISK_DRIVES)}removeContextMenu(){this.getContextMenu().classList.remove("show")}highlightFile(e){e.classList.add("selected-file"),e.dataset.selected="true";let t=document.querySelector(L.HEAD.PARENT);switch(t.style.top="0",e.dataset.file_type){case"directory":return this.cutFile.length>0?Te([S().PASTE_FILE,S().RENAME_FILE,S().CUT_FILE,S().DELETE_FILE]):Te([S().RENAME_FILE,S().CUT_FILE,S().DELETE_FILE]);case"file":if(this.cutFile.length>0)return Te([S().PASTE_FILE,S().RENAME_FILE,S().CUT_FILE,S().DELETE_FILE]);Te([S().RENAME_FILE,S().CUT_FILE,S().DELETE_FILE,S().COPY_PREVIEW_LINK,S().COPY_LINK])}}unHighlightFile(e){e.classList.remove("selected-file"),e.dataset.selected="false",e.setAttribute("readonly","true"),this.getAllSelectedFiles().length<1&&$n([S().RENAME_FILE,S().CUT_FILE,S().DELETE_FILE,S().PASTE_FILE,S().COPY_PREVIEW_LINK,S().COPY_LINK])}resetPreviousFilesState(){let e=L.FILES.SINGLE_FILE,t=document.querySelector(L.HEAD.PARENT),o=t==null?void 0:t.getBoundingClientRect().height;if(t.style.top=`-${o}px`,document.querySelectorAll(e).forEach(l=>{var d;l.classList.remove("selected-file"),l.setAttribute("data-selected","false"),(d=l.querySelector(".tonics-file-filename-input"))==null||d.setAttribute("readonly","true")}),$n([S().RENAME_FILE,S().CUT_FILE,S().DELETE_FILE,S().PASTE_FILE,S().COPY_PREVIEW_LINK,S().COPY_LINK]),this.cutFile.length>0)return Te([S().PASTE_FILE])}removeAllDriveSelectionMark(){this.loadDriveEventClass.removeAllDriveSelectionMark()}removeDeletionMark(e){e.length>0&&e.forEach(t=>{t.dataset.delete="false"})}markForDeletion(e){e.length>0&&e.forEach(t=>{t.dataset.delete="true"})}clearSelection(){var e;(e=window==null?void 0:window.getSelection())==null||e.empty()}menuEventAction(e){let t=this;if(nn.hasOwnProperty(e)){let o=S(),l;for(l in o){let d=o[l];if(d==e)switch(d){case"EditImageFileEvent":return t.editImageFileEvent();case"DeleteFileEvent":return t.deleteFileEvent();case"RenameFileEvent":return t.renameFileEvent();case"PasteFileEvent":return t.pasteFileEvent();case"UploadFileEvent":return t.uploadFileEvent();case"CopyLinkEvent":return t.copyLinkEvent();case"CopyPreviewLinkEvent":return t.copyPreviewLinkEvent();case"CutFileEvent":return new ho(this);case"NewFolderEvent":oi("Folder Name").then(p=>{if(this.removeContextMenu(),p.isConfirmed){let m={name:p.value};return t.currentDrive.createFolder(this,m).then(function(){ee(T.Folder.Success).then(),t.currentDrive.refresh(t).then()}.bind(t)).catch(function(){Y(T.Folder.Error).then()})}});return;case"RefreshFolderEvent":return t.refreshFolderEvent();default:break}}}}dispatchEventToHandlers(e,t){fe(e,t)}editImageFileEvent(){new go(this)}refreshFolderEvent(){return this.currentDrive.refresh(this).then(()=>{this.removeContextMenu(),ee(T.Refresh.Success).then()})}deleteFileEvent(){let e=new wi(this);ri("Are You Sure You Want To Delete File(s) ?","Delete",()=>{e.handleDeleteFile().then(t=>{e.onSuccess(t)}).catch(function(){e.onError()})})}pasteFileEvent(){let e=new vi(this),t=e.handlePasteFile();t instanceof Promise&&t.then(o=>{e.onSuccess(o)}).catch(function(){e.onError()}),t===!1&&e.onError("Failed To Paste Into Directory")}copyLinkEvent(){let e=new pn(this);e.handleCopyLink(this.getSelectedFile()).then(t=>{e.onSuccess(t)}).catch(t=>{e.onError()})}copyPreviewLinkEvent(){let e=new gi(this);e.handleCopyLink(this.getSelectedFile()).then(t=>{e.onSuccess(t)}).catch(function(){e.onError()})}renameFileEvent(){new mi(this).handleRenameFile()}uploadFileEvent(){let e=this,t=document.createElement("input");t.type="file",t.multiple=!0,t.click(),t.onchange=function(o){let l=o.target.files,d=e.getCurrentDirectory();new dn(e,l,d)}}},f(Lt,"FileContainerEvent"),Lt);u(Zn,"FileContainerEvent");var At,on=(At=class{constructor(e,t){this.data=e,this.loadDriveEventClass=t}getData(){return this.data}getLoadDriveEventClass(){return this.loadDriveEventClass}getFiles(){var e;return(e=this.getData())==null?void 0:e.data}getCurrentPath(){var e;return(e=this.getData())==null?void 0:e.more}getBreadCrumbElement(){return document.querySelector(".breadcrumb")}},f(At,"LoadDriveDataEvent"),At);u(on,"LoadDriveDataEvent");window.hasOwnProperty("TonicsScript")||(window.TonicsMedia={});window.TonicsMedia.LoadDriveDataEvent=(w,e)=>new on(w,e);var It,yi=(It=class{get appURL(){return this._appURL}set appURL(e){this._appURL=e}get eventsConfig(){return this._eventsConfig}set eventsConfig(e){this._eventsConfig=e}get driveStorageManager(){return this._driveStorageManager}set driveStorageManager(e){this._driveStorageManager=e}constructor(e,t=""){window.TonicsFileManager={events:{}},this._eventsConfig=nn,this.driveStorageManager=e;let o=document.querySelector(".tonics-files-parent"),l=o==null?void 0:o.querySelector(".tonics-files-container");if(this._appURL=t,this.processDriveRootFolder(),l){let d=Mt(this.eventsConfig,Zn),p=new Zn(l,this,this.driveStorageManager.getFirstDriveStorage());window.TonicsFileManager.events.fileContainerEvent=p,window.TonicsFileManager.events.loadDriveEvent=this,this.getEventDispatcher().setHandler(d).dispatch(p)}}processDriveRootFolder(){let e=document.querySelector(L.DRIVE.DISK_DRIVE_CONTAINER);e==null||e.replaceChildren(),this.driveStorageManager.$driveSystem.forEach(function(t,o){let l=t.getDriveIcon();e==null||e.insertAdjacentHTML("beforeend",`
            <li class="tonics-individual-drive" data-drivename=${o}>
          <a href="javascript:void(0);" class="drive-link">
              <button class="drive-toggle" aria-expanded="false" aria-label="Expand child menu">
                  <svg class="icon tonics-drive-icon">
                      <use class="svgUse" xlink:href=${l}></use>
                  </svg>
              </button>
              <span class="tonics-drive-selected display-none"> \u2713 </span>
              &nbsp;
              <!-- DRIVE NAME -->
              <span class="drive-name"> ${o} Drive</span>
          </a>
      </li>`)})}processFiles(e){let t=Mt(nn,on);this.getEventDispatcher().setHandler(t).dispatch(new on(e,this))}bootDiskDrive(e){if(!this.driveStorageManager.$driveSystem.has(e))throw new DOMException(`Couldn't Boot Drive "${e}", Perhaps, It Doesn't Exit?`);Vn(),this.driveStorageManager.getDriveStorage(e).coldBootStorageDisk().then(()=>{Vn(!1),this.removeAllDriveSelectionMark(),document.querySelector(`[data-drivename="${e}"]`).querySelector(L.DRIVE.DRIVE_SELECTED).classList.remove("display-none")})}removeAllDriveSelectionMark(){let e=L.DRIVE.DRIVE_SELECTED;document.querySelectorAll(e).forEach(t=>{t.classList.add("display-none")})}successMessage(e){return ee(e)}errorMessage(e){return Y(e)}getEventDispatcher(){return new fn}},f(It,"LoadDriveEvent"),It);u(yi,"LoadDriveEvent");window.hasOwnProperty("TonicsScript")||(window.TonicsMedia={});window.TonicsMedia.LoadDriveEvent=(w,e="")=>new yi(w,e);var Ot,mo=(Ot=class{constructor(e){if(e==="LocalDiskDrive")return(t,o="",l)=>new po(this.replaceSpaceWithDashAndFilter(t),o,l);if(e==="DropboxDiskDrive")return(t,o)=>new fo(this.replaceSpaceWithDashAndFilter(t),o);if(e==="StorageDriversManager")return new hi;if(e==="LoadDriveEvent")return(t,o="")=>new yi(t,o)}replaceSpaceWithDashAndFilter(e){return e.replace(/\s/g,"-").match(/^[a-zA-Z0-9-]+$/g)?e.replace(/\s/g,"-").match(/^[a-zA-Z0-9-]+$/g)[0]:""}},f(Ot,"TonicsFileManagerExcrete"),Ot);u(mo,"TonicsFileManagerExcrete");window.hasOwnProperty("TonicsMedia")||(window.TonicsMedia={});window.TonicsMedia.TonicsFileManagerExcrete=w=>new mo(w);function bi(w,e,t,o=null){let l,d,p,m;l=t.left-e.getBoundingClientRect().left,d=t.top-e.getBoundingClientRect().top,p=e.getBoundingClientRect().left-t.left,m=e.getBoundingClientRect().top-t.top,w.classList.add("draggable-transition"),e.classList.add("draggable-transition"),e.style.transform="translate("+l+"px,"+d+"px)",w.style.transform="translate("+p+"px,"+m+"px)";function y(){w.classList.remove("draggable-transition"),e.classList.remove("draggable-transition"),w.removeAttribute("style"),e.removeAttribute("style");let v=document.createElement("div");w.parentNode.insertBefore(v,w),e.parentNode.insertBefore(w,e),v.parentNode.insertBefore(e,v),v.parentNode.removeChild(v)}f(y,"swap"),e.addEventListener("transitionend",()=>{y(),o&&o()},{once:!0})}f(bi,"swapNodes");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.swapNodes=(w,e,t,o=null)=>bi(w,e,t,o);(function(){"use strict";var w=f(function(){this.init()},"e");w.prototype={init:f(function(){var n=this||e;return n._counter=1e3,n._html5AudioPool=[],n.html5PoolSize=10,n._codecs={},n._howls=[],n._muted=!1,n._volume=1,n._canPlayEvent="canplaythrough",n._navigator=typeof window!="undefined"&&window.navigator?window.navigator:null,n.masterGain=null,n.noAudio=!1,n.usingWebAudio=!0,n.autoSuspend=!0,n.ctx=null,n.autoUnlock=!0,n._setup(),n},"init"),volume:f(function(n){var r=this||e;if(n=parseFloat(n),r.ctx||v(),n!==void 0&&n>=0&&n<=1){if(r._volume=n,r._muted)return r;r.usingWebAudio&&r.masterGain.gain.setValueAtTime(n,e.ctx.currentTime);for(var c=0;c<r._howls.length;c++)if(!r._howls[c]._webAudio)for(var h=r._howls[c]._getSoundIds(),b=0;b<h.length;b++){var k=r._howls[c]._soundById(h[b]);k&&k._node&&(k._node.volume=k._volume*n)}return r}return r._volume},"volume"),mute:f(function(n){var r=this||e;r.ctx||v(),r._muted=n,r.usingWebAudio&&r.masterGain.gain.setValueAtTime(n?0:r._volume,e.ctx.currentTime);for(var c=0;c<r._howls.length;c++)if(!r._howls[c]._webAudio)for(var h=r._howls[c]._getSoundIds(),b=0;b<h.length;b++){var k=r._howls[c]._soundById(h[b]);k&&k._node&&(k._node.muted=!!n||k._muted)}return r},"mute"),stop:f(function(){for(var n=this||e,r=0;r<n._howls.length;r++)n._howls[r].stop();return n},"stop"),unload:f(function(){for(var n=this||e,r=n._howls.length-1;r>=0;r--)n._howls[r].unload();return n.usingWebAudio&&n.ctx&&n.ctx.close!==void 0&&(n.ctx.close(),n.ctx=null,v()),n},"unload"),codecs:f(function(n){return(this||e)._codecs[n.replace(/^x-/,"")]},"codecs"),_setup:f(function(){var n=this||e;if(n.state=n.ctx&&n.ctx.state||"suspended",n._autoSuspend(),!n.usingWebAudio)if(typeof Audio!="undefined")try{var r=new Audio;r.oncanplaythrough===void 0&&(n._canPlayEvent="canplay")}catch(c){n.noAudio=!0}else n.noAudio=!0;try{var r=new Audio;r.muted&&(n.noAudio=!0)}catch(c){}return n.noAudio||n._setupCodecs(),n},"_setup"),_setupCodecs:f(function(){var n=this||e,r=null;try{r=typeof Audio!="undefined"?new Audio:null}catch(R){return n}if(!r||typeof r.canPlayType!="function")return n;var c=r.canPlayType("audio/mpeg;").replace(/^no$/,""),h=n._navigator?n._navigator.userAgent:"",b=h.match(/OPR\/([0-6].)/g),k=b&&parseInt(b[0].split("/")[1],10)<33,_=h.indexOf("Safari")!==-1&&h.indexOf("Chrome")===-1,x=h.match(/Version\/(.*?) /),A=_&&x&&parseInt(x[1],10)<15;return n._codecs={mp3:!(k||!c&&!r.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!c,opus:!!r.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!r.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!r.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(r.canPlayType('audio/wav; codecs="1"')||r.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!r.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!r.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(r.canPlayType("audio/x-m4a;")||r.canPlayType("audio/m4a;")||r.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(r.canPlayType("audio/x-m4b;")||r.canPlayType("audio/m4b;")||r.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(r.canPlayType("audio/x-mp4;")||r.canPlayType("audio/mp4;")||r.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(A||!r.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(A||!r.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!r.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(r.canPlayType("audio/x-flac;")||r.canPlayType("audio/flac;")).replace(/^no$/,"")},n},"_setupCodecs"),_unlockAudio:f(function(){var n=this||e;if(!n._audioUnlocked&&n.ctx){n._audioUnlocked=!1,n.autoUnlock=!1,n._mobileUnloaded||n.ctx.sampleRate===44100||(n._mobileUnloaded=!0,n.unload()),n._scratchBuffer=n.ctx.createBuffer(1,1,22050);var r=f(function(c){for(;n._html5AudioPool.length<n.html5PoolSize;)try{var h=new Audio;h._unlocked=!0,n._releaseHtml5Audio(h)}catch(R){n.noAudio=!0;break}for(var b=0;b<n._howls.length;b++)if(!n._howls[b]._webAudio)for(var k=n._howls[b]._getSoundIds(),_=0;_<k.length;_++){var x=n._howls[b]._soundById(k[_]);x&&x._node&&!x._node._unlocked&&(x._node._unlocked=!0,x._node.load())}n._autoResume();var A=n.ctx.createBufferSource();A.buffer=n._scratchBuffer,A.connect(n.ctx.destination),A.start===void 0?A.noteOn(0):A.start(0),typeof n.ctx.resume=="function"&&n.ctx.resume(),A.onended=function(){A.disconnect(0),n._audioUnlocked=!0,document.removeEventListener("touchstart",r,!0),document.removeEventListener("touchend",r,!0),document.removeEventListener("click",r,!0),document.removeEventListener("keydown",r,!0);for(var R=0;R<n._howls.length;R++)n._howls[R]._emit("unlock")}},"o");return document.addEventListener("touchstart",r,!0),document.addEventListener("touchend",r,!0),document.addEventListener("click",r,!0),document.addEventListener("keydown",r,!0),n}},"_unlockAudio"),_obtainHtml5Audio:f(function(){var n=this||e;if(n._html5AudioPool.length)return n._html5AudioPool.pop();var r=new Audio().play();return r&&typeof Promise!="undefined"&&(r instanceof Promise||typeof r.then=="function")&&r.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},"_obtainHtml5Audio"),_releaseHtml5Audio:f(function(n){var r=this||e;return n._unlocked&&r._html5AudioPool.push(n),r},"_releaseHtml5Audio"),_autoSuspend:f(function(){var n=this;if(n.autoSuspend&&n.ctx&&n.ctx.suspend!==void 0&&e.usingWebAudio){for(var r=0;r<n._howls.length;r++)if(n._howls[r]._webAudio){for(var c=0;c<n._howls[r]._sounds.length;c++)if(!n._howls[r]._sounds[c]._paused)return n}return n._suspendTimer&&clearTimeout(n._suspendTimer),n._suspendTimer=setTimeout(function(){if(n.autoSuspend){n._suspendTimer=null,n.state="suspending";var h=f(function(){n.state="suspended",n._resumeAfterSuspend&&(delete n._resumeAfterSuspend,n._autoResume())},"n");n.ctx.suspend().then(h,h)}},3e4),n}},"_autoSuspend"),_autoResume:f(function(){var n=this;if(n.ctx&&n.ctx.resume!==void 0&&e.usingWebAudio)return n.state==="running"&&n.ctx.state!=="interrupted"&&n._suspendTimer?(clearTimeout(n._suspendTimer),n._suspendTimer=null):n.state==="suspended"||n.state==="running"&&n.ctx.state==="interrupted"?(n.ctx.resume().then(function(){n.state="running";for(var r=0;r<n._howls.length;r++)n._howls[r]._emit("resume")}),n._suspendTimer&&(clearTimeout(n._suspendTimer),n._suspendTimer=null)):n.state==="suspending"&&(n._resumeAfterSuspend=!0),n},"_autoResume")};var e=new w,t=f(function(n){var r=this;if(!n.src||n.src.length===0)return void console.error("An array of source files must be passed with any new Howl.");r.init(n)},"o");t.prototype={init:f(function(n){var r=this;return e.ctx||v(),r._autoplay=n.autoplay||!1,r._format=typeof n.format!="string"?n.format:[n.format],r._html5=n.html5||!1,r._muted=n.mute||!1,r._loop=n.loop||!1,r._pool=n.pool||5,r._preload=typeof n.preload!="boolean"&&n.preload!=="metadata"||n.preload,r._rate=n.rate||1,r._sprite=n.sprite||{},r._src=typeof n.src!="string"?n.src:[n.src],r._volume=n.volume!==void 0?n.volume:1,r._xhr={method:n.xhr&&n.xhr.method?n.xhr.method:"GET",headers:n.xhr&&n.xhr.headers?n.xhr.headers:null,withCredentials:!(!n.xhr||!n.xhr.withCredentials)&&n.xhr.withCredentials},r._duration=0,r._state="unloaded",r._sounds=[],r._endTimers={},r._queue=[],r._playLock=!1,r._onend=n.onend?[{fn:n.onend}]:[],r._onfade=n.onfade?[{fn:n.onfade}]:[],r._onload=n.onload?[{fn:n.onload}]:[],r._onloaderror=n.onloaderror?[{fn:n.onloaderror}]:[],r._onplayerror=n.onplayerror?[{fn:n.onplayerror}]:[],r._onpause=n.onpause?[{fn:n.onpause}]:[],r._onplay=n.onplay?[{fn:n.onplay}]:[],r._onstop=n.onstop?[{fn:n.onstop}]:[],r._onmute=n.onmute?[{fn:n.onmute}]:[],r._onvolume=n.onvolume?[{fn:n.onvolume}]:[],r._onrate=n.onrate?[{fn:n.onrate}]:[],r._onseek=n.onseek?[{fn:n.onseek}]:[],r._onunlock=n.onunlock?[{fn:n.onunlock}]:[],r._onresume=[],r._webAudio=e.usingWebAudio&&!r._html5,e.ctx!==void 0&&e.ctx&&e.autoUnlock&&e._unlockAudio(),e._howls.push(r),r._autoplay&&r._queue.push({event:"play",action:f(function(){r.play()},"action")}),r._preload&&r._preload!=="none"&&r.load(),r},"init"),load:f(function(){var n=this,r=null;if(e.noAudio)return void n._emit("loaderror",null,"No audio support.");typeof n._src=="string"&&(n._src=[n._src]);for(var c=0;c<n._src.length;c++){var h,b;if(n._format&&n._format[c])h=n._format[c];else{if(typeof(b=n._src[c])!="string"){n._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}h=/^data:audio\/([^;,]+);/i.exec(b),h||(h=/\.([^.]+)$/.exec(b.split("?",1)[0])),h&&(h=h[1].toLowerCase())}if(h||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),h&&e.codecs(h)){r=n._src[c];break}}return r?(n._src=r,n._state="loading",window.location.protocol==="https:"&&r.slice(0,5)==="http:"&&(n._html5=!0,n._webAudio=!1),new o(n),n._webAudio&&d(n),n):void n._emit("loaderror",null,"No codec support for selected audio sources.")},"load"),play:f(function(n,r){var c=this,h=null;if(typeof n=="number")h=n,n=null;else{if(typeof n=="string"&&c._state==="loaded"&&!c._sprite[n])return null;if(n===void 0&&(n="__default",!c._playLock)){for(var b=0,k=0;k<c._sounds.length;k++)c._sounds[k]._paused&&!c._sounds[k]._ended&&(b++,h=c._sounds[k]._id);b===1?n=null:h=null}}var _=h?c._soundById(h):c._inactiveSound();if(!_)return null;if(h&&!n&&(n=_._sprite||"__default"),c._state!=="loaded"){_._sprite=n,_._ended=!1;var x=_._id;return c._queue.push({event:"play",action:f(function(){c.play(x)},"action")}),x}if(h&&!_._paused)return r||c._loadQueue("play"),_._id;c._webAudio&&e._autoResume();var A=Math.max(0,_._seek>0?_._seek:c._sprite[n][0]/1e3),R=Math.max(0,(c._sprite[n][0]+c._sprite[n][1])/1e3-A),H=1e3*R/Math.abs(_._rate),E=c._sprite[n][0]/1e3,ae=(c._sprite[n][0]+c._sprite[n][1])/1e3;_._sprite=n,_._ended=!1;var N=f(function(){_._paused=!1,_._seek=A,_._start=E,_._stop=ae,_._loop=!(!_._loop&&!c._sprite[n][2])},"p");if(A>=ae)return void c._ended(_);var B=_._node;if(c._webAudio){var Q=f(function(){c._playLock=!1,N(),c._refreshBuffer(_);var ne=_._muted||c._muted?0:_._volume;B.gain.setValueAtTime(ne,e.ctx.currentTime),_._playStart=e.ctx.currentTime,B.bufferSource.start===void 0?_._loop?B.bufferSource.noteGrainOn(0,A,86400):B.bufferSource.noteGrainOn(0,A,R):_._loop?B.bufferSource.start(0,A,86400):B.bufferSource.start(0,A,R),H!==1/0&&(c._endTimers[_._id]=setTimeout(c._ended.bind(c,_),H)),r||setTimeout(function(){c._emit("play",_._id),c._loadQueue()},0)},"v");e.state==="running"&&e.ctx.state!=="interrupted"?Q():(c._playLock=!0,c.once("resume",Q),c._clearTimer(_._id))}else{var q=f(function(){B.currentTime=A,B.muted=_._muted||c._muted||e._muted||B.muted,B.volume=_._volume*e.volume(),B.playbackRate=_._rate;try{var ne=B.play();if(ne&&typeof Promise!="undefined"&&(ne instanceof Promise||typeof ne.then=="function")?(c._playLock=!0,N(),ne.then(function(){c._playLock=!1,B._unlocked=!0,r?c._loadQueue():c._emit("play",_._id)}).catch(function(){c._playLock=!1,c._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),_._ended=!0,_._paused=!0})):r||(c._playLock=!1,N(),c._emit("play",_._id)),B.playbackRate=_._rate,B.paused)return void c._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");n!=="__default"||_._loop?c._endTimers[_._id]=setTimeout(c._ended.bind(c,_),H):(c._endTimers[_._id]=function(){c._ended(_),B.removeEventListener("ended",c._endTimers[_._id],!1)},B.addEventListener("ended",c._endTimers[_._id],!1))}catch(Gt){c._emit("playerror",_._id,Gt)}},"h");B.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(B.src=c._src,B.load());var ge=window&&window.ejecta||!B.readyState&&e._navigator.isCocoonJS;if(B.readyState>=3||ge)q();else{c._playLock=!0,c._state="loading";var qt=f(function(){c._state="loaded",q(),B.removeEventListener(e._canPlayEvent,qt,!1)},"g");B.addEventListener(e._canPlayEvent,qt,!1),c._clearTimer(_._id)}}return _._id},"play"),pause:f(function(n){var r=this;if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"pause",action:f(function(){r.pause(n)},"action")}),r;for(var c=r._getSoundIds(n),h=0;h<c.length;h++){r._clearTimer(c[h]);var b=r._soundById(c[h]);if(b&&!b._paused&&(b._seek=r.seek(c[h]),b._rateSeek=0,b._paused=!0,r._stopFade(c[h]),b._node))if(r._webAudio){if(!b._node.bufferSource)continue;b._node.bufferSource.stop===void 0?b._node.bufferSource.noteOff(0):b._node.bufferSource.stop(0),r._cleanBuffer(b._node)}else isNaN(b._node.duration)&&b._node.duration!==1/0||b._node.pause();arguments[1]||r._emit("pause",b?b._id:null)}return r},"pause"),stop:f(function(n,r){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"stop",action:f(function(){c.stop(n)},"action")}),c;for(var h=c._getSoundIds(n),b=0;b<h.length;b++){c._clearTimer(h[b]);var k=c._soundById(h[b]);k&&(k._seek=k._start||0,k._rateSeek=0,k._paused=!0,k._ended=!0,c._stopFade(h[b]),k._node&&(c._webAudio?k._node.bufferSource&&(k._node.bufferSource.stop===void 0?k._node.bufferSource.noteOff(0):k._node.bufferSource.stop(0),c._cleanBuffer(k._node)):isNaN(k._node.duration)&&k._node.duration!==1/0||(k._node.currentTime=k._start||0,k._node.pause(),k._node.duration===1/0&&c._clearSound(k._node))),r||c._emit("stop",k._id))}return c},"stop"),mute:f(function(n,r){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"mute",action:f(function(){c.mute(n,r)},"action")}),c;if(r===void 0){if(typeof n!="boolean")return c._muted;c._muted=n}for(var h=c._getSoundIds(r),b=0;b<h.length;b++){var k=c._soundById(h[b]);k&&(k._muted=n,k._interval&&c._stopFade(k._id),c._webAudio&&k._node?k._node.gain.setValueAtTime(n?0:k._volume,e.ctx.currentTime):k._node&&(k._node.muted=!!e._muted||n),c._emit("mute",k._id))}return c},"mute"),volume:f(function(){var n,r,c=this,h=arguments;if(h.length===0)return c._volume;h.length===1||h.length===2&&h[1]===void 0?c._getSoundIds().indexOf(h[0])>=0?r=parseInt(h[0],10):n=parseFloat(h[0]):h.length>=2&&(n=parseFloat(h[0]),r=parseInt(h[1],10));var b;if(!(n!==void 0&&n>=0&&n<=1))return b=r?c._soundById(r):c._sounds[0],b?b._volume:0;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"volume",action:f(function(){c.volume.apply(c,h)},"action")}),c;r===void 0&&(c._volume=n),r=c._getSoundIds(r);for(var k=0;k<r.length;k++)(b=c._soundById(r[k]))&&(b._volume=n,h[2]||c._stopFade(r[k]),c._webAudio&&b._node&&!b._muted?b._node.gain.setValueAtTime(n,e.ctx.currentTime):b._node&&!b._muted&&(b._node.volume=n*e.volume()),c._emit("volume",b._id));return c},"volume"),fade:f(function(n,r,c,h){var b=this;if(b._state!=="loaded"||b._playLock)return b._queue.push({event:"fade",action:f(function(){b.fade(n,r,c,h)},"action")}),b;n=Math.min(Math.max(0,parseFloat(n)),1),r=Math.min(Math.max(0,parseFloat(r)),1),c=parseFloat(c),b.volume(n,h);for(var k=b._getSoundIds(h),_=0;_<k.length;_++){var x=b._soundById(k[_]);if(x){if(h||b._stopFade(k[_]),b._webAudio&&!x._muted){var A=e.ctx.currentTime,R=A+c/1e3;x._volume=n,x._node.gain.setValueAtTime(n,A),x._node.gain.linearRampToValueAtTime(r,R)}b._startFadeInterval(x,n,r,c,k[_],h===void 0)}}return b},"fade"),_startFadeInterval:f(function(n,r,c,h,b,k){var _=this,x=r,A=c-r,R=Math.abs(A/.01),H=Math.max(4,R>0?h/R:h),E=Date.now();n._fadeTo=c,n._interval=setInterval(function(){var ae=(Date.now()-E)/h;E=Date.now(),x+=A*ae,x=Math.round(100*x)/100,x=A<0?Math.max(c,x):Math.min(c,x),_._webAudio?n._volume=x:_.volume(x,n._id,!0),k&&(_._volume=x),(c<r&&x<=c||c>r&&x>=c)&&(clearInterval(n._interval),n._interval=null,n._fadeTo=null,_.volume(c,n._id),_._emit("fade",n._id))},H)},"_startFadeInterval"),_stopFade:f(function(n){var r=this,c=r._soundById(n);return c&&c._interval&&(r._webAudio&&c._node.gain.cancelScheduledValues(e.ctx.currentTime),clearInterval(c._interval),c._interval=null,r.volume(c._fadeTo,n),c._fadeTo=null,r._emit("fade",n)),r},"_stopFade"),loop:f(function(){var n,r,c,h=this,b=arguments;if(b.length===0)return h._loop;if(b.length===1){if(typeof b[0]!="boolean")return!!(c=h._soundById(parseInt(b[0],10)))&&c._loop;n=b[0],h._loop=n}else b.length===2&&(n=b[0],r=parseInt(b[1],10));for(var k=h._getSoundIds(r),_=0;_<k.length;_++)(c=h._soundById(k[_]))&&(c._loop=n,h._webAudio&&c._node&&c._node.bufferSource&&(c._node.bufferSource.loop=n,n&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop,h.playing(k[_])&&(h.pause(k[_],!0),h.play(k[_],!0)))));return h},"loop"),rate:f(function(){var n,r,c=this,h=arguments;if(h.length===0)r=c._sounds[0]._id;else if(h.length===1){var b=c._getSoundIds(),k=b.indexOf(h[0]);k>=0?r=parseInt(h[0],10):n=parseFloat(h[0])}else h.length===2&&(n=parseFloat(h[0]),r=parseInt(h[1],10));var _;if(typeof n!="number")return _=c._soundById(r),_?_._rate:c._rate;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"rate",action:f(function(){c.rate.apply(c,h)},"action")}),c;r===void 0&&(c._rate=n),r=c._getSoundIds(r);for(var x=0;x<r.length;x++)if(_=c._soundById(r[x])){c.playing(r[x])&&(_._rateSeek=c.seek(r[x]),_._playStart=c._webAudio?e.ctx.currentTime:_._playStart),_._rate=n,c._webAudio&&_._node&&_._node.bufferSource?_._node.bufferSource.playbackRate.setValueAtTime(n,e.ctx.currentTime):_._node&&(_._node.playbackRate=n);var A=c.seek(r[x]),R=(c._sprite[_._sprite][0]+c._sprite[_._sprite][1])/1e3-A,H=1e3*R/Math.abs(_._rate);!c._endTimers[r[x]]&&_._paused||(c._clearTimer(r[x]),c._endTimers[r[x]]=setTimeout(c._ended.bind(c,_),H)),c._emit("rate",_._id)}return c},"rate"),seek:f(function(){var n,r,c=this,h=arguments;if(h.length===0)c._sounds.length&&(r=c._sounds[0]._id);else if(h.length===1){var b=c._getSoundIds(),k=b.indexOf(h[0]);k>=0?r=parseInt(h[0],10):c._sounds.length&&(r=c._sounds[0]._id,n=parseFloat(h[0]))}else h.length===2&&(n=parseFloat(h[0]),r=parseInt(h[1],10));if(r===void 0)return 0;if(typeof n=="number"&&(c._state!=="loaded"||c._playLock))return c._queue.push({event:"seek",action:f(function(){c.seek.apply(c,h)},"action")}),c;var _=c._soundById(r);if(_){if(!(typeof n=="number"&&n>=0)){if(c._webAudio){var x=c.playing(r)?e.ctx.currentTime-_._playStart:0,A=_._rateSeek?_._rateSeek-_._seek:0;return _._seek+(A+x*Math.abs(_._rate))}return _._node.currentTime}var R=c.playing(r);R&&c.pause(r,!0),_._seek=n,_._ended=!1,c._clearTimer(r),c._webAudio||!_._node||isNaN(_._node.duration)||(_._node.currentTime=n);var H=f(function(){R&&c.play(r,!0),c._emit("seek",r)},"l");if(R&&!c._webAudio){var E=f(function(){c._playLock?setTimeout(E,0):H()},"c");setTimeout(E,0)}else H()}return c},"seek"),playing:f(function(n){var r=this;if(typeof n=="number"){var c=r._soundById(n);return!!c&&!c._paused}for(var h=0;h<r._sounds.length;h++)if(!r._sounds[h]._paused)return!0;return!1},"playing"),duration:f(function(n){var r=this,c=r._duration,h=r._soundById(n);return h&&(c=r._sprite[h._sprite][1]/1e3),c},"duration"),state:f(function(){return this._state},"state"),unload:f(function(){for(var n=this,r=n._sounds,c=0;c<r.length;c++)r[c]._paused||n.stop(r[c]._id),n._webAudio||(n._clearSound(r[c]._node),r[c]._node.removeEventListener("error",r[c]._errorFn,!1),r[c]._node.removeEventListener(e._canPlayEvent,r[c]._loadFn,!1),r[c]._node.removeEventListener("ended",r[c]._endFn,!1),e._releaseHtml5Audio(r[c]._node)),delete r[c]._node,n._clearTimer(r[c]._id);var h=e._howls.indexOf(n);h>=0&&e._howls.splice(h,1);var b=!0;for(c=0;c<e._howls.length;c++)if(e._howls[c]._src===n._src||n._src.indexOf(e._howls[c]._src)>=0){b=!1;break}return l&&b&&delete l[n._src],e.noAudio=!1,n._state="unloaded",n._sounds=[],n=null,null},"unload"),on:f(function(n,r,c,h){var b=this,k=b["_on"+n];return typeof r=="function"&&k.push(h?{id:c,fn:r,once:h}:{id:c,fn:r}),b},"on"),off:f(function(n,r,c){var h=this,b=h["_on"+n],k=0;if(typeof r=="number"&&(c=r,r=null),r||c)for(k=0;k<b.length;k++){var _=c===b[k].id;if(r===b[k].fn&&_||!r&&_){b.splice(k,1);break}}else if(n)h["_on"+n]=[];else{var x=Object.keys(h);for(k=0;k<x.length;k++)x[k].indexOf("_on")===0&&Array.isArray(h[x[k]])&&(h[x[k]]=[])}return h},"off"),once:f(function(n,r,c){var h=this;return h.on(n,r,c,1),h},"once"),_emit:f(function(n,r,c){for(var h=this,b=h["_on"+n],k=b.length-1;k>=0;k--)b[k].id&&b[k].id!==r&&n!=="load"||(setTimeout(function(_){_.call(this,r,c)}.bind(h,b[k].fn),0),b[k].once&&h.off(n,b[k].fn,b[k].id));return h._loadQueue(n),h},"_emit"),_loadQueue:f(function(n){var r=this;if(r._queue.length>0){var c=r._queue[0];c.event===n&&(r._queue.shift(),r._loadQueue()),n||c.action()}return r},"_loadQueue"),_ended:f(function(n){var r=this,c=n._sprite;if(!r._webAudio&&n._node&&!n._node.paused&&!n._node.ended&&n._node.currentTime<n._stop)return setTimeout(r._ended.bind(r,n),100),r;var h=!(!n._loop&&!r._sprite[c][2]);if(r._emit("end",n._id),!r._webAudio&&h&&r.stop(n._id,!0).play(n._id),r._webAudio&&h){r._emit("play",n._id),n._seek=n._start||0,n._rateSeek=0,n._playStart=e.ctx.currentTime;var b=1e3*(n._stop-n._start)/Math.abs(n._rate);r._endTimers[n._id]=setTimeout(r._ended.bind(r,n),b)}return r._webAudio&&!h&&(n._paused=!0,n._ended=!0,n._seek=n._start||0,n._rateSeek=0,r._clearTimer(n._id),r._cleanBuffer(n._node),e._autoSuspend()),r._webAudio||h||r.stop(n._id,!0),r},"_ended"),_clearTimer:f(function(n){var r=this;if(r._endTimers[n]){if(typeof r._endTimers[n]!="function")clearTimeout(r._endTimers[n]);else{var c=r._soundById(n);c&&c._node&&c._node.removeEventListener("ended",r._endTimers[n],!1)}delete r._endTimers[n]}return r},"_clearTimer"),_soundById:f(function(n){for(var r=this,c=0;c<r._sounds.length;c++)if(n===r._sounds[c]._id)return r._sounds[c];return null},"_soundById"),_inactiveSound:f(function(){var n=this;n._drain();for(var r=0;r<n._sounds.length;r++)if(n._sounds[r]._ended)return n._sounds[r].resetTrackGroups();return new o(n)},"_inactiveSound"),_drain:f(function(){var n=this,r=n._pool,c=0,h=0;if(!(n._sounds.length<r)){for(h=0;h<n._sounds.length;h++)n._sounds[h]._ended&&c++;for(h=n._sounds.length-1;h>=0;h--){if(c<=r)return;n._sounds[h]._ended&&(n._webAudio&&n._sounds[h]._node&&n._sounds[h]._node.disconnect(0),n._sounds.splice(h,1),c--)}}},"_drain"),_getSoundIds:f(function(n){var r=this;if(n===void 0){for(var c=[],h=0;h<r._sounds.length;h++)c.push(r._sounds[h]._id);return c}return[n]},"_getSoundIds"),_refreshBuffer:f(function(n){var r=this;return n._node.bufferSource=e.ctx.createBufferSource(),n._node.bufferSource.buffer=l[r._src],n._panner?n._node.bufferSource.connect(n._panner):n._node.bufferSource.connect(n._node),n._node.bufferSource.loop=n._loop,n._loop&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop||0),n._node.bufferSource.playbackRate.setValueAtTime(n._rate,e.ctx.currentTime),r},"_refreshBuffer"),_cleanBuffer:f(function(n){var r=this,c=e._navigator&&e._navigator.vendor.indexOf("Apple")>=0;if(e._scratchBuffer&&n.bufferSource&&(n.bufferSource.onended=null,n.bufferSource.disconnect(0),c))try{n.bufferSource.buffer=e._scratchBuffer}catch(h){}return n.bufferSource=null,r},"_cleanBuffer"),_clearSound:f(function(n){/MSIE |Trident\//.test(e._navigator&&e._navigator.userAgent)||(n.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")},"_clearSound")};var o=f(function(n){this._parent=n,this.init()},"t");o.prototype={init:f(function(){var n=this,r=n._parent;return n._muted=r._muted,n._loop=r._loop,n._volume=r._volume,n._rate=r._rate,n._seek=0,n._paused=!0,n._ended=!0,n._sprite="__default",n._id=++e._counter,r._sounds.push(n),n.create(),n},"init"),create:f(function(){var n=this,r=n._parent,c=e._muted||n._muted||n._parent._muted?0:n._volume;return r._webAudio?(n._node=e.ctx.createGain===void 0?e.ctx.createGainNode():e.ctx.createGain(),n._node.gain.setValueAtTime(c,e.ctx.currentTime),n._node.paused=!0,n._node.connect(e.masterGain)):e.noAudio||(n._node=e._obtainHtml5Audio(),n._errorFn=n._errorListener.bind(n),n._node.addEventListener("error",n._errorFn,!1),n._loadFn=n._loadListener.bind(n),n._node.addEventListener(e._canPlayEvent,n._loadFn,!1),n._endFn=n._endListener.bind(n),n._node.addEventListener("ended",n._endFn,!1),n._node.src=r._src,n._node.preload=r._preload===!0?"auto":r._preload,n._node.volume=c*e.volume(),n._node.load()),n},"create"),reset:f(function(){var n=this,r=n._parent;return n._muted=r._muted,n._loop=r._loop,n._volume=r._volume,n._rate=r._rate,n._seek=0,n._rateSeek=0,n._paused=!0,n._ended=!0,n._sprite="__default",n._id=++e._counter,n},"reset"),_errorListener:f(function(){var n=this;n._parent._emit("loaderror",n._id,n._node.error?n._node.error.code:0),n._node.removeEventListener("error",n._errorFn,!1)},"_errorListener"),_loadListener:f(function(){var n=this,r=n._parent;r._duration=Math.ceil(10*n._node.duration)/10,Object.keys(r._sprite).length===0&&(r._sprite={__default:[0,1e3*r._duration]}),r._state!=="loaded"&&(r._state="loaded",r._emit("load"),r._loadQueue()),n._node.removeEventListener(e._canPlayEvent,n._loadFn,!1)},"_loadListener"),_endListener:f(function(){var n=this,r=n._parent;r._duration===1/0&&(r._duration=Math.ceil(10*n._node.duration)/10,r._sprite.__default[1]===1/0&&(r._sprite.__default[1]=1e3*r._duration),r._ended(n)),n._node.removeEventListener("ended",n._endFn,!1)},"_endListener")};var l={},d=f(function(n){var r=n._src;if(l[r])return n._duration=l[r].duration,void y(n);if(/^data:[^;]+;base64,/.test(r)){for(var c=atob(r.split(",")[1]),h=new Uint8Array(c.length),b=0;b<c.length;++b)h[b]=c.charCodeAt(b);m(h.buffer,n)}else{var k=new XMLHttpRequest;k.open(n._xhr.method,r,!0),k.withCredentials=n._xhr.withCredentials,k.responseType="arraybuffer",n._xhr.headers&&Object.keys(n._xhr.headers).forEach(function(_){k.setRequestHeader(_,n._xhr.headers[_])}),k.onload=function(){var _=(k.status+"")[0];if(_!=="0"&&_!=="2"&&_!=="3")return void n._emit("loaderror",null,"Failed loading audio file with status: "+k.status+".");m(k.response,n)},k.onerror=function(){n._webAudio&&(n._html5=!0,n._webAudio=!1,n._sounds=[],delete l[r],n.load())},p(k)}},"a"),p=f(function(n){try{n.send()}catch(r){n.onerror()}},"u"),m=f(function(n,r){var c=f(function(){r._emit("loaderror",null,"Decoding audio data failed.")},"t"),h=f(function(b){b&&r._sounds.length>0?(l[r._src]=b,y(r,b)):c()},"a");typeof Promise!="undefined"&&e.ctx.decodeAudioData.length===1?e.ctx.decodeAudioData(n).then(h).catch(c):e.ctx.decodeAudioData(n,h,c)},"d"),y=f(function(n,r){r&&!n._duration&&(n._duration=r.duration),Object.keys(n._sprite).length===0&&(n._sprite={__default:[0,1e3*n._duration]}),n._state!=="loaded"&&(n._state="loaded",n._emit("load"),n._loadQueue())},"i"),v=f(function(){if(e.usingWebAudio){try{typeof AudioContext!="undefined"?e.ctx=new AudioContext:typeof webkitAudioContext!="undefined"?e.ctx=new webkitAudioContext:e.usingWebAudio=!1}catch(b){e.usingWebAudio=!1}e.ctx||(e.usingWebAudio=!1);var n=/iP(hone|od|ad)/.test(e._navigator&&e._navigator.platform),r=e._navigator&&e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),c=r?parseInt(r[1],10):null;if(n&&c&&c<9){var h=/safari/.test(e._navigator&&e._navigator.userAgent.toLowerCase());e._navigator&&!h&&(e.usingWebAudio=!1)}e.usingWebAudio&&(e.masterGain=e.ctx.createGain===void 0?e.ctx.createGainNode():e.ctx.createGain(),e.masterGain.gain.setValueAtTime(e._muted?0:e._volume,e.ctx.currentTime),e.masterGain.connect(e.ctx.destination)),e._setup()}},"_");typeof define=="function"&&define.amd&&define([],function(){return{Howler:e,Howl:t}}),typeof exports!="undefined"&&(exports.Howler=e,exports.Howl=t),typeof global!="undefined"?(global.HowlerGlobal=w,global.Howler=e,global.Howl=t,global.Sound=o):typeof window!="undefined"&&(window.HowlerGlobal=w,window.Howler=e,window.Howl=t,window.Sound=o)})();var _i=class _i{constructor(e=!0){W(this,"audioPlayerSettings",new Map);W(this,"playlist",null);W(this,"currentGroupID","");W(this,"globalCurrentTrackTime",null);W(this,"globalTotalTrackTime",null);W(this,"previousTotalTrackDuration",null);W(this,"playlistIndex",null);W(this,"currentHowl",null);W(this,"tonicsAudioPlayerGroups",null);W(this,"groupKeyToMapKey",new Map);W(this,"repeatSong",!1);W(this,"repeatMarkerSong",null);W(this,"originalTracksInQueueBeforeShuffle",null);e?document.body.dataset.audio_player_onetime="true":document.body.dataset.audio_player_onetime="false",this.playlistIndex=0,this.currentHowl=null,this.tonicsAudioPlayerGroups=document.querySelectorAll("[data-tonics-audioplayer-group]"),this.resetAudioPlayerSettings(),this.progressContainer=document.querySelector(".progress-container"),this.songSlider=null,this.progressContainer&&(this.songSlider=this.progressContainer.querySelector(".song-slider")),this.userIsSeekingSongSlider=!1,document.querySelector(".audio-player-queue")&&(this.originalTracksInQueueBeforeShuffle=document.querySelector(".audio-player-queue").innerHTML),navigator.mediaSession.setActionHandler("play",()=>{this.play()}),navigator.mediaSession.setActionHandler("pause",()=>{this.pause()}),navigator.mediaSession.setActionHandler("previoustrack",()=>{this.prev()}),navigator.mediaSession.setActionHandler("nexttrack",()=>{this.next()}),this.mutationObserver()}mutationHandlerFunc(e){let t=this;e&&!e.dataset.hasOwnProperty("trackloaded")&&(e.dataset.trackloaded="false",t.resetAudioPlayerSettings(),t.originalTracksInQueueBeforeShuffle=document.querySelector(".audio-player-queue").innerHTML,t.resetQueue())}mutationObserver(){new MutationObserver((t,o)=>{for(let l of t){let d=!1;for(let p=0;p<l.addedNodes.length;p++){let m=l.addedNodes[p];if(m.nodeType===Node.ELEMENT_NODE){let y=m.querySelector("[data-tonics-audioplayer-track]");if(y){this.mutationHandlerFunc(y),d=!0;break}}}if(d)return;if(l.attributeName==="data-tonics-audioplayer-track"){let p=l.target;this.mutationHandlerFunc(p)}}}).observe(document,{attributes:!0,childList:!0,subtree:!0})}run(){let e=this,t=e.getAudioPlayerGlobalContainer();if(t){let d=function(){o&&(e.currentHowl.seek(e.currentHowl.seek()+1),setTimeout(d,100))},p=function(){if(o){let v=e.currentHowl.seek()-1;v>=0&&e.currentHowl.seek(v),setTimeout(p,100)}},m=function(){o=!1,clearTimeout(l)};f(d,"seekForward"),f(p,"seekBackward"),f(m,"removeSeeking"),this.onPageReload();let o=!1,l;document.addEventListener("mousedown",y=>{let v=y.target,n=this;v.dataset.hasOwnProperty("audioplayer_next")&&(l=setTimeout(()=>{o=!0,d()},600)),v.dataset.hasOwnProperty("audioplayer_prev")&&(l=setTimeout(()=>{o=!0,p()},600))}),document.addEventListener("click",y=>{let v=y.target;if(v.dataset.hasOwnProperty("audioplayer_play"))if(v.dataset.audioplayer_play==="false")if(v.dataset.audioplayer_play="true",v.dataset.hasOwnProperty("audioplayer_songurl")){let r=v.dataset.audioplayer_songurl;v.dataset.hasOwnProperty("audioplayer_groupid")&&(t.dataset.audioplayer_groupid=v.dataset.audioplayer_groupid),e.loadPlaylist();let c=null;e.audioPlayerSettings.has(e.currentGroupID)&&(c=e.audioPlayerSettings.get(e.currentGroupID),c.has(r)&&(e.playlistIndex=c.get(r).songID,e.play()))}else this.loadPlaylist()&&this.play();else v.dataset.audioplayer_play="false",this.audioPaused=!0,e.pause();if(v.dataset.hasOwnProperty("audioplayer_next")&&o===!1&&v.dataset.audioplayer_next==="true"&&this.next(),v.dataset.hasOwnProperty("audioplayer_prev")&&o===!1&&v.dataset.audioplayer_prev==="true"&&this.prev(),m(),v.dataset.hasOwnProperty("audioplayer_repeat")&&(v.dataset.audioplayer_repeat==="true"?(e.repeatSong=!1,v.dataset.audioplayer_repeat="false"):(e.repeatSong=!0,v.dataset.audioplayer_repeat="true")),v.dataset.hasOwnProperty("audioplayer_marker_repeat")&&(v.dataset.audioplayer_marker_repeat==="true"?(e.repeatMarkerSong=null,v.dataset.audioplayer_marker_repeat="false"):(document.querySelectorAll("[data-audioplayer_marker_repeat]").forEach(c=>{c.dataset.audioplayer_marker_repeat="false"}),e.repeatMarkerSong={start:v.dataset.audioplayer_marker_start,start_percentage:v.dataset.audioplayer_marker_start_percentage,end:v.dataset.audioplayer_marker_end},v.dataset.audioplayer_marker_repeat="true")),v.dataset.hasOwnProperty("audioplayer_marker_play_jump")){let r=v.dataset.audioplayer_marker_play_jump;this.seek(r)}if(v.dataset.hasOwnProperty("audioplayer_shuffle"))if(v.dataset.audioplayer_shuffle==="true"){if(v.dataset.audioplayer_shuffle="false",document.querySelector(".audio-player-queue")&&this.originalTracksInQueueBeforeShuffle&&(document.querySelector(".audio-player-queue").innerHTML=this.originalTracksInQueueBeforeShuffle,this.currentHowl!==null)){let r=e.currentHowl._src;e.resetQueue(),e.setSongUrlPlayAttribute(r[0],"true","Pause")}}else{v.dataset.audioplayer_shuffle="true";let r=document.querySelectorAll(".track-in-queue");if(r)for(let c=r.length-1;c>0;c--){let h=Math.floor(Math.random()*(c+1));bi(r[h],r[c],r[h].getBoundingClientRect(),()=>{e.resetQueue()})}}let n=new ln(e.getSongData(),v);e.getEventDispatcher().dispatchEventToHandlers(window.TonicsEvent.EventConfig,n,ln)}),document.addEventListener("pointerdown",e.sliderThumbMouseDown.bind(e)),document.addEventListener("pointerup",e.sliderThumbMouseUp.bind(e)),document.addEventListener("input",e.volume.bind(e))}}onPageReload(){let e=this,t=localStorage.getItem("HowlerJSVolume");if(t){Howler.volume(parseFloat(t));let d=document.querySelector(".volume-slider");d&&(d.value=t)}let o=window.location.href,l=localStorage.getItem(o);if(l){l=JSON.parse(l),e.loadPlaylist();let d=null;e.audioPlayerSettings.has(l.currentGroupID)&&(d=e.audioPlayerSettings.get(l.currentGroupID),d.has(l.songKey)&&(e.playlistIndex=d.get(l.songKey).songID,e.play(),e.currentHowl.once("load",()=>{let p=l.currentPos/e.currentHowl.duration()*100;this.songSlider&&(this.songSlider.value=p,e.seek(p))})))}}bootPlaylistAndSongs(e=!1){let t=this,o=document.querySelectorAll("[data-tonics-audioplayer-track]");e&&(o=document.querySelector(".audio-player-queue-list").querySelectorAll("[data-tonics-audioplayer-track]")),this.tonicsAudioPlayerGroups.length>0&&this.tonicsAudioPlayerGroups.forEach(d=>{let p=d;p.dataset.hasOwnProperty("audioplayer_groupid")&&t.audioPlayerSettings.set(p.dataset.audioplayer_groupid,new Map)});let l=[];if(o.length>0){let d=0;for(let p=0;p<o.length;p++){let m=o[p],y=d,v,n;if(m.dataset.trackloaded="true",m.dataset.hasOwnProperty("audioplayer_groupid")?v=m.dataset.audioplayer_groupid:v="GLOBAL_GROUP",m.dataset.hasOwnProperty("audioplayer_songurl")&&m.dataset.audioplayer_songurl){n=t.audioPlayerSettings.get(v);let r=m.dataset.audioplayer_songurl,c={songID:y,songtitle:m.dataset.audioplayer_title,songimage:m.dataset.audioplayer_image,songurl:r,url_page:m.dataset.url_page,howl:null,format:m.dataset.hasOwnProperty("audioplayer_format")?m.dataset.audioplayer_format:null,license:m.dataset.hasOwnProperty("licenses")?JSON.parse(m.dataset.licenses):null,_dataset:m.dataset};n.set(r,c),l.push(r),t.groupKeyToMapKey.set(v,l),t.audioPlayerSettings.set(v,n),++d}}}}resetAudioPlayerSettings(){let e=this;if(this.audioPlayerSettings=new Map,this.audioPlayerSettings.set("GLOBAL_GROUP",new Map),this.groupKeyToMapKey=new Map,this.bootPlaylistAndSongs(),this.loadPlaylist(),this.loadToQueue(this.audioPlayerSettings.get(this.currentGroupID)),this.setCorrectPlaylistIndex(),this.groupKeyToMapKey.size>0){let t=document.querySelector(".audio-player");t&&t.classList.contains("d:none")&&t.classList.remove("d:none")}}resetQueue(){this.audioPlayerSettings=new Map,this.audioPlayerSettings.set("GLOBAL_GROUP",new Map),this.groupKeyToMapKey=new Map,this.bootPlaylistAndSongs(!0),this.loadPlaylist(),this.setCorrectPlaylistIndex()}loadToQueue(e){let t=document.querySelector(".audio-player-queue-list");t&&(t.innerHTML="",e.forEach(o=>{let l;this.currentHowl!==null&&this.currentHowl._src[0]===o.songurl?l="true":l="false",t.insertAdjacentHTML("beforeend",`
<li tabindex="0" class="color:black cursor:move draggable track-in-queue bg:white-one border-width:default border:black position:relative">
                    <div class="queue-song-info d:flex align-items:center flex-gap:small">
                        <a href="${o.url_page}" data-tonics_navigate data-url_page="${o.url_page}"  
                        title="${o.songtitle}" class="cursor:pointer color:black text:no-wrap width:80px text-overflow:ellipsis">${o.songtitle}</a>
                    </div>
                    
<button type="button" title="Play" data-tonics-audioplayer-track="" 
data-trackloaded
data-audioplayer_songurl="${o.songurl}" 
data-audioplayer_title="${o.songtitle}" 
data-audioplayer_image="${o.songimage}" 
data-audioplayer_format="${o.format}" 
data-url_page="${o.url_page}" 
data-audioplayer_play="${l}" class="audioplayer-track border:none act-like-button icon:audio bg:transparent cursor:pointer color:black">
    <svg class="audio-play icon:audio tonics-widget pointer-events:none">
        <use class="svgUse" xlink:href="#tonics-audio-play"></use>
    </svg>
    <svg class="audio-pause icon:audio tonics-widget pointer-events:none">
        <use class="svgUse" xlink:href="#tonics-audio-pause"></use>
    </svg>
</button>
                </li>
`)}))}setCorrectPlaylistIndex(){let e=document.querySelector('.audio-player-queue [data-audioplayer_play="true"]');if(e){let t=e.dataset.audioplayer_songurl,o="GLOBAL_GROUP";if(e.dataset.hasOwnProperty("audioplayer_groupid")&&(o=e.dataset.audioplayer_groupid),this.groupKeyToMapKey.has(o)){let d=this.groupKeyToMapKey.get(o).indexOf(t);d!==-1&&(this.playlistIndex=d)}}}setSongUrlPlayAttribute(e,t,o=null){let l=document.querySelectorAll(`[data-audioplayer_songurl="${e}"]`),d=document.querySelector(".global-play");l.length>0&&l.forEach(p=>{p.dataset.hasOwnProperty("audioplayer_play")&&p!==d&&(p.dataset.audioplayer_play=t,o&&(p.title=o))})}getAudioPlayerGlobalContainer(){return document.querySelector(".audio-player-global-container")}loadPlaylist(){let e=this,t=e.getAudioPlayerGlobalContainer();if(t&&t.dataset.hasOwnProperty("audioplayer_groupid")){let o=t.dataset.audioplayer_groupid;if(e.audioPlayerSettings===null&&this.bootPlaylistAndSongs(),e.audioPlayerSettings.has(o))return this.playlist=e.groupKeyToMapKey.get(o),this.currentGroupID=o,!0}return!1}getSongData(){if(this.playlist){let e=this.playlist[this.playlistIndex],t=this.audioPlayerSettings.get(this.currentGroupID);if(t.has(e)){let o=t.get(e);return o._self=this,o}}return!1}volume(e){let t=e.target;t.classList.contains("volume-slider")&&(Howler.volume(t.value),localStorage.setItem("HowlerJSVolume",t.value))}sliderThumbMouseDown(e){let t=e.target,o=this;t.classList.contains("song-slider")&&(o.userIsSeekingSongSlider=!0)}sliderThumbMouseUp(e){let t=e.target,o=this;t.classList.contains("song-slider")&&(o.userIsSeekingSongSlider=!1,o.seek(t.value))}pause(){let e=this,t=e.currentHowl,o=document.querySelector(".global-play");o&&o.dataset.hasOwnProperty("audioplayer_play")&&(o.dataset.audioplayer_play="false",o.title="Play"),t!==null&&(t.pause(),this.setSongUrlPlayAttribute(this.getSongData().songurl,"false","Play"))}handlePlayElementSettings(){let e=this.getSongData(),t=document.querySelector(".global-play"),o=document.querySelectorAll('[data-audioplayer_play="true"]');this.currentHowl&&this.currentHowl.pause(),o&&o.length>0&&o.forEach(l=>{l.dataset.audioplayer_play="false"}),t&&t.dataset.hasOwnProperty("audioplayer_play")&&(t.dataset.audioplayer_play="true",t.title="Pause"),this.setSongUrlPlayAttribute(e.songurl,"true","Pause")}play(){let e=this,t=e.getSongData().howl;Howler.volume(document.querySelector(".volume-slider").value),e.handlePlayElementSettings(),t===null&&(e.getSongData().howl=e.newHowlPlay(),t=e.getSongData().howl);try{t.play()}catch(o){e.getSongData().howl=e.newHowlPlay(),t=e.getSongData().howl,t.play()}e.currentHowl=t}newHowlPlay(e=null){let t=this,o=t.getSongData(),l=new Howl({preload:!1,src:[o.songurl],html5:!0,onplay:f(()=>{t.repeatMarkerSong||t.handleMarkerUpdating(),requestAnimationFrame(t.step.bind(t))},"onplay"),onseek:f(()=>{requestAnimationFrame(t.step.bind(t))},"onseek"),onend:f(()=>{t.repeatSong?(t.pause(),t.play()):t.next(),t.removeMarker()},"onend")}),d=!1;return l.on("play",function(){t.updateGlobalSongProp(o.songtitle,o.songimage),d=!1;let p=new rn(t.getSongData());t.getEventDispatcher().dispatchEventToHandlers(window.TonicsEvent.EventConfig,p,rn)}),l.on("pause",function(){if(!d){d=!0;let p=new an(t.getSongData());t.getEventDispatcher().dispatchEventToHandlers(window.TonicsEvent.EventConfig,p,an)}}),l}getMarkerPercentageAndSeconds(e,t){if(!e||!/^\d{1,2}:\d{1,2}(:\d{1,2})?$/.test(e)){console.error(`Invalid time format: ${e}. Should be in format "00:00" or "00:00:00"`);return}let o=e.split(":"),l=o.length>2?parseInt(o[0],10):0,d=parseInt(o[o.length-2],10),p=(o.length>2,parseInt(o[o.length-1],10)),m=l*3600+d*60+p;if(!t||t<=0){console.error("audioTrackLength is not defined or is <= 0");return}return{percentage:m/t*100,seconds:m}}updateMarker(e,t){let o=t._track_marker_start_info,l=t._track_marker_end_info,p=document.querySelector(".tonics-audio-marker").innerHTML;p=p.replace(/Marker_Percentage/g,o.percentage),p=p.replace(/Marker_Text/g,o.text),p=p.replace(/MARKER_START/g,o.seconds),p=p.replace(/MARKER_END/g,l.seconds);let m=document.querySelector(e);m&&m.insertAdjacentHTML("afterend",p)}handleMarkerUpdating(){var t;let e=this.getSongData();((t=e==null?void 0:e.markers)==null?void 0:t.length)>0&&(document.querySelectorAll("div[data-audioplayer_marker]").forEach(l=>l.remove()),e.markers.forEach(l=>{l._track_marker_start_info&&this.updateMarker(".song-slider",l)}))}storeSongPosition(){let e=this.getCurrentHowl(),t=window.location.href,o=e.seek();localStorage.setItem(t,JSON.stringify({currentPos:o,songKey:this.playlist[this.playlistIndex],currentGroupID:this.currentGroupID}))}prev(){let e=this;e.removeMarker(),e.playlist===null&&e.loadPlaylist();let t=e.playlistIndex-1;t<0&&(t=0),this.skipTo(t)}next(){let e=this;e.removeMarker(),e.playlist===null&&e.loadPlaylist();let t=e.playlistIndex+1;t>=e.playlist.length&&(t=0),this.skipTo(t)}skipTo(e){let t=this;t.getCurrentHowl()&&t.getCurrentHowl().stop(),t.playlistIndex=e,t.play()}seek(e){let o=this.getCurrentHowl(),l=o.duration()*e/100;o&&(o.seek(l),this.moveSlider())}moveSlider(){let e=this,t=e.getCurrentHowl(),l=(t.seek()||0)/t.duration()*100||0;l=Math.round(l),e.userIsSeekingSongSlider===!1&&(e.songSlider.value=l)}step(){let e=this,t=e.getCurrentHowl();if(t.playing()){if(e.repeatMarkerSong){let o=Math.round(t.seek()),l=parseInt(e.repeatMarkerSong.start),d=parseInt(e.repeatMarkerSong.end);o>=d&&t.seek(l)}e.moveSlider(),e.storeSongPosition(),e.updateGlobalTime(),requestAnimationFrame(this.step.bind(e))}}updateGlobalTime(){let e=this.getCurrentHowl(),t=e.seek();if(this.globalCurrentTrackTime||(this.globalCurrentTrackTime=document.querySelector("[data-current_track_time]")),this.globalTotalTrackTime||(this.globalTotalTrackTime=document.querySelector("[data-total_track_time]")),this.globalCurrentTrackTime&&(this.globalCurrentTrackTime.innerText=this.formatTimeToHourMinSec(t)),this.globalTotalTrackTime){let o=e.duration();this.previousTotalTrackDuration!==o&&(this.globalTotalTrackTime.innerText=this.formatTimeToHourMinSec(o),this.previousTotalTrackDuration=o)}}formatTimeToHourMinSec(e){if(isNaN(e)||e<0)return"-";let t=Math.floor(e/3600),o=Math.floor(e%3600/60),l=Math.floor(e%60),d="";return t>0&&(d+=("0"+t).slice(-2)+":"),d+=("0"+o).slice(-2)+":",d+=("0"+l).slice(-2),d}removeMarker(){this.repeatMarkerSong=null}updateGlobalSongProp(e="",t=""){let o=document.querySelector("[data-audioplayer_globaltitle]"),l=document.querySelector(".main-album-art[data-audioplayer_globalart]");o&&(o.innerText=e,o.title=e),l&&(l.src=t),"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:e,artwork:[{src:this.convertRelativeToAbsoluteURL(t),sizes:"200x200",type:"image/png"}]}))}convertRelativeToAbsoluteURL(e){return e.startsWith("http")||(e=new URL(e,window.location.href).href),e}getCurrentHowl(){return this.currentHowl}getEventDispatcher(){return window.TonicsEvent.EventDispatcher}};f(_i,"AudioPlayer");var ei=_i,Ei=class Ei{constructor(e){this._songData=e}get songData(){return this._songData}set songData(e){this._songData=e}};f(Ei,"AudioPlayerEventAbstract");var Qt=Ei,ki=class ki extends Qt{};f(ki,"OnAudioPlayerPlayEvent");var rn=ki,Ci=class Ci extends Qt{};f(Ci,"OnAudioPlayerPauseEvent");var an=Ci,Si=class Si extends Qt{constructor(e,t){super(e),this._eventEl=t}get eventEl(){return this._eventEl}};f(Si,"OnAudioPlayerClickEvent");var ln=Si;if(document.querySelector(".audio-player")){let w=new ei;w.run();let e=".audio-player-queue-list",t=".track-in-queue",o=!1,l=!1,d=0,p=5;window!=null&&window.TonicsScript.hasOwnProperty("Draggables")&&window.TonicsScript.Draggables(e).settings(t,[".track-license"],!1).onDragDrop(function(m,y){let v=y.getDroppedTarget().closest(t),n=y.getDragging().closest(t);(v!==n&&o||l)&&(bi(n,v,y.draggingOriginalRect,()=>{w.resetQueue()}),d=0,o=!1,l=!1)}).onDragTop(m=>{if(d++>=p){let y=m.previousElementSibling;y&&y.classList.contains("track-in-queue")&&(o=!0)}}).onDragBottom(m=>{if(d++>=p){let y=m.nextElementSibling;y&&y.classList.contains("track-in-queue")&&(l=!0)}}).run(),window!=null&&window.TonicsScript.hasOwnProperty("MenuToggle")&&(window!=null&&window.TonicsScript.hasOwnProperty("Query"))&&(window.TonicsScript.MenuToggle(".audio-player",window.TonicsScript.Query()).settings(".audio-player-global-container",".dropdown-toggle",".audio-player-queue").buttonIcon("#tonics-arrow-down","#tonics-arrow-up").menuIsOff(["swing-out-top-fwd","d:none"],["swing-in-top-fwd","d:flex"]).menuIsOn(["swing-in-top-fwd","d:flex"],["swing-out-top-fwd","d:none"]).stopPropagation(!1).closeOnClickOutSide(!1).run(),window.TonicsScript.MenuToggle(".time-progress",window.TonicsScript.Query()).settings(".time-progress-marker",".marker-dropdown-toggle",".audio-player-marker-data").buttonIcon("#tonics-arrow-down","#tonics-arrow-up").menuIsOff(["swing-out-top-fwd","d:none"],["swing-in-top-fwd","d:flex"]).menuIsOn(["swing-in-top-fwd","d:flex"],["swing-out-top-fwd","d:none"]).stopPropagation(!1).closeOnClickOutSide(!1).run(),window.TonicsScript.MenuToggle(".audio-player-queue",window.TonicsScript.Query()).settings(".track-in-queue",".dropdown-toggle",".track-license").menuIsOff(["swing-out-top-fwd","d:none"],["swing-in-top-fwd","d:flex"]).menuIsOn(["swing-in-top-fwd","d:flex"],["swing-out-top-fwd","d:none"]).stopPropagation(!1).closeOnClickOutSide(!1).run())}function ti(w={}){let e={};return new cn(qn(qn({},e),w))}f(ti,"defaultXHR");var zt=document.querySelector("main"),Bn=new Map,Os=null,Hn=null,be=null,_e=null;if(zt){zt.addEventListener("click",e=>{let t=e.target;if(t.classList.contains("more-button")){e.preventDefault();let o=t.dataset.action,l=t.dataset.morepageurl;ti(t.dataset).Get(l,function(d,p){if(p&&(p=JSON.parse(p),p.hasOwnProperty("status")&&p.status===200)){let m=t.closest(".menu-box-radiobox-items"),y=m.querySelector(".more-button"),v=m.querySelector("li:nth-last-of-type(1)");y&&y.remove(),v.insertAdjacentHTML("afterend",p.data)}})}t.classList.contains("upload-license-download-url")&&(Hn=t.parentElement.querySelector(".input-license-download-url"),ni&&(Os=window.open(ni,"Tonics File Manager","left=95,top=100")))}),window.addEventListener("message",e=>{if(e.origin!==vo)return;let t=e.data;t.hasOwnProperty("cmd")&&t.cmd==="tonics:RegularLink"&&Hn&&(Hn.value=t.value,Os.close())});let w=[];zt.addEventListener("keydown",e=>{let t=e.target;if(t.classList.contains("menu-box-item-search")){let o=t;if(e.code==="Enter"){w[t.dataset.menuboxname]=t.parentElement.cloneNode(!0),e.preventDefault();let l=o.value;if(l=l.trim(),l.length>0&&o.dataset.hasOwnProperty("searchvalue")){o.dataset.searchvalue=l;let d=o.dataset.query+encodeURIComponent(l);ti(o.dataset).Get(d,function(p,m){if(m&&(m=JSON.parse(m),m.hasOwnProperty("status")&&m.status===200)){let y=o.parentElement,v=o.cloneNode(!0);o.parentElement.innerHTML=m.data,y.prepend(v)}})}}}}),zt.addEventListener("change",e=>{let t=e.target;t.classList.contains("license-selector")&&wo(t)}),zt.addEventListener("input",e=>{let t=e.target,o=t;if(t.classList.contains("menu-box-item-search")){e.preventDefault();let l=o.value;if(l=l.trim(),l===""){let d=o.parentElement.querySelectorAll('input[type="checkbox"]:checked');if(d.length>0){let p="";for(let n=0;n<d.length;n++){let r=d[n].value,c=w[o.dataset.menuboxname].querySelector(`input[type="checkbox"][value="${r}"]`);c?c&&!c.checked&&(p+=d[n].parentElement.outerHTML):p+=d[n].parentElement.outerHTML}let m=w[o.dataset.menuboxname];m.querySelector("li").insertAdjacentHTML("beforebegin",p);let v=o.parentElement;v.innerHTML=m.innerHTML}}}})}var Nn=document.querySelector(".license-selector");Nn&&Nn.dataset.new==="true"&&wo(Nn);function wo(w){if(_e=w.closest("li").querySelector(".license-downloads"),be=w.options[w.selectedIndex],be.dataset.licenseID=be.value,Bn.has(be.value)&&_e){_e.innerHTML="",_e.innerHTML=Bn.get(be.value);return}ti(be.dataset).Get(window.location.href,function(e,t){t&&(t=JSON.parse(t),t.hasOwnProperty("status")&&t.status===200&&_e&&(_e.innerHTML="",_e.innerHTML=t.data,Bn.set(be.value,t.data)))})}f(wo,"getLicenseDownloadInfo");var Ms,vo=(Ms=document.querySelector("body"))==null?void 0:Ms.getAttribute("data-tonics_siteURL"),Rs,Na=(Rs=document.querySelector("body"))==null?void 0:Rs.getAttribute("data-tonics_siteTimeZone"),qs,ni=(qs=document.querySelector("body"))==null?void 0:qs.getAttribute("data-tonics_fileManagerURL"),Bs,vo=(Bs=document.querySelector("body"))==null?void 0:Bs.getAttribute("data-tonics_siteURL"),Hs,Na=(Hs=document.querySelector("body"))==null?void 0:Hs.getAttribute("data-tonics_siteTimeZone"),Ns,ni=(Ns=document.querySelector("body"))==null?void 0:Ns.getAttribute("data-tonics_fileManagerURL");export{ei as AudioPlayer,Us as Draggables,$s as MenuToggle,Rt as Query,mo as TonicsFileManagerExcrete,bi as swapNodes};
/*!
* sweetalert2 v11.1.10
* Released under the MIT License.
*/
/*! howler.js v2.2.3 | (c) 2013-2020, James Simpson of GoldFire Studios | MIT License | howlerjs.com */
