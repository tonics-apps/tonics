var mi=Object.defineProperty;var fi=Object.getOwnPropertySymbols;var lo=Object.prototype.hasOwnProperty,uo=Object.prototype.propertyIsEnumerable;var Ft=(e,t,n)=>t in e?mi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dt=(e,t)=>{for(var n in t||(t={}))lo.call(t,n)&&Ft(e,n,t[n]);if(fi)for(var n of fi(t))uo.call(t,n)&&Ft(e,n,t[n]);return e};var y=(e,t)=>mi(e,"name",{value:t,configurable:!0});var te=(e,t,n)=>(Ft(e,typeof t!="symbol"?t+"":t,n),n);var Ue=Object.defineProperty,he=y((e,t)=>Ue(e,"name",{value:t,configurable:!0}),"__name"),ge=y(class{constructor(e){return e?this.query(e):this}query(e){let t=document.querySelector(`${e}`);if(t)return this.setQueryResult(t),this;console.log(`Invalid class or id name - ${e}`)}setQueryResult(e){return this.$queryResult=e,this}getQueryResult(){return this.$queryResult}},"ElementAbstract");he(ge,"ElementAbstract");var _i=y(class extends ge{constructor(e){super(e),this.dragging=null,this.droppedTarget=null,this._draggingOriginalRect=null,this.xPosition=0,this.yPosition=-1,this.mouseActive=!1,this._constrainedQuad=!1,this.$draggableElementDetails={}}get draggingOriginalRect(){return this._draggingOriginalRect}set draggingOriginalRect(e){this._draggingOriginalRect=e}get constrainedQuad(){return this._constrainedQuad}set constrainedQuad(e){this._constrainedQuad=e}settings(e,t,n=!1){return this.constrainedQuad=n,this.getDraggableElementDetails().draggable={constrainedQuad:n,draggableElement:e,ignoreElements:t,callbacks:{onDragging:null,onDragDrop:null,onDragRight:null,onDragLeft:null,onDragBottom:null,onDragTop:null}},this}getDraggableElementDetails(){return this.$draggableElementDetails}checkIfSettingsIsSet(){return this.getDraggableElementDetails().draggable}onDragDrop(e){if(this.checkIfSettingsIsSet())return this.getDraggableElementDetails().draggable.callbacks.onDragDrop=e,this}onDragRight(e){if(this.checkIfSettingsIsSet())return this.getDraggableElementDetails().draggable.callbacks.onDragRight=e,this}onDragLeft(e){if(this.checkIfSettingsIsSet())return this.getDraggableElementDetails().draggable.callbacks.onDragLeft=e,this}onDragBottom(e){if(this.checkIfSettingsIsSet())return this.getDraggableElementDetails().draggable.callbacks.onDragBottom=e,this}onDragTop(e){if(this.checkIfSettingsIsSet())return this.getDraggableElementDetails().draggable.callbacks.onDragTop=e,this}run(){let e=this.getQueryResult(),t=this,n,r;e&&e.addEventListener("pointerdown",function(c){t.setMouseActive(!0);let p=c.target,g=!0;t.getDraggableElementDetails().draggable.ignoreElements.forEach((w,v)=>{p.closest(w)&&(g=!1)});let f=t.getDraggableElementDetails().draggable.draggableElement;if(p.closest(f)&&g){t==null||t.setDragging(p.closest(f));let w=t.getDragging();n=c.clientX,r=c.clientY,w.classList.add("draggable-start"),w.classList.add("touch-action:none"),w.classList.remove("draggable-animation"),t._draggingOriginalRect=w.getBoundingClientRect()}}),e.addEventListener("pointerup",function(c){let p=c.target;if(t.isMouseActive()){t.setMouseActive(!1);let g=!0;t.getDraggableElementDetails().draggable.ignoreElements.forEach((v,a)=>{p.closest(v)&&(g=!1)}),t.setXPosition(0),t.setYPosition(-1);let f=t.getDragging();if(f&&g)f.style.transform="",f.classList.remove("draggable-start"),f.classList.remove("touch-action:none"),f.classList.add("draggable-animation");else return!1;let w=t.getDraggableElementDetails().draggable.callbacks.onDragDrop;w!==null&&typeof w=="function"&&w(p,t)}}),e.addEventListener("pointermove",function(c){if(t.isMouseActive()){let p=c.target,g=!0;t.getDraggableElementDetails().draggable.ignoreElements.forEach((v,a)=>{p.closest(v)&&(g=!1)});let f=t.getDragging(),w=t.getDraggableElementDetails().draggable.draggableElement;if(p.closest(w)&&g&&f){f.classList.add("pointer-events:none");let v=document.elementFromPoint(c.clientX,c.clientY);t.setDroppedTarget(v.closest(w)),f.classList.remove("pointer-events:none"),c.preventDefault();let a=c.clientX-n,o=c.clientY-r;if(t.constrainedQuad||(f.style.transform="translate3d("+a+"px,"+o+"px, 0px)"),c.movementX>=1&&c.movementY===0){t.constrainedQuad&&(f.style.transform="translate3d("+a+"px,"+0+"px, 0px)");let u=t.getDraggableElementDetails().draggable.callbacks.onDragRight;u!==null&&typeof u=="function"&&u(f)}if(c.movementX<0&&c.movementY===0){t.constrainedQuad&&(f.style.transform="translate3d("+a+"px,"+0+"px, 0px)");let u=t.getDraggableElementDetails().draggable.callbacks.onDragLeft;u!==null&&typeof u=="function"&&u(f,t)}if(c.movementX===0&&c.movementY>0){t.constrainedQuad&&(f.style.transform="translate3d("+0+"px,"+o+"px, 0px)");let u=t.getDraggableElementDetails().draggable.callbacks.onDragBottom;u!==null&&typeof u=="function"&&u(f,t)}else if(c.movementX===0&&c.movementY<0){t.constrainedQuad&&(f.style.transform="translate3d("+0+"px,"+o+"px, 0px)");let u=t.getDraggableElementDetails().draggable.callbacks.onDragTop;u!==null&&typeof u=="function"&&u(f,t)}}}})}getXPosition(){return this.xPosition}setXPosition(e){this.xPosition=e}getYPosition(){return this.yPosition}setYPosition(e){this.yPosition=e}incrementXPosition(){return++this.xPosition}decrementXPosition(){return this.xPosition=this.xPosition-1}incrementYPosition(){return++this.yPosition}decrementYPosition(){return this.yPosition=this.xPosition-1}getDragging(){return this.dragging}setDragging(e){this.dragging=e}getDroppedTarget(){return this.droppedTarget}setDroppedTarget(e){this.droppedTarget=e}isMouseActive(){return this.mouseActive}setMouseActive(e){this.mouseActive=e}},"Draggables");he(_i,"Draggables");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.Draggables=e=>new _i(e);var Ue=Object.defineProperty,he=y((e,t)=>Ue(e,"name",{value:t,configurable:!0}),"__name"),ge=y(class{constructor(e){return e?this.query(e):this}query(e){let t=document.querySelector(`${e}`);if(t)return this.setQueryResult(t),this;console.log(`Invalid class or id name - ${e}`)}setQueryResult(e){return this.$queryResult=e,this}getQueryResult(){return this.$queryResult}},"ElementAbstract");he(ge,"ElementAbstract");var Ei=y(class extends ge{constructor(e,t){super(e),this.$menuDetails={},this.queryAdapter=t}getQueryAdapter(){return this.queryAdapter}settings(e,t,n){return this.getMenuDetails().menu={parent:{element:this.getQueryResult(),event:""},propagate:!0,menuClass:e,buttonClass:t,subMenuClass:n,on:{button:{icon:{add:"",remove:""}},subMenu:{class:{add:"",remove:"",animation:{start:"",end:""}}}},off:{button:{icon:{add:"",remove:""}},subMenu:{class:{add:"",remove:"",animation:{start:"",end:""}}}}},this}stopPropagation(e=!0){return this.getMenuDetails().hasOwnProperty("menu")&&(this.getMenuDetails().menu.propagate=e),this}buttonIcon(e,t){if(this.getMenuDetails().hasOwnProperty("menu"))return this.getMenuDetails().menu.on.button.icon.add=e,this.getMenuDetails().menu.off.button.icon.add=t,this;throw new DOMException("No Menu Element Added")}menuIsOn(e,t){if(this.getMenuDetails().hasOwnProperty("menu"))return this.getMenuDetails().menu.on.subMenu.class.add=e,this.getMenuDetails().menu.on.subMenu.class.remove=t,this;throw new DOMException("No Menu Element Added")}menuIsOff(e,t){if(this.getMenuDetails().hasOwnProperty("menu"))return this.getMenuDetails().menu.off.subMenu.class.add=e,this.getMenuDetails().menu.off.subMenu.class.remove=t,this;throw new DOMException("No Menu Element Added")}run(){let e=this.getMenuDetails().menu.parent.element;e&&e.addEventListener("click",t=>{var n,r;this.getMenuDetails().menu.propagate&&t.stopPropagation();let c=t.target;if(c.closest(this.getMenuDetails().menu.buttonClass)){t.preventDefault();let p=c.closest(this.getMenuDetails().menu.buttonClass);if(p.classList.toggle("toggle-on"),p.ariaLabel="Expand child menu",p.ariaExpanded="false",p.classList.contains("toggle-on")){if(p.closest("[data-menu-depth]")){let w=p.closest("[data-menu-depth]"),v=document.querySelectorAll(`[data-menu-depth="${w.dataset.menuDepth}"]`);v.length>0&&v.forEach(a=>{let o=a.querySelector(this.getMenuDetails().menu.buttonClass);o!==p&&o&&o.classList.contains("toggle-on")&&o.click()})}p.ariaLabel="Collapse child menu",p.ariaExpanded="true"}let g=p.closest(this.getMenuDetails().menu.menuClass),f=(r=(n=this.getQueryAdapter().addNodeElement(g).in())==null?void 0:n.forward(this.getMenuDetails().menu.subMenuClass))==null?void 0:r.getQueryResult();if(f||(f=this.getQueryAdapter().addNodeElement(g).queryChildren(this.getMenuDetails().menu.subMenuClass).getQueryResult()),f.classList.contains(this.getMenuDetails().menu.on.subMenu.class.add[0]))if(this.hasAnimation(f)){let w=this.getMenuDetails().menu.off.subMenu.class.remove.find(u=>u.includes("flex")||u.includes("display-block")),v=this.getMenuDetails().menu.off.subMenu.class.remove.filter(u=>u!==w),a=this.getMenuDetails().menu.off.subMenu.class.add.find(u=>u.includes("none")),o=this.getMenuDetails().menu.off.subMenu.class.add.filter(u=>u!==a);f.classList.remove(v),f.classList.add(o),f.addEventListener("animationend",()=>{f.classList.remove(w),f.classList.add(a)},{once:!0})}else f.classList.remove(...this.getMenuDetails().menu.off.subMenu.class.remove),f.classList.add(...this.getMenuDetails().menu.off.subMenu.class.add);else f.classList.add(...this.getMenuDetails().menu.on.subMenu.class.add),f.classList.remove(...this.getMenuDetails().menu.on.subMenu.class.remove);if(this.getMenuDetails().menu.off.button.icon.add){let w=p.querySelector(".svgUse");if(w)w.getAttribute("xlink:href")===this.getMenuDetails().menu.off.button.icon.add?this.getQueryAdapter().addNodeElement(w).setSVGUseAttribute(this.getMenuDetails().menu.on.button.icon.add):this.getQueryAdapter().addNodeElement(w).setSVGUseAttribute(this.getMenuDetails().menu.off.button.icon.add);else throw new DOMException("Add class `svgUse` to svg use element")}}})}getMenuDetails(){return this.$menuDetails}closeMenuToggle(e=null){let t=this;e===null&&(e=document),e.querySelectorAll(t.getMenuDetails().menu.buttonClass).forEach(n=>{n.classList.contains("toggle-on")&&n.dataset.hasOwnProperty("menutoggle_click_outside")&&n.dataset.menutoggle_click_outside==="true"&&n.click()})}closeOnClickOutSide(e){e&&this.getMenuDetails().menu.parent.element.querySelectorAll(this.getMenuDetails().menu.buttonClass).forEach(r=>{r.setAttribute("data-menutoggle_click_outside","true")});let t=this;return document.addEventListener("click",function(n){t.closeMenuToggle()}),document.addEventListener("keyup",function(n){n.key==="Escape"&&t.closeMenuToggle()}),this}hasAnimation(e){let t=window.getComputedStyle(e,null),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0}},"MenuToggle");he(Ei,"MenuToggle");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.MenuToggle=(e,t)=>new Ei(e,t);var Ue=Object.defineProperty,he=y((e,t)=>Ue(e,"name",{value:t,configurable:!0}),"__name"),ge=y(class{constructor(e){return e?this.query(e):this}query(e){let t=document.querySelector(`${e}`);if(t)return this.setQueryResult(t),this;console.log(`Invalid class or id name - ${e}`)}setQueryResult(e){return this.$queryResult=e,this}getQueryResult(){return this.$queryResult}},"ElementAbstract");he(ge,"ElementAbstract");var ki=y(class extends ge{addNodeElement(e){return this.setQueryResult(e),this}forward(e){let t=this.getQueryResult().nextElementSibling;for(;t;){if(t.matches(e))return this.setQueryResult(t),this;t=t.nextElementSibling}return null}backward(e){let t=this.getQueryResult().previousElementSibling;for(;t;){if(t.matches(e))return this.setQueryResult(t),this;t=t.previousElementSibling}return null}in(){let e=this.getQueryResult().firstElementChild;return e?(this.setQueryResult(e),this):null}out(){let e=this.getQueryResult().parentElement;return e?(this.setQueryResult(e),this):null}queryChildren(e,t=!0){let n=this.getQueryResult().querySelector(e);return n?t?(this.setQueryResult(n),this):n:null}setSVGUseAttribute(e){let t=this.getQueryResult();if(t.tagName=="use")t.removeAttribute("xlink:href"),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e);else throw new DOMException("Not a valid svg use element")}},"Query");he(ki,"Query");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.Query=()=>new ki;var co=Object.create,je=Object.defineProperty,po=Object.getOwnPropertyDescriptor,ho=Object.getOwnPropertyNames,wi=Object.getOwnPropertySymbols,go=Object.getPrototypeOf,Si=Object.prototype.hasOwnProperty,fo=Object.prototype.propertyIsEnumerable,vi=y((e,t,n)=>t in e?je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"Qn"),yi=y((e,t)=>{for(var n in t||(t={}))Si.call(t,n)&&vi(e,n,t[n]);if(wi)for(var n of wi(t))fo.call(t,n)&&vi(e,n,t[n]);return e},"rn"),mo=y(e=>je(e,"__esModule",{value:!0}),"$r"),d=y((e,t)=>je(e,"name",{value:t,configurable:!0}),"s"),wo=y((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"Vr"),vo=y((e,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of ho(t))!Si.call(e,r)&&r!=="default"&&je(e,r,{get:()=>t[r],enumerable:!(n=po(t,r))||n.enumerable});return e},"zr"),yo=y(e=>vo(mo(je(e!=null?co(go(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),"Xr"),ne=y((e,t,n)=>new Promise((r,c)=>{var p=y(w=>{try{f(n.next(w))}catch(v){c(v)}},"l"),g=y(w=>{try{f(n.throw(w))}catch(v){c(v)}},"d"),f=y(w=>w.done?r(w.value):Promise.resolve(w.value).then(p,g),"f");f((n=n.apply(e,t)).next())}),"$"),bo=wo((e,t)=>{(function(n,r){typeof e=="object"&&typeof t!="undefined"?t.exports=r():typeof define=="function"&&define.amd?define(r):(n=n||self,n.Sweetalert2=r())})(e,function(){"use strict";let n=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),r="SweetAlert2:",c=d(i=>{let s=[];for(let l=0;l<i.length;l++)s.indexOf(i[l])===-1&&s.push(i[l]);return s},"uniqueArray"),p=d(i=>i.charAt(0).toUpperCase()+i.slice(1),"capitalizeFirstLetter"),g=d(i=>Array.prototype.slice.call(i),"toArray"),f=d(i=>{console.warn("".concat(r," ").concat(typeof i=="object"?i.join(" "):i))},"warn"),w=d(i=>{console.error("".concat(r," ").concat(i))},"error"),v=[],a=d(i=>{v.includes(i)||(v.push(i),f(i))},"warnOnce"),o=d((i,s)=>{a('"'.concat(i,'" is deprecated and will be removed in the next major release. Please use "').concat(s,'" instead.'))},"warnAboutDeprecation"),u=d(i=>typeof i=="function"?i():i,"callIfFunction"),m=d(i=>i&&typeof i.toPromise=="function","hasToPromiseFn"),_=d(i=>m(i)?i.toPromise():Promise.resolve(i),"asPromise"),k=d(i=>i&&Promise.resolve(i)===i,"isPromise"),b=d(i=>typeof i=="object"&&i.jquery,"isJqueryElement"),x=d(i=>i instanceof Element||b(i),"isElement"),L=d(i=>{let s={};return typeof i[0]=="object"&&!x(i[0])?Object.assign(s,i[0]):["title","html","icon"].forEach((l,h)=>{let S=i[h];typeof S=="string"||x(S)?s[l]=S:S!==void 0&&w("Unexpected type of ".concat(l,'! Expected "string" or "Element", got ').concat(typeof S))}),s},"argsToParams"),R="swal2-",X=d(i=>{let s={};for(let l in i)s[i[l]]=R+i[l];return s},"prefix"),E=X(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),se=X(["success","warning","info","question","error"]),B=d(()=>document.body.querySelector(".".concat(E.container)),"getContainer"),N=d(i=>{let s=B();return s?s.querySelector(i):null},"elementBySelector"),z=d(i=>N(".".concat(i)),"elementByClass"),q=d(()=>z(E.popup),"getPopup"),fe=d(()=>z(E.icon),"getIcon"),Pe=d(()=>z(E.title),"getTitle"),J=d(()=>z(E["html-container"]),"getHtmlContainer"),Ve=d(()=>z(E.image),"getImage"),pn=d(()=>z(E["progress-steps"]),"getProgressSteps"),ze=d(()=>z(E["validation-message"]),"getValidationMessage"),Z=d(()=>N(".".concat(E.actions," .").concat(E.confirm)),"getConfirmButton"),de=d(()=>N(".".concat(E.actions," .").concat(E.deny)),"getDenyButton"),Zi=d(()=>z(E["input-label"]),"getInputLabel"),ke=d(()=>N(".".concat(E.loader)),"getLoader"),me=d(()=>N(".".concat(E.actions," .").concat(E.cancel)),"getCancelButton"),Ge=d(()=>z(E.actions),"getActions"),hn=d(()=>z(E.footer),"getFooter"),Qe=d(()=>z(E["timer-progress-bar"]),"getTimerProgressBar"),ot=d(()=>z(E.close),"getCloseButton"),ea=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,rt=d(()=>{let i=g(q().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((l,h)=>(l=parseInt(l.getAttribute("tabindex")),h=parseInt(h.getAttribute("tabindex")),l>h?1:l<h?-1:0)),s=g(q().querySelectorAll(ea)).filter(l=>l.getAttribute("tabindex")!=="-1");return c(i.concat(s)).filter(l=>Y(l))},"getFocusableElements"),lt=d(()=>!Le()&&!document.body.classList.contains(E["no-backdrop"]),"isModal"),Le=d(()=>document.body.classList.contains(E["toast-shown"]),"isToast"),ta=d(()=>q().hasAttribute("data-loading"),"isLoading"),Se={previousBodyPadding:null},j=d((i,s)=>{if(i.textContent="",s){let l=new DOMParser().parseFromString(s,"text/html");g(l.querySelector("head").childNodes).forEach(h=>{i.appendChild(h)}),g(l.querySelector("body").childNodes).forEach(h=>{i.appendChild(h)})}},"setInnerHtml"),Ae=d((i,s)=>{if(!s)return!1;let l=s.split(/\s+/);for(let h=0;h<l.length;h++)if(!i.classList.contains(l[h]))return!1;return!0},"hasClass"),na=d((i,s)=>{g(i.classList).forEach(l=>{!Object.values(E).includes(l)&&!Object.values(se).includes(l)&&!Object.values(s.showClass).includes(l)&&i.classList.remove(l)})},"removeCustomClasses"),ee=d((i,s,l)=>{if(na(i,s),s.customClass&&s.customClass[l]){if(typeof s.customClass[l]!="string"&&!s.customClass[l].forEach)return f("Invalid type of customClass.".concat(l,'! Expected string or iterable object, got "').concat(typeof s.customClass[l],'"'));M(i,s.customClass[l])}},"applyCustomClass"),ut=d((i,s)=>{if(!s)return null;switch(s){case"select":case"textarea":case"file":return re(i,E[s]);case"checkbox":return i.querySelector(".".concat(E.checkbox," input"));case"radio":return i.querySelector(".".concat(E.radio," input:checked"))||i.querySelector(".".concat(E.radio," input:first-child"));case"range":return i.querySelector(".".concat(E.range," input"));default:return re(i,E.input)}},"getInput"),gn=d(i=>{if(i.focus(),i.type!=="file"){let s=i.value;i.value="",i.value=s}},"focusInput"),fn=d((i,s,l)=>{!i||!s||(typeof s=="string"&&(s=s.split(/\s+/).filter(Boolean)),s.forEach(h=>{i.forEach?i.forEach(S=>{l?S.classList.add(h):S.classList.remove(h)}):l?i.classList.add(h):i.classList.remove(h)}))},"toggleClass"),M=d((i,s)=>{fn(i,s,!0)},"addClass"),oe=d((i,s)=>{fn(i,s,!1)},"removeClass"),re=d((i,s)=>{for(let l=0;l<i.childNodes.length;l++)if(Ae(i.childNodes[l],s))return i.childNodes[l]},"getChildByClass"),Ie=d((i,s,l)=>{l==="".concat(parseInt(l))&&(l=parseInt(l)),l||parseInt(l)===0?i.style[s]=typeof l=="number"?"".concat(l,"px"):l:i.style.removeProperty(s)},"applyNumericalStyle"),U=d(function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";i.style.display=s},"show"),V=d(i=>{i.style.display="none"},"hide"),mn=d((i,s,l,h)=>{let S=i.querySelector(s);S&&(S.style[l]=h)},"setStyle"),Xe=d((i,s,l)=>{s?U(i,l):V(i)},"toggle"),Y=d(i=>!!(i&&(i.offsetWidth||i.offsetHeight||i.getClientRects().length)),"isVisible"),ia=d(()=>!Y(Z())&&!Y(de())&&!Y(me()),"allButtonsAreHidden"),wn=d(i=>i.scrollHeight>i.clientHeight,"isScrollable"),vn=d(i=>{let s=window.getComputedStyle(i),l=parseFloat(s.getPropertyValue("animation-duration")||"0"),h=parseFloat(s.getPropertyValue("transition-duration")||"0");return l>0||h>0},"hasCssAnimation"),ct=d(function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=Qe();Y(l)&&(s&&(l.style.transition="none",l.style.width="100%"),setTimeout(()=>{l.style.transition="width ".concat(i/1e3,"s linear"),l.style.width="0%"},10))},"animateTimerProgressBar"),aa=d(()=>{let i=Qe(),s=parseInt(window.getComputedStyle(i).width);i.style.removeProperty("transition"),i.style.width="100%";let l=parseInt(window.getComputedStyle(i).width),h=parseInt(s/l*100);i.style.removeProperty("transition"),i.style.width="".concat(h,"%")},"stopTimerProgressBar"),yn=d(()=>typeof window=="undefined"||typeof document=="undefined","isNodeEnv"),sa=`
 <div aria-labelledby="`.concat(E.title,'" aria-describedby="').concat(E["html-container"],'" class="').concat(E.popup,`" tabindex="-1">
   <button type="button" class="`).concat(E.close,`"></button>
   <ul class="`).concat(E["progress-steps"],`"></ul>
   <div class="`).concat(E.icon,`"></div>
   <img class="`).concat(E.image,`" />
   <h2 class="`).concat(E.title,'" id="').concat(E.title,`"></h2>
   <div class="`).concat(E["html-container"],'" id="').concat(E["html-container"],`"></div>
   <input class="`).concat(E.input,`" />
   <input type="file" class="`).concat(E.file,`" />
   <div class="`).concat(E.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(E.select,`"></select>
   <div class="`).concat(E.radio,`"></div>
   <label for="`).concat(E.checkbox,'" class="').concat(E.checkbox,`">
     <input type="checkbox" />
     <span class="`).concat(E.label,`"></span>
   </label>
   <textarea class="`).concat(E.textarea,`"></textarea>
   <div class="`).concat(E["validation-message"],'" id="').concat(E["validation-message"],`"></div>
   <div class="`).concat(E.actions,`">
     <div class="`).concat(E.loader,`"></div>
     <button type="button" class="`).concat(E.confirm,`"></button>
     <button type="button" class="`).concat(E.deny,`"></button>
     <button type="button" class="`).concat(E.cancel,`"></button>
   </div>
   <div class="`).concat(E.footer,`"></div>
   <div class="`).concat(E["timer-progress-bar-container"],`">
     <div class="`).concat(E["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),oa=d(()=>{let i=B();return i?(i.remove(),oe([document.documentElement,document.body],[E["no-backdrop"],E["toast-shown"],E["has-column"]]),!0):!1},"resetOldContainer"),we=d(()=>{ye.isVisible()&&ye.resetValidationMessage()},"resetValidationMessage"),ra=d(()=>{let i=q(),s=re(i,E.input),l=re(i,E.file),h=i.querySelector(".".concat(E.range," input")),S=i.querySelector(".".concat(E.range," output")),F=re(i,E.select),H=i.querySelector(".".concat(E.checkbox," input")),K=re(i,E.textarea);s.oninput=we,l.onchange=we,F.onchange=we,H.onchange=we,K.oninput=we,h.oninput=()=>{we(),S.value=h.value},h.onchange=()=>{we(),h.nextSibling.value=h.value}},"addInputChangeListeners"),la=d(i=>typeof i=="string"?document.querySelector(i):i,"getTarget"),ua=d(i=>{let s=q();s.setAttribute("role",i.toast?"alert":"dialog"),s.setAttribute("aria-live",i.toast?"polite":"assertive"),i.toast||s.setAttribute("aria-modal","true")},"setupAccessibility"),ca=d(i=>{window.getComputedStyle(i).direction==="rtl"&&M(B(),E.rtl)},"setupRTL"),da=d(i=>{let s=oa();if(yn()){w("SweetAlert2 requires document to initialize");return}let l=document.createElement("div");l.className=E.container,s&&M(l,E["no-transition"]),j(l,sa);let h=la(i.target);h.appendChild(l),ua(i),ca(h),ra()},"init"),dt=d((i,s)=>{i instanceof HTMLElement?s.appendChild(i):typeof i=="object"?pa(i,s):i&&j(s,i)},"parseHtmlToContainer"),pa=d((i,s)=>{i.jquery?ha(s,i):j(s,i.toString())},"handleObject"),ha=d((i,s)=>{if(i.textContent="",0 in s)for(let l=0;l in s;l++)i.appendChild(s[l].cloneNode(!0));else i.appendChild(s.cloneNode(!0))},"handleJqueryElem"),Oe=(()=>{if(yn())return!1;let i=document.createElement("div"),s={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(let l in s)if(Object.prototype.hasOwnProperty.call(s,l)&&typeof i.style[l]!="undefined")return s[l];return!1})(),ga=d(()=>{let i=document.createElement("div");i.className=E["scrollbar-measure"],document.body.appendChild(i);let s=i.getBoundingClientRect().width-i.clientWidth;return document.body.removeChild(i),s},"measureScrollbar"),fa=d((i,s)=>{let l=Ge(),h=ke();!s.showConfirmButton&&!s.showDenyButton&&!s.showCancelButton?V(l):U(l),ee(l,s,"actions"),bn(l,h,s),j(h,s.loaderHtml),ee(h,s,"loader")},"renderActions");function bn(i,s,l){let h=Z(),S=de(),F=me();Ke(h,"confirm",l),Ke(S,"deny",l),Ke(F,"cancel",l),_n(h,S,F,l),l.reverseButtons&&(l.toast?(i.insertBefore(F,h),i.insertBefore(S,h)):(i.insertBefore(F,s),i.insertBefore(S,s),i.insertBefore(h,s)))}y(bn,"bi"),d(bn,"renderButtons");function _n(i,s,l,h){if(!h.buttonsStyling)return oe([i,s,l],E.styled);M([i,s,l],E.styled),h.confirmButtonColor&&(i.style.backgroundColor=h.confirmButtonColor,M(i,E["default-outline"])),h.denyButtonColor&&(s.style.backgroundColor=h.denyButtonColor,M(s,E["default-outline"])),h.cancelButtonColor&&(l.style.backgroundColor=h.cancelButtonColor,M(l,E["default-outline"]))}y(_n,"Ci"),d(_n,"handleButtonsStyling");function Ke(i,s,l){Xe(i,l["show".concat(p(s),"Button")],"inline-block"),j(i,l["".concat(s,"ButtonText")]),i.setAttribute("aria-label",l["".concat(s,"ButtonAriaLabel")]),i.className=E[s],ee(i,l,"".concat(s,"Button")),M(i,l["".concat(s,"ButtonClass")])}y(Ke,"Wt"),d(Ke,"renderButton");function En(i,s){typeof s=="string"?i.style.background=s:s||M([document.documentElement,document.body],E["no-backdrop"])}y(En,"yi"),d(En,"handleBackdropParam");function kn(i,s){s in E?M(i,E[s]):(f('The "position" parameter is not valid, defaulting to "center"'),M(i,E.center))}y(kn,"Fi"),d(kn,"handlePositionParam");function Sn(i,s){if(s&&typeof s=="string"){let l="grow-".concat(s);l in E&&M(i,E[l])}}y(Sn,"xi"),d(Sn,"handleGrowParam");let ma=d((i,s)=>{let l=B();!l||(En(l,s.backdrop),kn(l,s.position),Sn(l,s.grow),ee(l,s,"container"))},"renderContainer");var I={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};let wa=["input","file","range","select","radio","checkbox","textarea"],va=d((i,s)=>{let l=q(),h=I.innerParams.get(i),S=!h||s.input!==h.input;wa.forEach(F=>{let H=E[F],K=re(l,H);_a(F,s.inputAttributes),K.className=H,S&&V(K)}),s.input&&(S&&ya(s),Ea(s))},"renderInput"),ya=d(i=>{if(!Q[i.input])return w('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(i.input,'"'));let s=Cn(i.input),l=Q[i.input](s,i);U(l),setTimeout(()=>{gn(l)})},"showInput"),ba=d(i=>{for(let s=0;s<i.attributes.length;s++){let l=i.attributes[s].name;["type","value","style"].includes(l)||i.removeAttribute(l)}},"removeAttributes"),_a=d((i,s)=>{let l=ut(q(),i);if(l){ba(l);for(let h in s)l.setAttribute(h,s[h])}},"setAttributes"),Ea=d(i=>{let s=Cn(i.input);i.customClass&&M(s,i.customClass.input)},"setCustomClass"),pt=d((i,s)=>{(!i.placeholder||s.inputPlaceholder)&&(i.placeholder=s.inputPlaceholder)},"setInputPlaceholder"),Me=d((i,s,l)=>{if(l.inputLabel){i.id=E.input;let h=document.createElement("label"),S=E["input-label"];h.setAttribute("for",i.id),h.className=S,M(h,l.customClass.inputLabel),h.innerText=l.inputLabel,s.insertAdjacentElement("beforebegin",h)}},"setInputLabel"),Cn=d(i=>{let s=E[i]?E[i]:E.input;return re(q(),s)},"getInputContainer"),Q={};Q.text=Q.email=Q.password=Q.number=Q.tel=Q.url=(i,s)=>(typeof s.inputValue=="string"||typeof s.inputValue=="number"?i.value=s.inputValue:k(s.inputValue)||f('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof s.inputValue,'"')),Me(i,i,s),pt(i,s),i.type=s.input,i),Q.file=(i,s)=>(Me(i,i,s),pt(i,s),i),Q.range=(i,s)=>{let l=i.querySelector("input"),h=i.querySelector("output");return l.value=s.inputValue,l.type=s.input,h.value=s.inputValue,Me(l,i,s),i},Q.select=(i,s)=>{if(i.textContent="",s.inputPlaceholder){let l=document.createElement("option");j(l,s.inputPlaceholder),l.value="",l.disabled=!0,l.selected=!0,i.appendChild(l)}return Me(i,i,s),i},Q.radio=i=>(i.textContent="",i),Q.checkbox=(i,s)=>{let l=ut(q(),"checkbox");l.value=1,l.id=E.checkbox,l.checked=Boolean(s.inputValue);let h=i.querySelector("span");return j(h,s.inputPlaceholder),i},Q.textarea=(i,s)=>{i.value=s.inputValue,pt(i,s),Me(i,i,s);let l=d(h=>parseInt(window.getComputedStyle(h).marginLeft)+parseInt(window.getComputedStyle(h).marginRight),"getMargin");return setTimeout(()=>{if("MutationObserver"in window){let h=parseInt(window.getComputedStyle(q()).width),S=d(()=>{let F=i.offsetWidth+l(i);F>h?q().style.width="".concat(F,"px"):q().style.width=null},"textareaResizeHandler");new MutationObserver(S).observe(i,{attributes:!0,attributeFilter:["style"]})}}),i};let ka=d((i,s)=>{let l=J();ee(l,s,"htmlContainer"),s.html?(dt(s.html,l),U(l,"block")):s.text?(l.textContent=s.text,U(l,"block")):V(l),va(i,s)},"renderContent"),Sa=d((i,s)=>{let l=hn();Xe(l,s.footer),s.footer&&dt(s.footer,l),ee(l,s,"footer")},"renderFooter"),Ca=d((i,s)=>{let l=ot();j(l,s.closeButtonHtml),ee(l,s,"closeButton"),Xe(l,s.showCloseButton),l.setAttribute("aria-label",s.closeButtonAriaLabel)},"renderCloseButton"),xa=d((i,s)=>{let l=I.innerParams.get(i),h=fe();if(l&&s.icon===l.icon){Fn(h,s),xn(h,s);return}if(!s.icon&&!s.iconHtml)return V(h);if(s.icon&&Object.keys(se).indexOf(s.icon)===-1)return w('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(s.icon,'"')),V(h);U(h),Fn(h,s),xn(h,s),M(h,s.showClass.icon)},"renderIcon"),xn=d((i,s)=>{for(let l in se)s.icon!==l&&oe(i,se[l]);M(i,se[s.icon]),Da(i,s),Fa(),ee(i,s,"icon")},"applyStyles"),Fa=d(()=>{let i=q(),s=window.getComputedStyle(i).getPropertyValue("background-color"),l=i.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let h=0;h<l.length;h++)l[h].style.backgroundColor=s},"adjustSuccessIconBackgoundColor"),Fn=d((i,s)=>{i.textContent="",s.iconHtml?j(i,Dn(s.iconHtml)):s.icon==="success"?j(i,`
      <div class="swal2-success-circular-line-left"></div>
      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
      <div class="swal2-success-circular-line-right"></div>
    `):s.icon==="error"?j(i,`
      <span class="swal2-x-mark">
        <span class="swal2-x-mark-line-left"></span>
        <span class="swal2-x-mark-line-right"></span>
      </span>
    `):j(i,Dn({question:"?",warning:"!",info:"i"}[s.icon]))},"setContent"),Da=d((i,s)=>{if(s.iconColor){i.style.color=s.iconColor,i.style.borderColor=s.iconColor;for(let l of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])mn(i,l,"backgroundColor",s.iconColor);mn(i,".swal2-success-ring","borderColor",s.iconColor)}},"setColor"),Dn=d(i=>'<div class="'.concat(E["icon-content"],'">').concat(i,"</div>"),"iconContent"),Ta=d((i,s)=>{let l=Ve();if(!s.imageUrl)return V(l);U(l,""),l.setAttribute("src",s.imageUrl),l.setAttribute("alt",s.imageAlt),Ie(l,"width",s.imageWidth),Ie(l,"height",s.imageHeight),l.className=E.image,ee(l,s,"image")},"renderImage"),Pa=d(i=>{let s=document.createElement("li");return M(s,E["progress-step"]),j(s,i),s},"createStepElement"),La=d(i=>{let s=document.createElement("li");return M(s,E["progress-step-line"]),i.progressStepsDistance&&(s.style.width=i.progressStepsDistance),s},"createLineElement"),Aa=d((i,s)=>{let l=pn();if(!s.progressSteps||s.progressSteps.length===0)return V(l);U(l),l.textContent="",s.currentProgressStep>=s.progressSteps.length&&f("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.progressSteps.forEach((h,S)=>{let F=Pa(h);if(l.appendChild(F),S===s.currentProgressStep&&M(F,E["active-progress-step"]),S!==s.progressSteps.length-1){let H=La(s);l.appendChild(H)}})},"renderProgressSteps"),Ia=d((i,s)=>{let l=Pe();Xe(l,s.title||s.titleText,"block"),s.title&&dt(s.title,l),s.titleText&&(l.innerText=s.titleText),ee(l,s,"title")},"renderTitle"),Oa=d((i,s)=>{let l=B(),h=q();s.toast?(Ie(l,"width",s.width),h.style.width="100%",h.insertBefore(ke(),fe())):Ie(h,"width",s.width),Ie(h,"padding",s.padding),s.background&&(h.style.background=s.background),V(ze()),Ma(h,s)},"renderPopup"),Ma=d((i,s)=>{i.className="".concat(E.popup," ").concat(Y(i)?s.showClass.popup:""),s.toast?(M([document.documentElement,document.body],E["toast-shown"]),M(i,E.toast)):M(i,E.modal),ee(i,s,"popup"),typeof s.customClass=="string"&&M(i,s.customClass),s.icon&&M(i,E["icon-".concat(s.icon)])},"addClasses"),Tn=d((i,s)=>{Oa(i,s),ma(i,s),Aa(i,s),xa(i,s),Ta(i,s),Ia(i,s),Ca(i,s),ka(i,s),fa(i,s),Sa(i,s),typeof s.didRender=="function"&&s.didRender(q())},"render"),Ra=d(()=>Y(q()),"isVisible$1"),Pn=d(()=>Z()&&Z().click(),"clickConfirm"),qa=d(()=>de()&&de().click(),"clickDeny"),Na=d(()=>me()&&me().click(),"clickCancel");function Ln(){let i=this;for(var s=arguments.length,l=new Array(s),h=0;h<s;h++)l[h]=arguments[h];return new i(...l)}y(Ln,"Ki"),d(Ln,"fire");function An(i){class s extends this{_main(h,S){return super._main(h,Object.assign({},i,S))}}return y(s,"n"),d(s,"MixinSwal"),s}y(An,"Yi"),d(An,"mixin");let Ce=d(i=>{let s=q();s||ye.fire(),s=q();let l=ke();Le()?V(fe()):Ba(s,i),U(l),s.setAttribute("data-loading",!0),s.setAttribute("aria-busy",!0),s.focus()},"showLoading"),Ba=d((i,s)=>{let l=Ge(),h=ke();!s&&Y(Z())&&(s=Z()),U(l),s&&(V(s),h.setAttribute("data-button-to-replace",s.className)),h.parentNode.insertBefore(h,s),M([i,l],E.loading)},"replaceButton"),$a=100,P={},Ha=d(()=>{P.previousActiveElement&&P.previousActiveElement.focus?(P.previousActiveElement.focus(),P.previousActiveElement=null):document.body&&document.body.focus()},"focusPreviousActiveElement"),Ua=d(i=>new Promise(s=>{if(!i)return s();let l=window.scrollX,h=window.scrollY;P.restoreFocusTimeout=setTimeout(()=>{Ha(),s()},$a),window.scrollTo(l,h)}),"restoreActiveElement"),ja=d(()=>P.timeout&&P.timeout.getTimerLeft(),"getTimerLeft"),In=d(()=>{if(P.timeout)return aa(),P.timeout.stop()},"stopTimer"),On=d(()=>{if(P.timeout){let i=P.timeout.start();return ct(i),i}},"resumeTimer"),Va=d(()=>{let i=P.timeout;return i&&(i.running?In():On())},"toggleTimer"),za=d(i=>{if(P.timeout){let s=P.timeout.increase(i);return ct(s,!0),s}},"increaseTimer"),Ga=d(()=>P.timeout&&P.timeout.isRunning(),"isTimerRunning"),Mn=!1,ht={};function Rn(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";ht[i]=this,Mn||(document.body.addEventListener("click",Qa),Mn=!0)}y(Rn,"oo"),d(Rn,"bindClickHandler");let Qa=d(i=>{for(let s=i.target;s&&s!==document;s=s.parentNode)for(let l in ht){let h=s.getAttribute(l);if(h){ht[l].fire({template:h});return}}},"bodyClickListener"),xe={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Xa=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ka={},Wa=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],qn=d(i=>Object.prototype.hasOwnProperty.call(xe,i),"isValidParameter"),Ya=d(i=>Xa.indexOf(i)!==-1,"isUpdatableParameter"),gt=d(i=>Ka[i],"isDeprecatedParameter"),Ja=d(i=>{qn(i)||f('Unknown parameter "'.concat(i,'"'))},"checkIfParamIsValid"),Za=d(i=>{Wa.includes(i)&&f('The parameter "'.concat(i,'" is incompatible with toasts'))},"checkIfToastParamIsValid"),es=d(i=>{gt(i)&&o(i,gt(i))},"checkIfParamIsDeprecated"),ts=d(i=>{!i.backdrop&&i.allowOutsideClick&&f('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let s in i)Ja(s),i.toast&&Za(s),es(s)},"showWarningsForParams");var ns=Object.freeze({isValidParameter:qn,isUpdatableParameter:Ya,isDeprecatedParameter:gt,argsToParams:L,isVisible:Ra,clickConfirm:Pn,clickDeny:qa,clickCancel:Na,getContainer:B,getPopup:q,getTitle:Pe,getHtmlContainer:J,getImage:Ve,getIcon:fe,getInputLabel:Zi,getCloseButton:ot,getActions:Ge,getConfirmButton:Z,getDenyButton:de,getCancelButton:me,getLoader:ke,getFooter:hn,getTimerProgressBar:Qe,getFocusableElements:rt,getValidationMessage:ze,isLoading:ta,fire:Ln,mixin:An,showLoading:Ce,enableLoading:Ce,getTimerLeft:ja,stopTimer:In,resumeTimer:On,toggleTimer:Va,increaseTimer:za,isTimerRunning:Ga,bindClickHandler:Rn});function ft(){let i=I.innerParams.get(this);if(!i)return;let s=I.domCache.get(this);V(s.loader),Le()?i.icon&&U(fe()):is(s),oe([s.popup,s.actions],E.loading),s.popup.removeAttribute("aria-busy"),s.popup.removeAttribute("data-loading"),s.confirmButton.disabled=!1,s.denyButton.disabled=!1,s.cancelButton.disabled=!1}y(ft,"Pn"),d(ft,"hideLoading");let is=d(i=>{let s=i.popup.getElementsByClassName(i.loader.getAttribute("data-button-to-replace"));s.length?U(s[0],"inline-block"):ia()&&V(i.actions)},"showRelatedButton");function Nn(i){let s=I.innerParams.get(i||this),l=I.domCache.get(i||this);return l?ut(l.popup,s.input):null}y(Nn,"vo"),d(Nn,"getInput$1");let as=d(()=>{Se.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(Se.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Se.previousBodyPadding+ga(),"px"))},"fixScrollbar"),ss=d(()=>{Se.previousBodyPadding!==null&&(document.body.style.paddingRight="".concat(Se.previousBodyPadding,"px"),Se.previousBodyPadding=null)},"undoScrollbar"),os=d(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!Ae(document.body,E.iosfix)){let i=document.body.scrollTop;document.body.style.top="".concat(i*-1,"px"),M(document.body,E.iosfix),ls(),rs()}},"iOSfix"),rs=d(()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){let i=44;q().scrollHeight>window.innerHeight-i&&(B().style.paddingBottom="".concat(i,"px"))}},"addBottomPaddingForTallPopups"),ls=d(()=>{let i=B(),s;i.ontouchstart=l=>{s=us(l)},i.ontouchmove=l=>{s&&(l.preventDefault(),l.stopPropagation())}},"lockBodyScroll"),us=d(i=>{let s=i.target,l=B();return cs(i)||ds(i)?!1:s===l||!wn(l)&&s.tagName!=="INPUT"&&s.tagName!=="TEXTAREA"&&!(wn(J())&&J().contains(s))},"shouldPreventTouchMove"),cs=d(i=>i.touches&&i.touches.length&&i.touches[0].touchType==="stylus","isStylys"),ds=d(i=>i.touches&&i.touches.length>1,"isZoom"),ps=d(()=>{if(Ae(document.body,E.iosfix)){let i=parseInt(document.body.style.top,10);oe(document.body,E.iosfix),document.body.style.top="",document.body.scrollTop=i*-1}},"undoIOSfix"),hs=d(()=>{g(document.body.children).forEach(i=>{i===B()||i.contains(B())||(i.hasAttribute("aria-hidden")&&i.setAttribute("data-previous-aria-hidden",i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))})},"setAriaHidden"),Bn=d(()=>{g(document.body.children).forEach(i=>{i.hasAttribute("data-previous-aria-hidden")?(i.setAttribute("aria-hidden",i.getAttribute("data-previous-aria-hidden")),i.removeAttribute("data-previous-aria-hidden")):i.removeAttribute("aria-hidden")})},"unsetAriaHidden");var Re={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function mt(i,s,l,h){Le()?Vn(i,h):(Ua(l).then(()=>Vn(i,h)),P.keydownTarget.removeEventListener("keydown",P.keydownHandler,{capture:P.keydownListenerCapture}),P.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(s.setAttribute("style","display:none !important"),s.removeAttribute("class"),s.innerHTML=""):s.remove(),lt()&&(ss(),ps(),Bn()),$n()}y(mt,"_n"),d(mt,"removePopupAndResetState");function $n(){oe([document.documentElement,document.body],[E.shown,E["height-auto"],E["no-backdrop"],E["toast-shown"]])}y($n,"Lo"),d($n,"removeBodyClasses");function qe(i){i=fs(i);let s=Re.swalPromiseResolve.get(this),l=gs(this);this.isAwaitingPromise()?i.isDismissed||(jn(this),s(i)):l&&s(i)}y(qe,"mt"),d(qe,"close");function Hn(){return!!I.awaitingPromise.get(this)}y(Hn,"Do"),d(Hn,"isAwaitingPromise");let gs=d(i=>{let s=q();if(!s)return!1;let l=I.innerParams.get(i);if(!l||Ae(s,l.hideClass.popup))return!1;oe(s,l.showClass.popup),M(s,l.hideClass.popup);let h=B();return oe(h,l.showClass.backdrop),M(h,l.hideClass.backdrop),ms(i,s,l),!0},"triggerClosePopup");function Un(i){let s=Re.swalPromiseReject.get(this);jn(this),s&&s(i)}y(Un,"Po"),d(Un,"rejectPromise");let jn=d(i=>{i.isAwaitingPromise()&&(I.awaitingPromise.delete(i),I.innerParams.get(i)||i._destroy())},"handleAwaitingPromise"),fs=d(i=>typeof i=="undefined"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},i),"prepareResolveValue"),ms=d((i,s,l)=>{let h=B(),S=Oe&&vn(s);typeof l.willClose=="function"&&l.willClose(s),S?ws(i,s,h,l.returnFocus,l.didClose):mt(i,h,l.returnFocus,l.didClose)},"handlePopupAnimation"),ws=d((i,s,l,h,S)=>{P.swalCloseEventFinishedCallback=mt.bind(null,i,l,h,S),s.addEventListener(Oe,function(F){F.target===s&&(P.swalCloseEventFinishedCallback(),delete P.swalCloseEventFinishedCallback)})},"animatePopup"),Vn=d((i,s)=>{setTimeout(()=>{typeof s=="function"&&s.bind(i.params)(),i._destroy()})},"triggerDidCloseAndDispose");function wt(i,s,l){let h=I.domCache.get(i);s.forEach(S=>{h[S].disabled=l})}y(wt,"Hn"),d(wt,"setButtonsDisabled");function vt(i,s){if(!i)return!1;if(i.type==="radio"){let l=i.parentNode.parentNode.querySelectorAll("input");for(let h=0;h<l.length;h++)l[h].disabled=s}else i.disabled=s}y(vt,"Rn"),d(vt,"setInputDisabled");function zn(){wt(this,["confirmButton","denyButton","cancelButton"],!1)}y(zn,"Ao"),d(zn,"enableButtons");function Gn(){wt(this,["confirmButton","denyButton","cancelButton"],!0)}y(Gn,"Ho"),d(Gn,"disableButtons");function Qn(){return vt(this.getInput(),!1)}y(Qn,"Ro"),d(Qn,"enableInput");function Xn(){return vt(this.getInput(),!0)}y(Xn,"No"),d(Xn,"disableInput");function Kn(i){let s=I.domCache.get(this),l=I.innerParams.get(this);j(s.validationMessage,i),s.validationMessage.className=E["validation-message"],l.customClass&&l.customClass.validationMessage&&M(s.validationMessage,l.customClass.validationMessage),U(s.validationMessage);let h=this.getInput();h&&(h.setAttribute("aria-invalid",!0),h.setAttribute("aria-describedby",E["validation-message"]),gn(h),M(h,E.inputerror))}y(Kn,"Uo"),d(Kn,"showValidationMessage");function Wn(){let i=I.domCache.get(this);i.validationMessage&&V(i.validationMessage);let s=this.getInput();s&&(s.removeAttribute("aria-invalid"),s.removeAttribute("aria-describedby"),oe(s,E.inputerror))}y(Wn,"jo"),d(Wn,"resetValidationMessage$1");function Yn(){return I.domCache.get(this).progressSteps}y(Yn,"Bo"),d(Yn,"getProgressSteps$1");class yt{constructor(s,l){this.callback=s,this.remaining=l,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(s){let l=this.running;return l&&this.stop(),this.remaining+=s,l&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}y(yt,"Nn"),d(yt,"Timer");var Jn={email:(i,s)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(i)?Promise.resolve():Promise.resolve(s||"Invalid email address"),url:(i,s)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(i)?Promise.resolve():Promise.resolve(s||"Invalid URL")};function Zn(i){i.inputValidator||Object.keys(Jn).forEach(s=>{i.input===s&&(i.inputValidator=Jn[s])})}y(Zn,"qo"),d(Zn,"setDefaultInputValidators");function ei(i){(!i.target||typeof i.target=="string"&&!document.querySelector(i.target)||typeof i.target!="string"&&!i.target.appendChild)&&(f('Target parameter is not valid, defaulting to "body"'),i.target="body")}y(ei,"$o"),d(ei,"validateCustomTargetElement");function ti(i){Zn(i),i.showLoaderOnConfirm&&!i.preConfirm&&f(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),ei(i),typeof i.title=="string"&&(i.title=i.title.split(`
`).join("<br />")),da(i)}y(ti,"Vo"),d(ti,"setParameters");let ni=["swal-title","swal-html","swal-footer"],vs=d(i=>{let s=typeof i.template=="string"?document.querySelector(i.template):i.template;if(!s)return{};let l=s.content;return Cs(l),Object.assign(ys(l),bs(l),_s(l),Es(l),ks(l),Ss(l,ni))},"getTemplateParams"),ys=d(i=>{let s={};return g(i.querySelectorAll("swal-param")).forEach(l=>{ve(l,["name","value"]);let h=l.getAttribute("name"),S=l.getAttribute("value");typeof xe[h]=="boolean"&&S==="false"&&(S=!1),typeof xe[h]=="object"&&(S=JSON.parse(S)),s[h]=S}),s},"getSwalParams"),bs=d(i=>{let s={};return g(i.querySelectorAll("swal-button")).forEach(l=>{ve(l,["type","color","aria-label"]);let h=l.getAttribute("type");s["".concat(h,"ButtonText")]=l.innerHTML,s["show".concat(p(h),"Button")]=!0,l.hasAttribute("color")&&(s["".concat(h,"ButtonColor")]=l.getAttribute("color")),l.hasAttribute("aria-label")&&(s["".concat(h,"ButtonAriaLabel")]=l.getAttribute("aria-label"))}),s},"getSwalButtons"),_s=d(i=>{let s={},l=i.querySelector("swal-image");return l&&(ve(l,["src","width","height","alt"]),l.hasAttribute("src")&&(s.imageUrl=l.getAttribute("src")),l.hasAttribute("width")&&(s.imageWidth=l.getAttribute("width")),l.hasAttribute("height")&&(s.imageHeight=l.getAttribute("height")),l.hasAttribute("alt")&&(s.imageAlt=l.getAttribute("alt"))),s},"getSwalImage"),Es=d(i=>{let s={},l=i.querySelector("swal-icon");return l&&(ve(l,["type","color"]),l.hasAttribute("type")&&(s.icon=l.getAttribute("type")),l.hasAttribute("color")&&(s.iconColor=l.getAttribute("color")),s.iconHtml=l.innerHTML),s},"getSwalIcon"),ks=d(i=>{let s={},l=i.querySelector("swal-input");l&&(ve(l,["type","label","placeholder","value"]),s.input=l.getAttribute("type")||"text",l.hasAttribute("label")&&(s.inputLabel=l.getAttribute("label")),l.hasAttribute("placeholder")&&(s.inputPlaceholder=l.getAttribute("placeholder")),l.hasAttribute("value")&&(s.inputValue=l.getAttribute("value")));let h=i.querySelectorAll("swal-input-option");return h.length&&(s.inputOptions={},g(h).forEach(S=>{ve(S,["value"]);let F=S.getAttribute("value"),H=S.innerHTML;s.inputOptions[F]=H})),s},"getSwalInput"),Ss=d((i,s)=>{let l={};for(let h in s){let S=s[h],F=i.querySelector(S);F&&(ve(F,[]),l[S.replace(/^swal-/,"")]=F.innerHTML.trim())}return l},"getSwalStringParams"),Cs=d(i=>{let s=ni.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);g(i.children).forEach(l=>{let h=l.tagName.toLowerCase();s.indexOf(h)===-1&&f("Unrecognized element <".concat(h,">"))})},"showWarningsForElements"),ve=d((i,s)=>{g(i.attributes).forEach(l=>{s.indexOf(l.name)===-1&&f(['Unrecognized attribute "'.concat(l.name,'" on <').concat(i.tagName.toLowerCase(),">."),"".concat(s.length?"Allowed attributes are: ".concat(s.join(", ")):"To set the value, use HTML within the element.")])})},"showWarningsForAttributes"),ii=10,xs=d(i=>{let s=B(),l=q();typeof i.willOpen=="function"&&i.willOpen(l);let h=window.getComputedStyle(document.body).overflowY;Ts(s,l,i),setTimeout(()=>{Fs(s,l)},ii),lt()&&(Ds(s,i.scrollbarPadding,h),hs()),!Le()&&!P.previousActiveElement&&(P.previousActiveElement=document.activeElement),typeof i.didOpen=="function"&&setTimeout(()=>i.didOpen(l)),oe(s,E["no-transition"])},"openPopup"),ai=d(i=>{let s=q();if(i.target!==s)return;let l=B();s.removeEventListener(Oe,ai),l.style.overflowY="auto"},"swalOpenAnimationFinished"),Fs=d((i,s)=>{Oe&&vn(s)?(i.style.overflowY="hidden",s.addEventListener(Oe,ai)):i.style.overflowY="auto"},"setScrollingVisibility"),Ds=d((i,s,l)=>{os(),s&&l!=="hidden"&&as(),setTimeout(()=>{i.scrollTop=0})},"fixScrollContainer"),Ts=d((i,s,l)=>{M(i,l.showClass.backdrop),s.style.setProperty("opacity","0","important"),U(s,"grid"),setTimeout(()=>{M(s,l.showClass.popup),s.style.removeProperty("opacity")},ii),M([document.documentElement,document.body],E.shown),l.heightAuto&&l.backdrop&&!l.toast&&M([document.documentElement,document.body],E["height-auto"])},"addClasses$1"),Ps=d((i,s)=>{s.input==="select"||s.input==="radio"?Ms(i,s):["text","email","number","tel","textarea"].includes(s.input)&&(m(s.inputValue)||k(s.inputValue))&&(Ce(Z()),Rs(i,s))},"handleInputOptionsAndValue"),Ls=d((i,s)=>{let l=i.getInput();if(!l)return null;switch(s.input){case"checkbox":return As(l);case"radio":return Is(l);case"file":return Os(l);default:return s.inputAutoTrim?l.value.trim():l.value}},"getInputValue"),As=d(i=>i.checked?1:0,"getCheckboxValue"),Is=d(i=>i.checked?i.value:null,"getRadioValue"),Os=d(i=>i.files.length?i.getAttribute("multiple")!==null?i.files:i.files[0]:null,"getFileValue"),Ms=d((i,s)=>{let l=q(),h=d(S=>qs[s.input](l,bt(S),s),"processInputOptions");m(s.inputOptions)||k(s.inputOptions)?(Ce(Z()),_(s.inputOptions).then(S=>{i.hideLoading(),h(S)})):typeof s.inputOptions=="object"?h(s.inputOptions):w("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof s.inputOptions))},"handleInputOptions"),Rs=d((i,s)=>{let l=i.getInput();V(l),_(s.inputValue).then(h=>{l.value=s.input==="number"?parseFloat(h)||0:"".concat(h),U(l),l.focus(),i.hideLoading()}).catch(h=>{w("Error in inputValue promise: ".concat(h)),l.value="",U(l),l.focus(),i.hideLoading()})},"handleInputValue"),qs={select:(i,s,l)=>{let h=re(i,E.select),S=d((F,H,K)=>{let G=document.createElement("option");G.value=K,j(G,H),G.selected=si(K,l.inputValue),F.appendChild(G)},"renderOption");s.forEach(F=>{let H=F[0],K=F[1];if(Array.isArray(K)){let G=document.createElement("optgroup");G.label=H,G.disabled=!1,h.appendChild(G),K.forEach(Fe=>S(G,Fe[1],Fe[0]))}else S(h,K,H)}),h.focus()},radio:(i,s,l)=>{let h=re(i,E.radio);s.forEach(F=>{let H=F[0],K=F[1],G=document.createElement("input"),Fe=document.createElement("label");G.type="radio",G.name=E.radio,G.value=H,si(H,l.inputValue)&&(G.checked=!0);let xt=document.createElement("span");j(xt,K),xt.className=E.label,Fe.appendChild(G),Fe.appendChild(xt),h.appendChild(Fe)});let S=h.querySelectorAll("input");S.length&&S[0].focus()}},bt=d(i=>{let s=[];return typeof Map!="undefined"&&i instanceof Map?i.forEach((l,h)=>{let S=l;typeof S=="object"&&(S=bt(S)),s.push([h,S])}):Object.keys(i).forEach(l=>{let h=i[l];typeof h=="object"&&(h=bt(h)),s.push([l,h])}),s},"formatInputOptions"),si=d((i,s)=>s&&s.toString()===i.toString(),"isSelected"),Ns=d(i=>{let s=I.innerParams.get(i);i.disableButtons(),s.input?oi(i,"confirm"):Et(i,!0)},"handleConfirmButtonClick"),Bs=d(i=>{let s=I.innerParams.get(i);i.disableButtons(),s.returnInputValueOnDeny?oi(i,"deny"):_t(i,!1)},"handleDenyButtonClick"),$s=d((i,s)=>{i.disableButtons(),s(n.cancel)},"handleCancelButtonClick"),oi=d((i,s)=>{let l=I.innerParams.get(i),h=Ls(i,l);l.inputValidator?Hs(i,h,s):i.getInput().checkValidity()?s==="deny"?_t(i,h):Et(i,h):(i.enableButtons(),i.showValidationMessage(l.validationMessage))},"handleConfirmOrDenyWithInput"),Hs=d((i,s,l)=>{let h=I.innerParams.get(i);i.disableInput(),Promise.resolve().then(()=>_(h.inputValidator(s,h.validationMessage))).then(S=>{i.enableButtons(),i.enableInput(),S?i.showValidationMessage(S):l==="deny"?_t(i,s):Et(i,s)})},"handleInputValidator"),_t=d((i,s)=>{let l=I.innerParams.get(i||void 0);l.showLoaderOnDeny&&Ce(de()),l.preDeny?(I.awaitingPromise.set(i||void 0,!0),Promise.resolve().then(()=>_(l.preDeny(s,l.validationMessage))).then(h=>{h===!1?i.hideLoading():i.closePopup({isDenied:!0,value:typeof h=="undefined"?s:h})}).catch(h=>li(i||void 0,h))):i.closePopup({isDenied:!0,value:s})},"deny"),ri=d((i,s)=>{i.closePopup({isConfirmed:!0,value:s})},"succeedWith"),li=d((i,s)=>{i.rejectPromise(s)},"rejectWith"),Et=d((i,s)=>{let l=I.innerParams.get(i||void 0);l.showLoaderOnConfirm&&Ce(),l.preConfirm?(i.resetValidationMessage(),I.awaitingPromise.set(i||void 0,!0),Promise.resolve().then(()=>_(l.preConfirm(s,l.validationMessage))).then(h=>{Y(ze())||h===!1?i.hideLoading():ri(i,typeof h=="undefined"?s:h)}).catch(h=>li(i||void 0,h))):ri(i,s)},"confirm"),Us=d((i,s,l,h)=>{s.keydownTarget&&s.keydownHandlerAdded&&(s.keydownTarget.removeEventListener("keydown",s.keydownHandler,{capture:s.keydownListenerCapture}),s.keydownHandlerAdded=!1),l.toast||(s.keydownHandler=S=>Vs(i,S,h),s.keydownTarget=l.keydownListenerCapture?window:q(),s.keydownListenerCapture=l.keydownListenerCapture,s.keydownTarget.addEventListener("keydown",s.keydownHandler,{capture:s.keydownListenerCapture}),s.keydownHandlerAdded=!0)},"addKeydownHandler"),kt=d((i,s,l)=>{let h=rt();if(h.length)return s=s+l,s===h.length?s=0:s===-1&&(s=h.length-1),h[s].focus();q().focus()},"setFocus"),ui=["ArrowRight","ArrowDown"],js=["ArrowLeft","ArrowUp"],Vs=d((i,s,l)=>{let h=I.innerParams.get(i);!h||(h.stopKeydownPropagation&&s.stopPropagation(),s.key==="Enter"?zs(i,s,h):s.key==="Tab"?Gs(s,h):[...ui,...js].includes(s.key)?Qs(s.key):s.key==="Escape"&&Xs(s,h,l))},"keydownHandler"),zs=d((i,s,l)=>{if(!s.isComposing&&s.target&&i.getInput()&&s.target.outerHTML===i.getInput().outerHTML){if(["textarea","file"].includes(l.input))return;Pn(),s.preventDefault()}},"handleEnter"),Gs=d((i,s)=>{let l=i.target,h=rt(),S=-1;for(let F=0;F<h.length;F++)if(l===h[F]){S=F;break}i.shiftKey?kt(s,S,-1):kt(s,S,1),i.stopPropagation(),i.preventDefault()},"handleTab"),Qs=d(i=>{let s=Z(),l=de(),h=me();if(![s,l,h].includes(document.activeElement))return;let S=ui.includes(i)?"nextElementSibling":"previousElementSibling",F=document.activeElement[S];F&&F.focus()},"handleArrows"),Xs=d((i,s,l)=>{u(s.allowEscapeKey)&&(i.preventDefault(),l(n.esc))},"handleEsc"),Ks=d((i,s,l)=>{I.innerParams.get(i).toast?Ws(i,s,l):(Ys(s),Js(s),Zs(i,s,l))},"handlePopupClick"),Ws=d((i,s,l)=>{s.popup.onclick=()=>{let h=I.innerParams.get(i);h.showConfirmButton||h.showDenyButton||h.showCancelButton||h.showCloseButton||h.timer||h.input||l(n.close)}},"handleToastClick"),We=!1,Ys=d(i=>{i.popup.onmousedown=()=>{i.container.onmouseup=function(s){i.container.onmouseup=void 0,s.target===i.container&&(We=!0)}}},"handleModalMousedown"),Js=d(i=>{i.container.onmousedown=()=>{i.popup.onmouseup=function(s){i.popup.onmouseup=void 0,(s.target===i.popup||i.popup.contains(s.target))&&(We=!0)}}},"handleContainerMousedown"),Zs=d((i,s,l)=>{s.container.onclick=h=>{let S=I.innerParams.get(i);if(We){We=!1;return}h.target===s.container&&u(S.allowOutsideClick)&&l(n.backdrop)}},"handleModalClick");function ci(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ts(Object.assign({},s,i)),P.currentInstance&&(P.currentInstance._destroy(),lt()&&Bn()),P.currentInstance=this;let l=eo(i,s);ti(l),Object.freeze(l),P.timeout&&(P.timeout.stop(),delete P.timeout),clearTimeout(P.restoreFocusTimeout);let h=no(this);return Tn(this,l),I.innerParams.set(this,l),to(this,h,l)}y(ci,"Tr"),d(ci,"_main");let eo=d((i,s)=>{let l=vs(i),h=Object.assign({},xe,s,l,i);return h.showClass=Object.assign({},xe.showClass,h.showClass),h.hideClass=Object.assign({},xe.hideClass,h.hideClass),h},"prepareParams"),to=d((i,s,l)=>new Promise((h,S)=>{let F=d(H=>{i.closePopup({isDismissed:!0,dismiss:H})},"dismissWith");Re.swalPromiseResolve.set(i,h),Re.swalPromiseReject.set(i,S),s.confirmButton.onclick=()=>Ns(i),s.denyButton.onclick=()=>Bs(i),s.cancelButton.onclick=()=>$s(i,F),s.closeButton.onclick=()=>F(n.close),Ks(i,s,F),Us(i,P,l,F),Ps(i,l),xs(l),io(P,l,F),ao(s,l),setTimeout(()=>{s.container.scrollTop=0})}),"swalPromise"),no=d(i=>{let s={popup:q(),container:B(),actions:Ge(),confirmButton:Z(),denyButton:de(),cancelButton:me(),loader:ke(),closeButton:ot(),validationMessage:ze(),progressSteps:pn()};return I.domCache.set(i,s),s},"populateDomCache"),io=d((i,s,l)=>{let h=Qe();V(h),s.timer&&(i.timeout=new yt(()=>{l("timer"),delete i.timeout},s.timer),s.timerProgressBar&&(U(h),setTimeout(()=>{i.timeout&&i.timeout.running&&ct(s.timer)})))},"setupTimer"),ao=d((i,s)=>{if(!s.toast){if(!u(s.allowEnterKey))return oo();so(i,s)||kt(s,-1,1)}},"initFocus"),so=d((i,s)=>s.focusDeny&&Y(i.denyButton)?(i.denyButton.focus(),!0):s.focusCancel&&Y(i.cancelButton)?(i.cancelButton.focus(),!0):s.focusConfirm&&Y(i.confirmButton)?(i.confirmButton.focus(),!0):!1,"focusButton"),oo=d(()=>{document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()},"blurActiveElement");function di(i){let s=q(),l=I.innerParams.get(this);if(!s||Ae(s,l.hideClass.popup))return f("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");let h={};Object.keys(i).forEach(F=>{ye.isUpdatableParameter(F)?h[F]=i[F]:f('Invalid parameter to update: "'.concat(F,`". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js

If you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md`))});let S=Object.assign({},l,h);Tn(this,S),I.innerParams.set(this,S),Object.defineProperties(this,{params:{value:Object.assign({},this.params,i),writable:!1,enumerable:!0}})}y(di,"Ar"),d(di,"update");function pi(){let i=I.domCache.get(this),s=I.innerParams.get(this);if(!s){hi(this);return}i.popup&&P.swalCloseEventFinishedCallback&&(P.swalCloseEventFinishedCallback(),delete P.swalCloseEventFinishedCallback),P.deferDisposalTimer&&(clearTimeout(P.deferDisposalTimer),delete P.deferDisposalTimer),typeof s.didDestroy=="function"&&s.didDestroy(),ro(this)}y(pi,"Hr"),d(pi,"_destroy");let ro=d(i=>{hi(i),delete i.params,delete P.keydownHandler,delete P.keydownTarget,delete P.currentInstance},"disposeSwal"),hi=d(i=>{i.isAwaitingPromise()?(St(I,i),I.awaitingPromise.set(i,!0)):(St(Re,i),St(I,i))},"disposeWeakMaps"),St=d((i,s)=>{for(let l in i)i[l].delete(s)},"unsetWeakMaps");var gi=Object.freeze({hideLoading:ft,disableLoading:ft,getInput:Nn,close:qe,isAwaitingPromise:Hn,rejectPromise:Un,closePopup:qe,closeModal:qe,closeToast:qe,enableButtons:zn,disableButtons:Gn,enableInput:Qn,disableInput:Xn,showValidationMessage:Kn,resetValidationMessage:Wn,getProgressSteps:Yn,_main:ci,update:di,_destroy:pi});let Ct;class pe{constructor(){if(typeof window=="undefined")return;Ct=this;for(var s=arguments.length,l=new Array(s),h=0;h<s;h++)l[h]=arguments[h];let S=Object.freeze(this.constructor.argsToParams(l));Object.defineProperties(this,{params:{value:S,writable:!1,enumerable:!0,configurable:!0}});let F=this._main(this.params);I.promise.set(this,F)}then(s){return I.promise.get(this).then(s)}finally(s){return I.promise.get(this).finally(s)}}y(pe,"me"),d(pe,"SweetAlert"),Object.assign(pe.prototype,gi),Object.assign(pe,ns),Object.keys(gi).forEach(i=>{pe[i]=function(){if(Ct)return Ct[i](...arguments)}}),pe.DismissReason=n,pe.version="11.1.10";let ye=pe;return ye.default=ye,ye}),typeof e!="undefined"&&e.Sweetalert2&&(e.swal=e.sweetAlert=e.Swal=e.SweetAlert=e.Sweetalert2),typeof document!="undefined"&&function(n,r){var c=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(c),c.styleSheet)c.styleSheet.disabled||(c.styleSheet.cssText=r);else try{c.innerHTML=r}catch(p){c.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')}),At=y(class{constructor(e){return this.$request=e,this}run(){return ne(this,null,function*(){return yield fetch(this.getRequest())})}getRequest(){return this.$request}},"Xe");d(At,"FetchAPI");var Gt=y(class{constructor(e){this.list=e}getList(){return this.list}},"Fe");d(Gt,"CommandRegistrar");var T={play:'<svg class="icon tonics-play-outline"><use xlink:href="#tonics-play-outline"></use></svg>',playlist:'<svg class="icon tonics-music-playlist"><use xlink:href="#tonics-music-playlist"></use></svg>',plus:'<svg class="icon tonics-add-new"><use xlink:href="#tonics-add-new"></use></svg>',archive:'<svg class="icon tonics-archive"><use xlink:href="#tonics-archive"></use></svg>',note:'<svg class="icon tonics-note"><use xlink:href="#tonics-note"></use></svg>',notes:'<svg class="icon tonics-multiple-notes"><use xlink:href="#tonics-multiple-notes"></use></svg>',category:'<svg class="icon tonics-categories"><use xlink:href="#tonics-categories"></use></svg>',cog:'<svg class="icon tonics-cog"> <use xlink:href="#tonics-cog"></use></svg>',dashboard:'<svg class="icon tonics-dashboard"> <use xlink:href="#tonics-dashboard"></use></svg>',menu:'<svg class="icon tonics-menu"> <use xlink:href="#tonics-menu"></use></svg>',"trash-can":'<svg class="icon tonics-trash-can"> <use xlink:href="#tonics-trash-can"></use></svg>',cart:'<svg class="icon tonics-cart"> <use xlink:href="#tonics-cart"></use></svg>',widget:'<svg class="icon tonics-widgets"> <use xlink:href="#tonics-widgets"></use></svg>',tools:'<svg class="icon tonics-tools"> <use xlink:href="#tonics-tools"></use></svg>',"toggle-left":'<svg class="icon tonics-toggle-left"> <use xlink:href="#tonics-toggle-left"></use></svg>',"toggle-right":'<svg class="icon tonics-toggle-right"> <use xlink:href="#tonics-toggle-right"></use></svg>',"arrow-down":'<svg class="icon tonics-arrow-down"> <use xlink:href="#tonics-arrow-down"></use></svg>',"arrow-up":'<svg class="icon tonics-arrow-up"> <use xlink:href="#tonics-arrow-up"></use></svg>',"arrow-right":'<svg class="icon tonics-chevron-with-circle-right"> <use xlink:href="#tonics-chevron-with-circle-right"></use></svg>',"arrow-left":'<svg class="icon tonics-chevron-with-circle-left"> <use xlink:href="#tonics-chevron-with-circle-left"></use></svg>',"sign-out":'<svg class="icon tonics-sign-out"> <use xlink:href="#tonics-dashboard"></use></svg>',"user-solid-circle":'<svg class="icon tonics-user-solid-circle"> <use xlink:href="#tonics-user-solid-circle"></use></svg>',users:'<svg class="icon tonics-users"> <use xlink:href="#tonics-users"></use></svg>',"profile-settings":'<svg class="icon tonics-profile-settings"><use xlink:href="#tonics-profile-settings"></use></svg>',"more-horizontal":'<svg class="icon tonics-more-horizontal"><use xlink:href="#tonics-more-horizontal"></use></svg>',"more-vertical":'<svg class="icon tonics-more-vertical"><use xlink:href="#tonics-more-vertical"></use></svg>',heart:'<svg class="icon tonics-heart"> <use xlink:href="#tonics-heart"></use></svg>',"dots-two-vertical":'<svg class="icon tonics-dots-two-vertical"><use xlink:href="#tonics-dots-two-vertical"></use></svg>',"dots-two-horizontal":'<svg class="icon tonics-dots-two-horizontal"><use xlink:href="#tonics-dots-two-horizontal"></use></svg>',"heart-fill":'<svg class="icon tonics-heart-fill"> <use xlink:href="#tonics-heart-fill"></use></svg>',pending:'<svg class="icon tonics-pending"><use xlink:href="#tonics-pending"></use></svg>',remove:'<svg class="icon tonics-remove"> <use xlink:href="#tonics-remove"></use></svg>',"shopping-cart":'<svg class="icon tonics-shopping-cart"> <use xlink:href="#tonics-shopping-cart"></use></svg>',dollar:'<svg class="icon tonics-dollar"> <use xlink:href="#tonics-dollar"></use></svg>',"align-left":'<svg class="icon tonics-align_left"> <use xlink:href="#tonics-align_left"></use></svg>',"align-right":'<svg class="icon tonics-align_right"> <use xlink:href="#tonics-align_right"></use></svg>',"align-column":'<svg class="icon tonics-align-column"> <use xlink:href="#tonics-align-column"></use></svg>',"align-row":'<svg class="icon tonics-align-row"> <use xlink:href="#tonics-align-row"></use></svg>',MEDIA:{shuffle:'<svg class="icon tonics-shuffle"> <use xlink:href="#tonics-shuffle"></use></svg>',refresh:'<svg class="icon tonics-refresh"> <use xlink:href="#tonics-refresh"></use></svg>',"step-forward":'<svg class="icon tonics-step-forward"> <use xlink:href="#tonics-step-forward"></use></svg>',"step-backward":'<svg class="icon tonics-step-backward"> <use xlink:href="#tonics-step-backward"></use></svg>',"pause-outline":'<svg class="icon tonics-pause-outline"> <use xlink:href="#tonics-pause-outline"></use></svg>',"play-outline":'<svg class="icon tonics-play-outline"> <use xlink:href="#tonics-play-outline"></use></svg>'},SOCIAL:{mail:'<svg class="icon tonics-mail"> <use xlink:href="#tonics-mail"></use></svg>',"google-plus":'<svg class="icon tonics-google-plus"> <use xlink:href="#tonics-google-plus"></use></svg>',hangouts:'<svg class="icon tonics-hangouts"> <use xlink:href="#tonics-hangouts"></use></svg>',facebook:'<svg class="icon tonics-facebook"> <use xlink:href="#tonics-facebook"></use></svg>',instagram:'<svg class="icon tonics-instagram"> <use xlink:href="#tonics-instagram"></use></svg>',whatsapp:'<svg class="icon tonics-whatsapp"> <use xlink:href="#tonics-whatsapp"></use></svg>',telegram:'<svg class="icon tonics-telegram"> <use xlink:href="#tonics-telegram"></use></svg>',renren:'<svg class="icon tonics-renren"> <use xlink:href="#tonics-renren"></use></svg>',rss:'<svg class="icon tonics-rss"> <use xlink:href="#tonics-rss"></use></svg>',twitch:'<svg class="icon tonics-twitch"> <use xlink:href="#tonics-twitch"></use></svg>',vimeo:'<svg class="icon tonics-vimeo"> <use xlink:href="#tonics-vimeo"></use></svg>',flickr:'<svg class="icon tonics-flickr"> <use xlink:href="#tonics-flickr"></use></svg>',dribble:'<svg class="icon tonics-dribble"> <use xlink:href="#tonics-dribble"></use></svg>',behance:'<svg class="icon tonics-behance"> <use xlink:href="#tonics-behance"></use></svg>',deviantart:'<svg class="icon tonics-deviantart"> <use xlink:href="#tonics-deviantart"></use></svg>',"500px":'<svg class="icon tonics-500px"> <use xlink:href="#tonics-500px"></use></svg>',steam:'<svg class="icon tonics-steam"> <use xlink:href="#tonics-steam"></use></svg>',soundcloud:'<svg class="icon tonics-soundcloud"> <use xlink:href="#tonics-soundcloud"></use></svg>',skype:'<svg class="icon tonics-skype"> <use xlink:href="#tonics-skype"></use></svg>',lastfm:'<svg class="icon tonics-lastfm"> <use xlink:href="#tonics-lastfm"></use></svg>',linkedin:'<svg class="icon tonics-linkedin"> <use xlink:href="#tonics-linkedin"></use></svg>',github:'<svg class="icon tonics-github"> <use xlink:href="#tonics-github"></use></svg>',twitter:'<svg class="icon tonics-twitter"> <use xlink:href="#tonics-twitter"></use></svg>',youtube:'<svg class="icon tonics-youtube"> <use xlink:href="#tonics-youtube"></use></svg>',reddit:'<svg class="icon reddit"> <use xlink:href="#tonics-reddit"></use></svg>',delicious:'<svg class="icon tonics-delicious"> <use xlink:href="#tonics-delicious"></use></svg>',stackoverflow:'<svg class="icon tonics-stackoverflow"> <use xlink:href="#tonics-stackoverflow"></use></svg>',pinterest:'<svg class="icon tonics-dashboard"> <use xlink:href="#tonics-pinterest"></use></svg>',xing:'<svg class="icon tonics-dashboard"> <use xlink:href="#tonics-xing"></use></svg>',flattr:'<svg class="icon tonics-flattr"> <use xlink:href="#tonics-flattr"></use></svg>',foursquare:'<svg class="icon tonics-foursquare"> <use xlink:href="#tonics-foursquare"></use></svg>',yelp:'<svg class="icon tonics-yelp"> <use xlink:href="#tonics-yelp"></use></svg>'},FILE:{file:'<svg class="icon tonics-file"> <use xlink:href="#tonics-file"></use></svg>',folder:'<svg class="icon tonics-folder"> <use xlink:href="#tonics-folder"></use></svg>',image:'<svg class="icon tonics-file-image"> <use xlink:href="#tonics-file-image"></use></svg>',"load-more":'<svg class="icon tonics-load-more"> <use xlink:href="#tonics-load-more"></use></svg>',music:'<svg class="icon tonics-music"> <use xlink:href="#tonics-music"></use></svg>',note:'<svg class="icon tonics-note"> <use xlink:href="#tonics-note"></use></svg>',pdf:'<svg class="icon tonics-pdf"> <use xlink:href="#tonics-pdf"></use></svg>',docx:'<svg class="icon tonics-docx"> <use xlink:href="#tonics-docx"></use></svg>',code:'<svg class="icon tonics-code"> <use xlink:href="#tonics-code"></use></svg>',zip:'<svg class="icon tonics-zip"> <use xlink:href="#tonics-zip"></use></svg>',compress:'<svg class="icon tonics-compress"> <use xlink:href="#tonics-compress"></use></svg>',exclamation:'<svg class="icon tonics-exclamation"> <use xlink:href="#tonics-exclamation"></use></svg>'},CONTEXT:{link:'<svg class="icon tonics-download-link"> <use xlink:href="#tonics-download-link"></use></svg>',preview_link:'<svg class="icon tonics-link"> <use xlink:href="#tonics-link"></use></svg>',edit:'<svg class="icon tonics-edit-icon"> <use xlink:href="#tonics-edit-icon"></use></svg>',cut:'<svg class="icon tonics-cut-icon"> <use xlink:href="#tonics-cut"></use></svg>',trash:'<svg class="icon tonics-trash-icon"> <use xlink:href="#tonics-trash-can"></use></svg>',paste:'<svg class="icon tonics-paste-icon"> <use xlink:href="#tonics-paste"></use></svg>',upload:'<svg class="icon tonics-plus-icon"> <use class="svgUse" xlink:href="#tonics-upload-icon"></use></svg>',refresh:'<svg class="icon tonics-refresh"><use class="svgUse" xlink:href="#tonics-refresh"></use></svg>',plus:'<svg class="icon tonics-plus"><use class="svgUse" xlink:href="#tonics-plus2"></use></svg>'}};function C(){return{EDIT_IMAGE_FILE:"EditImageFileEvent",DELETE_FILE:"DeleteFileEvent",RENAME_FILE:"RenameFileEvent",CUT_FILE:"CutFileEvent",PASTE_FILE:"PasteFileEvent",UPLOAD_FILE:"UploadFileEvent",COPY_LINK:"CopyLinkEvent",COPY_PREVIEW_LINK:"CopyPreviewLinkEvent",CREATE_FOLDER:"NewFolderEvent",REFRESH_FOLDER:"RefreshFolderEvent"}}y(C,"w");d(C,"MenuActions");var ie=yo(bo()),A={HEAD:{PARENT:".tonics-main-header-menu",MENU_SECTION:".menu-section",NAV:"#site-navigation"},FILES:{BREADCRUMB:".breadcrumb",CONTEXT:".context-menu",PROGRESS:{CONTAINER:".upload-progress-container",UPLOAD_FILE_CONTAINER:".upload-files",UPLOAD_STRING:".upload-string",PROGRESS_PERCENTAGE:".upload-percentage",CONTROL:{RESUME_PAUSE:".resume-pause",CANCEL:".cancel"}},FILE_MAIN_CONTENT:".tonics-fm-main-content",FILE_PARENT:".tonics-files-parent",FILE_CONTAINER:".tonics-files-container",SINGLE_FILE:"li.tonics-file"},DRIVE:{TOGGLE:".drive-toggle",DRIVE_NAVIGATION:".tonics-fm-nav-menu",DISK_DRIVE_CONTAINER:".tonics-disk-drive-container",DRIVE_FOLDER:".drive-folder",FILE_DISK_DRIVES:".tonics-disk-drive-container",INDIVIDUAL_DRIVE:".tonics-individual-drive",DRIVE_SELECTED:".tonics-drive-selected"},Button:{FILE_LOAD_MORE:".file-load-more"},SEARCH:".filter-search"},Ci=y(class{constructor(e={}){this.$callbacks={},this.http=new XMLHttpRequest,this.headers=e,this.settings()}getCallbacks(){return this.$callbacks}settings(){this.getCallbacks().callbacks={onProgress:null}}checkIfCallbackIsSet(){if(!this.getCallbacks().callbacks)throw new DOMException("No Callbacks exist");return!0}onProgress(e){if(this.checkIfCallbackIsSet())return this.getCallbacks().callbacks.onProgress=e,this}Get(e,t){this.getHttp().open("GET",e,!0),this.setHeaders(),this.getHttp().send();let n=this;this.getHttp().onreadystatechange=function(){try{n.http.readyState===XMLHttpRequest.DONE&&(n.http.status===200?t(null,n.http.response):t(n.http.response))}catch(r){t("Something Went Wrong: "+r.description)}}}Post(e,t,n){this.getHttp().open("POST",e,!0),this.setHeaders(),this.getHttp().send(t);let r=this,c=r.getCallbacks().callbacks.onProgress;c!==null&&typeof c=="function"&&this.getHttp().upload.addEventListener("progress",function(p){c(p)});try{this.http.onload=function(){n(null,r.http.responseText)}}catch(p){n("Something Went Wrong: "+p.description)}}Put(e,t,n){this.getHttp().open("PUT",e,!0),this.setHeaders(),this.getHttp().send(t);let r=this,c=r.getCallbacks().callbacks.onProgress;c!==null&&typeof c=="function"&&this.getHttp().upload.addEventListener("progress",function(p){c(p)});try{this.http.onload=function(){r.http.status===200?n(null,r.http.response):n(r.http.response)}}catch(p){n("Something Went Wrong: "+p.description)}}Delete(e,t=null,n){this.http.open("DELETE",e,!0),this.setHeaders(),t?this.http.send(t):this.http.send();let r=this;try{this.http.onload=function(){r.http.status===200?n(null,r.http.response):n(r.http.response)}}catch(c){n("Something Went Wrong: "+c.description)}}getHeaders(){return this.headers}setHeaders(){if(this.getHeaders())for(let e in this.getHeaders())this.getHttp().setRequestHeader(e,this.getHeaders()[e])}getHttp(){return this.http}},"We");d(Ci,"XHRApi");var Qt=y(class{constructor(){this.$eventHandlers=new Map}attachHandlerToEvent(e,t){var n;return this.getHandlers().has(e)?((n=this.getHandlers().get(e))==null||n.push(t),this):(this.getHandlers().set(e,[t]),this)}getHandlers(){return this.$eventHandlers}detachHandlerFromEvent(e){if(this.getHandlers().has(e))return this.getHandlers().delete(e),this}getEventHandlers(e){var t;return this.getHandlers().has(e)?(t=this.getHandlers().get(e))!=null?t:[]:[]}},"Ke");d(Qt,"EventQueue");window.hasOwnProperty("TonicsEvent")||(window.TonicsEvent={});window.TonicsEvent.EventQueue=()=>new Qt;function Te(e,t){let n=new Qt,r=t.name;if(e.hasOwnProperty(r)){let c=e[r];return c.length>0&&(c==null||c.forEach((p,g)=>{n.attachHandlerToEvent(t,p)})),n}throw new DOMException(`Can't attach ${t} to listeners because it doesn't exist`)}y(Te,"ae");d(Te,"attachEventAndHandlersToHandlerProvider");window.hasOwnProperty("TonicsEvent")||(window.TonicsEvent={});window.TonicsEvent.attachEventAndHandlersToHandlerProvider=(e,t)=>Te(e,t);var xi=y(class{constructor(e){this._shiftClick=new Map,this.fileContainerEvent=e,this.addClickEvent()}get shiftClick(){return this._shiftClick}set shiftClick(e){this._shiftClick=e}addClickEvent(){let e=this,t=document.querySelector(A.FILES.FILE_PARENT);t.hasAttribute("data-event-click")||t.addEventListener("click",n=>{t.setAttribute("data-event-click","true");let r=n.target,c=A.FILES.SINGLE_FILE;if(r.closest(".tonics-file-filename-input"))return!1;if(r.closest(c)){let p=r.closest(c);if(n.ctrlKey)return n.preventDefault(),p.classList.contains("selected-file")?e.getFileContainerEvent().unHighlightFile(p):e.getFileContainerEvent().highlightFile(p),!1;n.shiftKey?(this.getFileContainerEvent().resetPreviousFilesState(),this.setShiftClick(p)):(e.getFileContainerEvent().resetPreviousFilesState(),e.getFileContainerEvent().highlightFile(p),this.resetShiftClick(),this.setShiftClick(p))}else this.resetShiftClick(),e.getFileContainerEvent().resetPreviousFilesState()},!1)}setShiftClick(e){let t=e.dataset.list_id;if(this.shiftClick.get(t)&&this.shiftClick.delete(t),this.shiftClick.set(t,e),this.shiftClick.size>=2){let n=[...this.shiftClick][0][0],r=[...this.shiftClick][this.shiftClick.size-1][0],c=[n,r];c.sort();for(let p=c[0];p<=c[1];p++){let g=document.querySelector(`[data-list_id="${p}"]`);g&&this.getFileContainerEvent().highlightFile(g)}}}resetShiftClick(){this.shiftClick=new Map}getFileContainerEvent(){return this.fileContainerEvent}},"ht");d(xi,"AddClickEventToFileContainer");var Fi=y(class{constructor(e){let t=e.getFileContainer();t.hasAttribute("data-event-dblclick")||(t.setAttribute("data-event-dblclick","true"),t.addEventListener("dblclick",n=>{let r=e.getSelectedFile();r.dataset.file_type==="directory"&&(r.querySelector(".svg-per-file-loading").classList.remove("display-none"),e.currentDrive.openFolderHandler(r,e).then(()=>{e.resetPreviousFilesState()}).catch(()=>{r.querySelector(".svg-per-file-loading").classList.add("display-none")})),r.dataset.file_type==="file"&&e.copyPreviewLinkEvent()}))}},"vt");d(Fi,"DoubleClickEventToFileContainer");var Di=y(class{constructor(e){this.fileContainerEventObject=e,this.addContextMenuClickEvent()}getFileContainerEventObject(){return this.fileContainerEventObject}addContextMenuClickEvent(){let e=document.querySelector(A.FILES.CONTEXT);document.addEventListener("click",t=>{if(t.target.closest(A.FILES.CONTEXT))return!1;e.classList.remove("show")}),e!=null&&e.hasAttribute("data-event-contextmenu")||(e.setAttribute("data-event-contextmenu","true"),e.addEventListener("click",t=>{let n=t.target;if(n.closest(".context-menu-item").hasAttribute("data-menu-action")){let r=n.closest(".context-menu-item").getAttribute("data-menu-action");this.getFileContainerEventObject().menuEventAction(r)}}))}},"wt");d(Di,"ContextMenuProcessor");var D={Rename:{Success:"File Successfully Renamed",Error:"Failed To Rename File"},Folder:{Success:"Folder Successfully Created",Error:"Failed To Create Folder"},Update:{Success:"File Successfully Updated",Error:"Failed To Update File"},Upload:{Success:"File Successfully Uploaded",Error:"Failed To Upload File"},Deleted:{Success:"File(s) Successfully Deleted",Error:"Failed To Delete File(s)"},Refresh:{Success:"Refreshed",Error:"Failed To Refresh Folder"},Move:{Success:"File(s) Successfully Moved",Error:"Failed To Move File(s)"},Link:{Copy:{Preview:{Success:"Preview Link Copied To Clipboard",Error:"Failed To Copy Link To Clipboard"},Download:{Success:"Download Link Copied To Clipboard",Error:"Failed To Copy Link To Clipboard"}}},Context:{Media:{Play:"Play",Pause:"Pause"},Rename:"Rename",Link:{Copy:"Download Link",Preview:"Preview Link"},Edit:{Image:"Edit Image"},Cut:"Cut",Delete:"Delete",Paste:"Paste",Refresh:"Refresh",Upload:"Upload",New_Folder:"New Folder"}},nt=y(class{extensions(){return[""]}run(e,t,n=null){if(n&&typeof n=="function")return n(T.FILE.exclamation,t,e)}fileContext(e){return`
    ${O(D.Context.Rename,T.CONTEXT.edit,C().RENAME_FILE)}
    ${O(D.Context.Link.Copy,T.CONTEXT.link,C().COPY_LINK)}
    ${O(D.Context.Link.Preview,T.CONTEXT.preview_link,C().COPY_PREVIEW_LINK)}
    ${O(D.Context.Cut,T.CONTEXT.cut,C().CUT_FILE)}
    ${O(D.Context.Delete,T.CONTEXT.trash,C().DELETE_FILE)}`}},"le");d(nt,"DefaultFilePlacement");var Ti=y(class{fileContext(e){return`
    ${O(D.Context.Refresh,T.CONTEXT.refresh,C().REFRESH_FOLDER)}
    ${O(D.Context.New_Folder,T.CONTEXT.plus,C().CREATE_FOLDER)}
    ${O(D.Context.Upload,T.CONTEXT.upload,C().UPLOAD_FILE)}`}},"Et");d(Ti,"BackgroundFilePlacement");var Pi=y(class{constructor(e){let t=e.getContextMenu();e.getFileContainer().addEventListener("contextmenu",n=>{let r=n.target;if(n.preventDefault(),r.closest(A.FILES.SINGLE_FILE)){let c=r.closest(A.FILES.SINGLE_FILE),p=c.dataset.ext,g=!1;an.FileByExtensions.forEach(f=>{f.extensions().includes(p)&&(g=!0,e.highlightFile(c),this.showContextMenu(t,f.fileContext(e),n))}),g||(e.highlightFile(c),this.showContextMenu(t,new nt().fileContext(e),n))}else this.showContextMenu(t,new Ti().fileContext(e),n)})}showContextMenu(e,t,n){e==null||e.replaceChildren(),e.insertAdjacentHTML("beforeend",t);let r=n.clientX,c=n.clientY;e.classList.remove("show"),e.style.top=`${c}px`,e.style.left=`${r-30}px`,setTimeout(()=>{e.classList.add("show")})}},"bt");d(Pi,"ContextHandler");var Li=y(class{constructor(e){this.fileContainerEventObject=e,this.addHeaderMenuClickEvent()}getFileContainerEventObject(){return this.fileContainerEventObject}addHeaderMenuClickEvent(){let e=document.querySelector(".site-navigation-ul");e&&(e!=null&&e.hasAttribute("data-event-menu")||(e.setAttribute("data-event-menu","true"),e.addEventListener("click",t=>{let n=t.target;if(n.closest("button")){let r=n.closest("button");if(r.hasAttribute("data-menu-action")){let c=r.getAttribute("data-menu-action");this.getFileContainerEventObject().menuEventAction(c)}}})))}hideHeaderMenuOnScroll(){let e=document.querySelector(A.HEAD.PARENT),t=e==null?void 0:e.getBoundingClientRect().height,n=20;window.addEventListener("scroll",()=>{n>window.scrollY?e.style.top="0":e.style.top=`-${t}px`,n=window.scrollY})}},"Ct");d(Li,"HeaderSectionHandler");var Xt=y(class{constructor(e){return e?this.query(e):this}query(e){let t=document.querySelector(`${e}`);if(t)return this.setQueryResult(t),this;console.log(`Invalid class or id name - ${e}`)}setQueryResult(e){return this.$queryResult=e,this}getQueryResult(){return this.$queryResult}},"ke");d(Xt,"ElementAbstract");var Kt=y(class extends Xt{constructor(e){super(e),this.$dragAndDropDetails={},this.settings()}settings(){this.getDragAndDropElementDetails().callbacks={onDragEnter:null,onDragOver:null,onDragLeave:null,onDragDrop:null}}getDragAndDropElementDetails(){return this.$dragAndDropDetails}checkIfSettingsIsSet(){if(!this.getDragAndDropElementDetails().callbacks)throw new DOMException("No Callbacks exist for the DragAndDropElement");return!0}onDragEnter(e){if(this.checkIfSettingsIsSet())return this.getDragAndDropElementDetails().callbacks.onDragEnter=e,this}onDragOver(e){if(this.checkIfSettingsIsSet())return this.getDragAndDropElementDetails().callbacks.onDragOver=e,this}onDragLeave(e){if(this.checkIfSettingsIsSet())return this.getDragAndDropElementDetails().callbacks.onDragLeave=e,this}onDragDrop(e){if(this.checkIfSettingsIsSet())return this.getDragAndDropElementDetails().callbacks.onDragDrop=e,this}run(){let e=this.getQueryResult(),t=this;e&&(e.addEventListener("dragenter",function(n){t.preventDefaults(n),e.classList.add("highlight");let r=t.getDragAndDropElementDetails().callbacks.onDragEnter;r!==null&&typeof r=="function"&&r(n)}),e.addEventListener("dragover",function(n){t.preventDefaults(n),e.classList.add("highlight");let r=t.getDragAndDropElementDetails().callbacks.onDragOver;r!==null&&typeof r=="function"&&r(n)}),e.addEventListener("dragleave",function(n){t.preventDefaults(n),e.classList.remove("highlight");let r=t.getDragAndDropElementDetails().callbacks.onDragLeave;r!==null&&typeof r=="function"&&r(n)}),e.addEventListener("drop",function(n){t.preventDefaults(n),e.classList.remove("highlight");let r=t.getDragAndDropElementDetails().callbacks.onDragDrop;r!==null&&typeof r=="function"&&r(n)},!1))}preventDefaults(e){e.preventDefault(),e.stopPropagation()}},"Ye");d(Kt,"DragAndDrop");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.DragAndDrop=e=>new Kt(e);var Wt=y(class extends Xt{addNodeElement(e){return this.setQueryResult(e),this}forward(e){let t=this.getQueryResult().nextElementSibling;for(;t;){if(t.matches(e))return this.setQueryResult(t),this;t=t.nextElementSibling}return null}backward(e){let t=this.getQueryResult().previousElementSibling;for(;t;){if(t.matches(e))return this.setQueryResult(t),this;t=t.previousElementSibling}return null}in(){let e=this.getQueryResult().firstElementChild;return e?(this.setQueryResult(e),this):null}out(){let e=this.getQueryResult().parentElement;return e?(this.setQueryResult(e),this):null}queryChildren(e,t=!0){let n=this.getQueryResult().querySelector(e);return n?t?(this.setQueryResult(n),this):n:null}setSVGUseAttribute(e){let t=this.getQueryResult();if(t.tagName=="use")t.removeAttribute("xlink:href"),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e);else throw new DOMException("Not a valid svg use element")}},"Ge");d(Wt,"Query");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.Query=()=>new Wt;var it=y(class{constructor(e,t,n){this._$uploadedFilesObject=new Map,this._maxRequestToSend=4,this._byteToSendPerChunk=.5*1048576,this._isUploadInParallel=!1,this._$fileSequence={},this.fileContainerEvent=e,t!==null&&n!==null&&this.handleFiles(t,n),this.UploadFileEvent=this}get maxRequestToSend(){return this._maxRequestToSend}get $uploadedFilesObject(){return this._$uploadedFilesObject}get $fileSequence(){return this._$fileSequence}set $fileSequence(e){this._$fileSequence=e}get byteToSendPerChunk(){return this._byteToSendPerChunk}set byteToSendPerChunk(e){this._byteToSendPerChunk=e}get isUploadInParallel(){return this._isUploadInParallel}set isUploadInParallel(e){this._isUploadInParallel=e}getFileContainerEvent(){return this.fileContainerEvent}handleFiles(e,t){this.handleUploadedFiles(e,t)}setUploadFileObject(e,t){this.$uploadedFilesObject.set(e,t)}handleFileUpload(){let e=this,t=this.fileContainerEvent,n=document.createElement("input");n.type="file",n.multiple=!0,n.click(),n.onchange=function(r){let c=r.target.files,p=t.getCurrentDirectory();e.handleUploadedFiles(c,p)}}handleUploadedFiles(e,t){let n=this,r,c=n.fileContainerEvent;c.removeContextMenu();for(let p=0,g=e.length;p<g;p++){let f=c.currentDrive.driveSignature+"_"+e[p].name;n.addFileToProgressContainer(e[p],f,null,(w,v,a,o)=>{o=n.UploadFileEvent,c.currentDrive.uploadFile(a,v,o)},(w,v)=>{v=n.UploadFileEvent,c.currentDrive.cancelFileUploadHandler(w,v).then(()=>{ae(`${w.fileObject.name} Upload Terminated`)}).catch(()=>{W("Failed To Cancel Upload")})}),n.isUploadingSequentially()&&n.attachFileToSequence(f)}n.isUploadingSequentially()?n.uploadFileNextSequence(c.currentDrive.driveSignature):n.uploadFiles()}uploadFiles(){this.$uploadedFilesObject.forEach((e,t)=>{e.uploaded||this.fileContainerEvent.currentDrive.uploadFile(e,t,this)})}uploadFileNextSequence(e){let t=this.fileContainerEvent.loadDriveEventClass.driveStorageManager.getDriveStorage(e),n=this.getUploadFileNextSequence(e);if(n&&typeof n=="string"){let r=this.getUploadFileObject(n,t.driveSignature);t.uploadFile(r,n,this)}}getUploadFileObject(e,t){for(let n of this.$uploadedFilesObject.values())if(n.driveSignature===t)return this.$uploadedFilesObject.get(e)}getUploadFileNextSequence(e){let t=this.$fileSequence,n=!1;for(let r in t)if(t.hasOwnProperty(r)){if(r.split("_")[0]!==e)continue;if(t[r].progressing===!1){this.$fileSequence[r]={progressing:!0,sequenceDone:!1},n=r;break}}return n}setSequenceDone(e,t){let n=`${t}_${e}`;this.$fileSequence.hasOwnProperty(n)&&(this.$fileSequence[n]={progressing:!0,sequenceDone:!0})}deleteUploadFileObject(e){this.$uploadedFilesObject.delete(e),delete this.$fileSequence[e]}addFileToProgressContainer(e,t,n=null,r=null,c=null){var p;let g=this,f=this.fileContainerEvent,w=this.byteToSendPerChunk,v=f.currentDrive.driveSignature,a={fileObject:e,driveSignature:v,preFlightData:{filename:e.name,dataToFill:null,chunksToSend:Math.ceil(e.size/w),Byteperchunk:w,Totalblobsize:e.size,maxRequestToSend:f.currentDrive.getMaxRequestToSend(),noOfReceivedResponse:0,throttleSwitch:!1,sentApi:0,nextIndex:0},newFile:!0,uploadTo:f.getCurrentDirectory(),fetched:!1,pause:!1,uploaded:!1},o=(p=document.querySelector(A.FILES.PROGRESS.UPLOAD_FILE_CONTAINER))==null?void 0:p.querySelector(`[data-filename="${t}"]`),u=document.querySelector(A.FILES.PROGRESS.UPLOAD_FILE_CONTAINER);u.classList.remove("display-none"),o||(u.insertAdjacentHTML("beforeend",`
      <div class="inner-file-upload-container" tabindex="0" data-pause="false" data-filename="${t}" data-uploaded="false">

        <div class="info">
         <span class="upload-string">[${f.currentDrive.driveSignature} Drive] -  \u22EF Uploading [</span>
         <span class="upload-progress-name" tabindex="0">${t.split("_")[1]}</span>
         <span class="delimiter">] \xBB </span>
         <span class="upload-percentage">0%</span>
       </div>
      <div class="control">
          <button title="Pause" class="resume-pause background:transparent border:none color:black border-width:default border:black padding:default margin-top:0 cursor:pointer">
            Pause
        </button>
        <button title="Cancel" class="cancel background:transparent border:none color:black border-width:default border:black padding:default margin-top:0 cursor:pointer">
            Cancel
        </button>
        </div>
      </div>`),g.$uploadedFilesObject.set(t,a)),u.hasAttribute("data-event-click")||(u.setAttribute("data-event-click","true"),u.addEventListener("click",m=>{var _;let k=m.target;if(k.closest(A.FILES.PROGRESS.CONTROL.RESUME_PAUSE)){let b=k.closest(A.FILES.PROGRESS.CONTROL.RESUME_PAUSE);k.closest(".inner-file-upload-container").dataset.pause=k.closest(".inner-file-upload-container").dataset.pause==="true"?"false":"true";let x=k.closest(".inner-file-upload-container").dataset.pause,L=k.closest(".inner-file-upload-container").dataset.filename,R=g.getUploadFileObject(L,f.currentDrive.driveSignature);x==="true"&&(b.innerText="Resume",b.title="Resume",R.pause=!0,this.$uploadedFilesObject.set(L,R),typeof n=="function"&&n(m,L,R,g)),x==="false"&&(b.innerText="Pause",b.title="Pause",R.pause=!1,this.$uploadedFilesObject.set(L,R),typeof r=="function"&&!R.uploaded&&!R.pause&&r(m,L,R,g))}if(k.closest(A.FILES.PROGRESS.CONTROL.CANCEL)){let b=k.closest(".inner-file-upload-container"),x=b.dataset.filename,L=g.getUploadFileObject(x,f.currentDrive.driveSignature);x&&L&&typeof c=="function"&&(this.deleteUploadFileObject(x),c(L,f),b.classList.add("file-upload-cancelled"),b.dataset.filename="",(_=b.querySelector(".control"))==null||_.remove())}}))}isUploadingSequentially(){return!this.isUploadInParallel}attachFileToSequence(e){this.$fileSequence.hasOwnProperty(e)||(this.$fileSequence[e]={progressing:!1,sequenceDone:!1})}updateFileProgress(e,t=0,n,r=" \u22EF Uploading"){let c=new Wt(A.FILES.PROGRESS.UPLOAD_FILE_CONTAINER).getQueryResult().querySelector(`[data-filename="${e}"]`);c&&(c.querySelector(A.FILES.PROGRESS.UPLOAD_STRING).innerHTML=`[${n} Drive] - ${r} [`,c.querySelector(A.FILES.PROGRESS.PROGRESS_PERCENTAGE).innerHTML=`${t}%`,c.style.background=`linear-gradient(to right, #bab8b8 ${t}%, #ffffff00 0%)`)}setUploadCompleted(e,t){var n,r;let c=this.getUploadFileObject(e,t),p=(n=document.querySelector(A.FILES.PROGRESS.UPLOAD_FILE_CONTAINER))==null?void 0:n.querySelector(`[data-filename="${e}"]`);p&&((r=p.querySelector(".control"))==null||r.remove(),this.updateFileProgress(e,100,t,"\u2713 Completed "),c.uploaded=!0,this.$uploadedFilesObject.set(e,c),p.dataset.uploaded="true",this.$uploadedFilesObject.delete(p.dataset.uploadFilename),ae(D.Upload.Success))}releaseThrottle(e,t){let n=this.getUploadFileObject(e,t);n&&(n.preFlightData.throttleSwitch=!1,this.$uploadedFilesObject.set(e,n),n.preFlightData.sentApi=0,this.$uploadedFilesObject.set(e,n),n.preFlightData.noOfReceivedResponse=0,this.$uploadedFilesObject.set(e,n))}},"ce");d(it,"UploadFileEvent");var Ai=y(class{constructor(e){this._maxRequestToSend=4,this.fileContainerEventObject=e,this.handleDragAndDropFileUploads()}getFileContainerEventObject(){return this.fileContainerEventObject}handleDragAndDropFileUploads(){var e;let t=this,n=t.getFileContainerEventObject().getFileContainer().closest(".tonics-files-parent");if(!n.hasAttribute("data-drag_drop")){n.setAttribute("data-drag_drop","true");let r=new Kt(A.FILES.FILE_PARENT);(e=r==null?void 0:r.onDragDrop(function(c){var p;let g=(p=c==null?void 0:c.dataTransfer)==null?void 0:p.files,f=t.uploadToDirectory();new it(t.getFileContainerEventObject(),g,f)}))==null||e.run()}}uploadToDirectory(){return this.getFileContainerEventObject().getCurrentDirectory()}get maxRequestToSend(){return this._maxRequestToSend}set maxRequestToSend(e){this._maxRequestToSend=e}},"yt");d(Ai,"FileContainerDragAndDropHandler");var Ii=y(class{constructor(e){let t=e.getDiskDrives();t.hasAttribute("data-event-click")||(t.setAttribute("data-event-click","true"),t.addEventListener("click",n=>{let r=n.target;if(r.closest(A.DRIVE.INDIVIDUAL_DRIVE)){let c=r.closest(A.DRIVE.INDIVIDUAL_DRIVE),p=e.getLoadDriveEventClass();if(p.driveStorageManager.$driveSystem.has(c.dataset.drivename)){let g=p.driveStorageManager.getDriveStorage(c.dataset.drivename);g.coldBootStorageDisk().then(()=>{e.removeAllDriveSelectionMark(),c.querySelector(A.DRIVE.DRIVE_SELECTED).classList.remove("display-none"),e.currentDrive=g}).catch(()=>{W("Failed To Switch Drive, Network Issue?")})}}}))}},"Ft");d(Ii,"SwitchDriveStorageHandler");var Oi=y(class{constructor(e){this.fileContainerEvent=e,this.loadMoreButtonHandle()}getFileContainerEvent(){return this.fileContainerEvent}loadMoreButtonHandle(){let e=document.querySelector(A.Button.FILE_LOAD_MORE);e.hasAttribute("data-event-click")||e.addEventListener("click",t=>{e.setAttribute("data-event-click","true"),Ee(!1,!0);let n=document.querySelector("[data-list_id]:last-of-type");this.getFileContainerEvent().currentDrive.loadMoreFiles(this.getFileContainerEvent()).then(()=>{n.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}).catch(()=>{W("Failed To Load More Files"),Ee()})})}},"xt");d(Oi,"LoadMoreFilesHandler");var Mi=y(class{constructor(e){this.fileContainerEvent=e,this.handleNavigationByKeyPres()}getFileContainerEvent(){return this.fileContainerEvent}handleNavigationByKeyPres(){document.querySelector(A.FILES.FILE_CONTAINER).addEventListener("keydown",e=>{if(this.getFileContainerEvent().getSelectedFile()){let t=this.getFileContainerEvent().getSelectedFile();switch(e.code){case"ArrowDown":this.navigateDown(t);break;case"ArrowUp":this.navigateUp(t);break;case"ArrowRight":this.navigateRight(t);break;case"ArrowLeft":this.navigateLeft(t);break;case"Enter":this.navigateEnter(t);break}}})}navigateDown(e){let t=this.getNumberOfFilesPerRow(),n=parseInt(e.dataset.list_id)+t;e=this.getFileContainerEvent().getFileByListID(n),e&&(this.getFileContainerEvent().resetPreviousFilesState(),e.scrollIntoView(),this.getFileContainerEvent().highlightFile(e),this.removeHeaderMenuFromViewPort())}navigateUp(e){let t=this.getNumberOfFilesPerRow(),n=parseInt(e.dataset.list_id)-t;e=this.getFileContainerEvent().getFileByListID(n),e&&(this.getFileContainerEvent().resetPreviousFilesState(),e.scrollIntoView(),this.getFileContainerEvent().highlightFile(e),this.removeHeaderMenuFromViewPort())}navigateRight(e){let t=e.nextElementSibling;t&&(this.getFileContainerEvent().resetPreviousFilesState(),t.scrollIntoView(),this.getFileContainerEvent().highlightFile(t),this.removeHeaderMenuFromViewPort())}navigateLeft(e){let t=e.previousElementSibling;t&&(this.getFileContainerEvent().resetPreviousFilesState(),t.scrollIntoView(),this.getFileContainerEvent().highlightFile(t),this.removeHeaderMenuFromViewPort())}removeHeaderMenuFromViewPort(){let e=document.querySelector(A.HEAD.PARENT),t=e==null?void 0:e.getBoundingClientRect().height;e.style.top=`-${t}px`}getNumberOfFilesPerRow(){let e=document.querySelector("[data-list_id]:nth-of-type(1)");return e?this.getRemainingRowsOfItemToTheRight(e)+1:0}getRemainingRowsOfItemToTheRight(e){let t=e,n=e.nextElementSibling,r=0;if(n)for(;t.offsetTop===n.offsetTop;)r++,t=n,n=n.nextElementSibling;return r}getRemainingRowsOfItemToTheLeft(e){let t=e,n=e.previousElementSibling,r=0;if(n)for(;t.offsetTop===n.offsetTop;)r++,t=n,n=n.previousElementSibling;return r}navigateEnter(e){e.querySelector(".svg-per-file-loading").classList.remove("display-none"),this.getFileContainerEvent().currentDrive.openFolderHandler(e,this.getFileContainerEvent()).catch(()=>{e.querySelector(".svg-per-file-loading").classList.add("display-none")})}},"kt");d(Mi,"NavigateFilesByKeyboardKeysHandler");var Ri=y(class{constructor(e){this.fileContainerEvent=e,this.handleSearch()}handleSearch(){let e=document.querySelector(A.SEARCH);e.addEventListener("keyup",t=>{if(t.code==="Enter"){let n=e.value;this.getFileContainerEvent().currentDrive.searchFiles(n,this.getFileContainerEvent()).then(()=>{e.value=""}).catch(()=>{W("An Error Occurred While Searching")})}})}getFileContainerEvent(){return this.fileContainerEvent}},"St");d(Ri,"SearchFilesInFolderHandler");var qi=y(class{constructor(e){this.fileContainerEvent=e,this.handleBreadCrumbNavigation()}getFileContainerEvent(){return this.fileContainerEvent}handleBreadCrumbNavigation(){document.querySelector(".breadcrumb").addEventListener("click",e=>{let t=e.target;if(t.hasAttribute("data-pathtrail")){let n=t.getAttribute("data-pathtrail");this.getFileContainerEvent().currentDrive.breadCrumbClickNavigationHandler(n).then(()=>{this.getFileContainerEvent().resetPreviousFilesState()})}}),window.addEventListener("keydown",e=>{switch(e.code){case"Backspace":this.navigateBackSpace();break}})}navigateBackSpace(){let e=document.querySelectorAll(".breadcrumb a"),t=e[e.length-2];if(t){let n=t.dataset.pathtrail;this.getFileContainerEvent().currentDrive.breadCrumbClickNavigationHandler(n).then(()=>{this.getFileContainerEvent().resetPreviousFilesState()})}}},"Tt");d(qi,"BreadCrumbHandler");var Ni=y(class{constructor(e){this.copyLinkEvent=e;let t=e.getCopiedLinkFile().dataset.file_type,n=e.getFileContainerEvent().getLoadDriveEventClass().appURL;t==="file"&&(window.parent.postMessage({mceAction:"execCommand",cmd:"tonics:RegularLink",value:e.copiedLink},n),window.hasOwnProperty("opener")&&window.opener!==null&&window.opener.postMessage({cmd:"tonics:RegularLink",value:e.copiedLink},n))}},"Lt");d(Ni,"TinymceCopyLinkHandler");var It=y(class{get imageFile(){return this._imageFile}constructor(e){this._imageFile=e}},"Je");d(It,"OnImageFileEvent");var Yt=y(class{extensions(){return["jpeg","jpg","jpe","jfi","jif","jfif","png","gif","bmp","webp","apng","avif","svg"]}run(e,t,n=null){if(n&&typeof n=="function"){let r=n(T.FILE.image,t,e);return ce(new It(r),It),r}}fileContext(e){return`
        ${O(D.Context.Edit.Image,T.FILE.image,C().EDIT_IMAGE_FILE)}
    ${O(D.Context.Rename,T.CONTEXT.edit,C().RENAME_FILE)}
    ${O(D.Context.Link.Copy,T.CONTEXT.link,C().COPY_LINK)}
    ${O(D.Context.Link.Preview,T.CONTEXT.preview_link,C().COPY_PREVIEW_LINK)}
    ${O(D.Context.Cut,T.CONTEXT.cut,C().CUT_FILE)}
    ${O(D.Context.Delete,T.CONTEXT.trash,C().DELETE_FILE)}`}},"Se");d(Yt,"ImageFilePlacement");var Ot=y(class{get docFile(){return this._docFile}constructor(e){this._docFile=e}},"Qe");d(Ot,"OnDocumentFileEvent");var Jt=y(class{extensions(){return["pdf","docx","doc","txt"]}run(e,t,n=null){if(n&&typeof n=="function"){let r;switch(t){case"docx":case"doc":r=n(T.FILE.docx,t,e);break;case"pdf":r=n(T.FILE.pdf,t,e);break;default:r=n(T.FILE.note,t,e)}return ce(new Ot(r),Ot),r}}fileContext(e){return`
    ${O(D.Context.Rename,T.CONTEXT.edit,C().RENAME_FILE)}
    ${O(D.Context.Link.Copy,T.CONTEXT.link,C().COPY_LINK)}
    ${O(D.Context.Link.Preview,T.CONTEXT.preview_link,C().COPY_PREVIEW_LINK)}
    ${O(D.Context.Cut,T.CONTEXT.cut,C().CUT_FILE)}
    ${O(D.Context.Delete,T.CONTEXT.trash,C().DELETE_FILE)}`}},"Te");d(Jt,"DocumentsFilePlacement");var Bi=y(class{constructor(e){this.copyPreviewLinkEvent=e;let t=new Yt,n=new nn,r=new Jt,c=e.getCopiedLinkFile().dataset.file_type,p=e.getCopiedLinkFile().dataset.ext,g=this.copyPreviewLinkEvent.getFileContainerEvent().getLoadDriveEventClass().appURL;c==="file"&&(t.extensions().includes(p)&&(window.parent.postMessage({mceAction:"execCommand",cmd:"tonics:ImageLink",value:e.getCopiedLink()},g),window.hasOwnProperty("opener")&&window.opener!==null&&window.opener.postMessage({cmd:"tonics:ImageLink",value:e.getCopiedLink()},g)),r.extensions().includes(p)&&window.hasOwnProperty("opener")&&window.opener!==null&&window.opener.postMessage({cmd:"tonics:DocLink",value:e.getCopiedLink()},g),n.extensions().includes(p)||["mp4","3gp","mov"].includes(p)?(window.parent.postMessage({mceAction:"execCommand",cmd:"tonics:MediaLink",value:e.getCopiedLink()},g),window.hasOwnProperty("opener")&&window.opener!==null&&window.opener.postMessage({cmd:"tonics:MediaLink",value:e.getCopiedLink()},g)):window.parent.postMessage({mceAction:"execCommand",cmd:"tonics:RegularLink",value:e.getCopiedLink()},g))}},"Dt");d(Bi,"TinymceCopyPreviewLinkHandler");var at=y(class{get copiedLink(){return this._copiedLink}set copiedLink(e){this._copiedLink=e}constructor(e){this.fileContainerEvent=e,this.copiedLinkFile=e.getSelectedFile()}getFileContainerEvent(){return this.fileContainerEvent}handleCopyLink(e=null){return this.fileContainerEvent.currentDrive.copyLinkHandler(this.fileContainerEvent,e)}onSuccess(e=null){this.copiedLinkFile=this.fileContainerEvent.getSelectedFile(),this.copiedLink=e,this.getFileContainerEvent().removeContextMenu(),ae(D.Link.Copy.Download.Success).then(),this.fileContainerEvent.dispatchEventToHandlers(this,at)}onError(e=null){W(D.Link.Copy.Download.Error).then()}getCopiedLinkFile(){return this.copiedLinkFile}},"de");d(at,"CopyLinkEvent");var Mt=y(class{get audioFile(){return this._audioFile}constructor(e){this._audioFile=e}},"Ze");d(Mt,"OnAudioIsPlayableEvent");var $i=y(class{constructor(e){let t=e.audioFile;new at(window.TonicsFileManager.events.fileContainerEvent).handleCopyLink(t).then(n=>{t.dataset.audioplayer_play="false",t.dataset.audioplayer_songurl=n,t.dataset.audioplayer_image="",t.dataset.audioplayer_title=t.dataset.filename,t.dataset.audioplayer_format=t.dataset.ext,t.setAttribute("data-tonics-audioplayer-track",""),ce(new Mt(t),Mt)})}},"It");d($i,"RegisterAudioFileForAudioPlayerHandler");var Ze={FileContainerEvent:[xi,Fi,Di,Pi,Li,Ai,Ii,Oi,Mi,Ri,qi],LoadDriveDataEvent:[],RenameFileEvent:[],UploadFileEvent:[],CutFileEvent:[],PasteFileEvent:[],EditImageFileEvent:[],DeleteFileEvent:[],CopyLinkEvent:[Ni],CopyPreviewLinkEvent:[Bi],RefreshFolderEvent:[],OnAudioFileEvent:[$i],OnAudioIsPlayableEvent:[],OnArchiveCompressFileEvent:[],OnCodeFileEvent:[],OnDirectoryFileEvent:[],OnDocumentFileEvent:[],OnImageFileEvent:[],NewFolderEvent:[]},st=y(class{constructor(e){if(e)return this.$handleProvider=e,this}dispatch(e){let t=e.constructor,n=this.getHandler().getEventHandlers(t);for(let r=0;r<n.length;r++)Object.getOwnPropertyNames(n[r]).includes("arguments")?n[r](e):new n[r](e);return e}setHandler(e){return this.$handleProvider=e,this}getHandler(){return this.$handleProvider}dispatchEventToHandlers(e,t,n){let r=Te(e,n);this.setHandler(r).dispatch(t)}},"ve");d(st,"EventDispatcher");window.hasOwnProperty("TonicsEvent")||(window.TonicsEvent={});window.TonicsEvent.EventDispatcher=new st;function Hi(e,t=""){let n="";return e.lastIndexOf("/")!==-1&&(n=e.substring(0,e.lastIndexOf("/"))),e.lastIndexOf("\\")!==-1&&(n=e.substring(0,e.lastIndexOf("\\"))),n||t}y(Hi,"ei");d(Hi,"getFileDirectory");function Zt(e){return e.toLowerCase().replace(/\b(\w)/g,function(t){return t.toLocaleUpperCase()})}y(Zt,"Pt");d(Zt,"titleCase");function ue(e){return new Promise((t,n)=>{navigator.clipboard.writeText(e).then(()=>{t(e)}).catch(r=>{n(r)})})}y(ue,"ne");d(ue,"copyToClipBoard");function Ui(e,t=!1){let n,r,c=document.createElement("a");return c.style.display="none",c.setAttribute("href",e),e=e.replace(c.protocol,""),e=e.replace(c.hostname,""),e=e.replace(":"+c.port,""),e=e.split("?")[0],e=e.split("#")[0],e=e.substr(1+e.lastIndexOf("/")),n=e,!t&&n.startsWith(".")||n.lastIndexOf(".")===-1?"":(r=n.substr(1+n.lastIndexOf(".")),r)}y(Ui,"ti");d(Ui,"getFileExtension");function O(e,t,n){return`
<li class="context-menu-item" data-menu-action=${n}>
      ${t}
      <a class="" href="javascript:void(0);">
        ${e}
      </a>
    </li>
`}y(O,"S");d(O,"contextMenuListCreator");function en(e,t="",n="text"){return ie.default.fire({title:e,input:n,inputValue:t,inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Save",backdrop:!0,allowOutsideClick:()=>!ie.default.isLoading(),confirmButtonColor:"#0c132c",focusConfirm:!0,background:"#eaeaea",iconColor:"#264762d1"})}y(en,"Ot");d(en,"inputToast");function ae(e,t=4e3){return ie.default.mixin({toast:!0,position:"bottom-right",showConfirmButton:!1,timer:t,timerProgressBar:!0,background:"#eaeaea",iconColor:"#264762d1",didOpen:n=>{n.addEventListener("mouseenter",ie.default.stopTimer),n.addEventListener("mouseleave",ie.default.resumeTimer)}}).fire({customClass:{title:"swal2-title-dark"},icon:"success",title:e})}y(ae,"H");d(ae,"successToast");function W(e,t=5e3){return ie.default.mixin({toast:!0,position:"bottom-right",showConfirmButton:!1,timer:t,timerProgressBar:!0,background:"#eaeaea",iconColor:"#941943",didOpen:n=>{n.addEventListener("mouseenter",ie.default.stopTimer),n.addEventListener("mouseleave",ie.default.resumeTimer)}}).fire({customClass:{title:"swal2-title-red"},icon:"error",title:e})}y(W,"O");d(W,"errorToast");function ji(e,t="Proceed",n,r=null,c=null){ie.default.mixin({toast:!0,position:"bottom-right",timer:5e4,timerProgressBar:!0,showCancelButton:!0,showConfirmButton:!0,confirmButtonText:t,confirmButtonColor:"#0c132c",focusConfirm:!0,background:"#eaeaea",iconColor:"#264762d1",didOpen:p=>{p.addEventListener("mouseenter",ie.default.stopTimer),p.addEventListener("mouseleave",ie.default.resumeTimer)}}).fire({title:e}).then(p=>{p.isConfirmed?typeof n=="function"&&n():p.isDenied?r&&typeof r=="function"&&r():p.isDismissed&&c&&typeof c=="function"&&c()})}y(ji,"ni");d(ji,"promptToast");function De(e){let t=document.querySelector(A.HEAD.MENU_SECTION);e.forEach(function(n,r){let c=t.querySelector(`[data-menu-action="${n}"]`);c&&(c.closest(".menu-item").classList.remove("deactivate-menu-pointer"),c.querySelector(".icon").classList.remove("deactivate-menu"))})}y(De,"De");d(De,"activateMenus");function Rt(e){let t=document.querySelector(A.HEAD.MENU_SECTION);e.forEach(function(n,r){let c=t.querySelector(`[data-menu-action="${n}"]`);c&&(c.closest(".menu-item").classList.add("deactivate-menu-pointer"),c.querySelector(".icon").classList.add("deactivate-menu"))})}y(Rt,"an");d(Rt,"deActivateMenus");function tn(e,t){return new Promise((n,r)=>{if(document.querySelector(`[data-script_id="${t}"]`))n();else{let c=document.createElement("script");c.dataset.script_id=t,document.body.appendChild(c),c.onload=n,c.onerror=r,c.async=!0,c.src=e}})}y(tn,"_t");d(tn,"loadScriptDynamically");function qt(e){let t="";return e.forEach((n,r)=>{let c=document.querySelector(`input[name=${n}]`);c&&(t=c.value)}),t}y(qt,"ln");d(qt,"getCSRFFromInput");function Ee(e=!0,t=!1){let n=document.querySelector(A.Button.FILE_LOAD_MORE),r=document.querySelector(".dot-elastic.loading");e?(n==null||n.classList.remove("display-none"),n==null||n.classList.add("display-flex")):(n==null||n.classList.remove("display-flex"),n==null||n.classList.add("display-none")),t?r.classList.remove("display-none"):r.classList.add("display-none")}y(Ee,"re");d(Ee,"fileLoadMoreButton");function Nt(e=!0){let t=document.querySelector(A.FILES.FILE_PARENT),n=document.querySelector(".dot-elastic.loading");e?document.querySelector("[data-list_id]:nth-of-type(1)")||(t==null||t.classList.remove("align-content-fs"),n.classList.remove("display-none")):(t==null||t.classList.add("align-content-fs"),n.classList.add("display-none"))}y(Nt,"cn");d(Nt,"filesLoadingAnimation");function ce(e,t){let n=Te(Ze,t);new st().setHandler(n).dispatch(e)}y(ce,"B");d(ce,"dispatchEventToHandlers");var Bt=y(class{get audioFile(){return this._audioFile}constructor(e){this._audioFile=e}},"et");d(Bt,"OnAudioFileEvent");var nn=y(class{extensions(){return["mp3","wav","tiff","ogg","webm","aac","flac"]}run(e,t,n=null){if(n&&typeof n=="function"){let r=n(T.FILE.music,t,e);return ce(new Bt(r),Bt),r}}fileContext(e){return`
    ${O(D.Context.Rename,T.CONTEXT.edit,C().RENAME_FILE)}
    ${O(D.Context.Link.Copy,T.CONTEXT.link,C().COPY_LINK)}
    ${O(D.Context.Link.Preview,T.CONTEXT.preview_link,C().COPY_PREVIEW_LINK)}
    ${O(D.Context.Cut,T.CONTEXT.cut,C().CUT_FILE)}
    ${O(D.Context.Delete,T.CONTEXT.trash,C().DELETE_FILE)}`}},"Le");d(nn,"AudioFilePlacement");var $t=y(class{get dirFile(){return this._dirFile}constructor(e){this._dirFile=e}},"tt");d($t,"OnDirectoryFileEvent");var Vi=y(class{extensions(){return["null",null]}run(e,t,n=null){if(n&&typeof n=="function"){let r=n(T.FILE.folder,t,e);return ce(new $t(r),$t),r}}fileContext(e){let t="";return e.cutFile.length>0&&(t=O(D.Context.Paste,T.CONTEXT.paste,C().PASTE_FILE)),`
    ${O(D.Context.Rename,T.CONTEXT.edit,C().RENAME_FILE)}
    ${O(D.Context.Cut,T.CONTEXT.cut,C().CUT_FILE)}
     ${t}
    ${O(D.Context.Delete,T.CONTEXT.trash,C().DELETE_FILE)}`}getCutFiles(){return document.querySelectorAll('[data-cut="true"]')}},"Mt");d(Vi,"DirectoryFilePlacement");var Ht=y(class{get archiveFile(){return this._archiveFile}constructor(e){this._archiveFile=e}},"nt");d(Ht,"OnArchiveCompressFileEvent");var zi=y(class{extensions(){return["zip","tar","gz","rar","7z","bz2","xz","wim"]}fileContext(e){return`
    ${O(D.Context.Rename,T.CONTEXT.edit,C().RENAME_FILE)}
    ${O(D.Context.Link.Copy,T.CONTEXT.link,C().COPY_LINK)}
    ${O(D.Context.Link.Preview,T.CONTEXT.preview_link,C().COPY_PREVIEW_LINK)}
    ${O(D.Context.Cut,T.CONTEXT.cut,C().CUT_FILE)}
    ${O(D.Context.Delete,T.CONTEXT.trash,C().DELETE_FILE)}`}run(e,t,n){if(n&&typeof n=="function"){let r;switch(t){case"zip":r=n(T.FILE.zip,t,e);break;default:r=n(T.FILE.compress,t,e)}return ce(new Ht(r),Ht),r}}},"At");d(zi,"ArchiveCompressFilePlacement");var Ut=y(class{get codeFile(){return this._codeFile}constructor(e){this._codeFile=e}},"it");d(Ut,"OnCodeFileEvent");var Gi=y(class{extensions(){return["php","js","css","bat","nim","cs","sql","ts","sh","rb","pyo","pl","o","lua","kt"]}fileContext(e){return`
    ${O(D.Context.Rename,T.CONTEXT.edit,C().RENAME_FILE)}
    ${O(D.Context.Link.Copy,T.CONTEXT.link,C().COPY_LINK)}
    ${O(D.Context.Link.Preview,T.CONTEXT.preview_link,C().COPY_PREVIEW_LINK)}
    ${O(D.Context.Cut,T.CONTEXT.cut,C().CUT_FILE)}
    ${O(D.Context.Delete,T.CONTEXT.trash,C().DELETE_FILE)}`}run(e,t,n){if(n&&typeof n=="function"){let r=n(T.FILE.code,t,e);return ce(new Ut(r),Ut),r}}},"Ht");d(Gi,"CodeFilePlacement");var an={FileByExtensions:[new nn,new zi,new Gi,new Yt,new Vi,new Jt]},jt=y(class{get data(){return this._data}set data(e){this._data=e}constructor(e,t,n=!1){this.commands=e,this.data=t,this.append=n}getCommands(){return this.commands}placeFileByExtension(){let e=this,t=this.getCommands().getList();if(!this.append)try{document.querySelector(A.FILES.FILE_CONTAINER).replaceChildren()}catch(c){console.error(c)}let n,r=this.data;for(n in r){let c=r[n],p;document.querySelector("[data-list_id]:last-of-type")?p=parseInt(document.querySelector("[data-list_id]:last-of-type").dataset.list_id)+1:p=n,c.list_id=p,c.properties=JSON.parse(c.properties);let g=!1,f=c.properties.ext;t.forEach((w,v)=>{typeof w.extensions=="function"&&typeof w.run=="function"&&w.extensions().includes(f)&&(g=!0,w.run(c,f,function(a,o,u){return e.createFile(a,o,u)}))}),g||new nt().run(c,f,function(w,v,a){return e.createFile(w,v,a)})}}createFile(e,t,n){let r=document.querySelector(A.FILES.FILE_CONTAINER),c=`
        <li class="tonics-file" 
                    data-list_id="${n.list_id}"
                    data-drive_id="${n.drive_id}"
                    data-drive_parent_id="${n.drive_parent_id}"
                    data-drive_unique_id="${n.drive_unique_id}"
                    data-filename="${n.filename}" 
                    data-file_type="${n.type}"
                    data-size="${n.properties.size}"
                    data-file_path="${n.filepath}"
                    data-time_created="${n.properties.time_created}"
                    data-time_modified="${n.properties.time_modified}"
                    data-ext="${t}">
          <button class="tonics-fm-link remove-button-styles">
           ${e}
            <div class="tonics-file-filename">
              <input class="tonics-file-filename-input" type="text" value="${n.filename}" readonly="" aria-label="${n.filename}">
            </div>
            <span class="svg-per-file-loading display-none"></span>
          </button>
        </li>
        `;return r==null||r.insertAdjacentHTML("beforeend",c),r==null?void 0:r.lastElementChild}},"ot");d(jt,"LocalFileExtensionsCommands");var le="/api/media/",$;(function(e){e[e.GetFiles=le+"files"]="GetFiles",e[e.GetFileFromPath=le+"files?path="]="GetFileFromPath",e[e.SearchFileFromPath=le+"files/search?path="]="SearchFileFromPath",e.IDQuery="&id=",e.SearchQuery="&query=",e[e.MoveFiles=le+"files/move"]="MoveFiles",e[e.PreFlight=le+"files/preflight"]="PreFlight",e[e.DeleteFiles=le+"files"]="DeleteFiles",e[e.PostFiles=le+"files"]="PostFiles",e[e.RenameFile=le+"files/rename"]="RenameFile",e.ServeFile="/serve_file_path_987654321/",e[e.CreateFolder=le+"files/create_folder"]="CreateFolder",e[e.CancelUpload=le+"files/cancel_create"]="CancelUpload"})($||($={}));var Qi=y(class{constructor(e,t,n){this._fetchInfo={lastStatus:{ok:!1,status:0,statusText:"",response:null}},this.driveSignature=e,this.bearerToken=t,this.setFqdn(n)}get currentPathID(){return this._currentPathID}set currentPathID(e){this._currentPathID=e}get appendNewFiles(){return this._appendNewFiles}set appendNewFiles(e){this._appendNewFiles=e}get filesFolderNextPageUrl(){return this._filesFolderNextPageUrl}set filesFolderNextPageUrl(e){this._filesFolderNextPageUrl=e}get driveSignature(){return this._driveSignature}set driveSignature(e){this._driveSignature=e}get currentDirectoryID(){return this._currentDirectoryID}set currentDirectoryID(e){this._currentDirectoryID=e}get fetchInfo(){return this._fetchInfo}get bearerToken(){return this._bearerToken}set bearerToken(e){this._bearerToken=e}get fqdn(){return this._fqdn}set fqdn(e){this._fqdn=e}get storageData(){return this._storageData}set storageData(e){this._storageData=e}getMaxRequestToSend(){return 4}getDriveIcon(){return"#tonics-hdd"}getDriveName(){return"local"}coldBootStorageDisk(){let e=this;return new Promise(function(t,n){let r=`${e.fqdn}${$.GetFiles}`,c=e.fetchFileData(r);e.storageData=c,c.then(p=>{e.createIndividualDataElement(p),t()}).catch(()=>n())})}createIndividualDataElement(e){let t=new Gt(an.FileByExtensions),n=e.data;if(this.currentPathID=e.more.drive_id,e.more.has_more===!0?(this.filesFolderNextPageUrl=e.more.next_page_url,Ee()):Ee(!1,!1),this.appendNewFiles)return new jt(t,n,!0).placeFileByExtension();this.addCrumbNavigationPathTrail(e.more),this.currentDirectoryID=e.more.drive_id,new jt(t,n).placeFileByExtension()}loadMoreFiles(e){return new Promise((t,n)=>{let r=`${this.fqdn}${this.filesFolderNextPageUrl}`;this.fetchFileData(r).then(c=>{this.appendNewFiles=!0,this.createIndividualDataElement(c),this.appendNewFiles=!1,t()})})}searchFiles(e,t){return new Promise((n,r)=>{let c=encodeURIComponent(t.getCurrentDirectory()),p=`${$.SearchFileFromPath}${c}${$.IDQuery}${this.currentPathID}${$.SearchQuery}${encodeURIComponent(e)}`,g=`${this.fqdn}${p}`;this.fetchFileData(g).then(f=>{this.createIndividualDataElement(f),n()})})}addCrumbNavigationPathTrail(e){var t;let n=e.current_path.split("/");n=n.filter(String);let r=document.querySelector(".breadcrumb");r.innerHTML="Navigating:  ";let c="";n.forEach((p,g,f)=>{c=c.concat(`/${p}`);let w=Zt(p);r==null||r.insertAdjacentHTML("beforeend",`<a data-pathtrail="${c}" data-filename="${p}" 
href="javascript:void(0);">${w}</a><span class="delimiter"> \xBB </span>`)}),(t=r==null?void 0:r.lastElementChild)==null||t.remove()}breadCrumbClickNavigationHandler(e){return new Promise((t,n)=>{let r=encodeURIComponent(e),c=`${this.fqdn}${$.GetFileFromPath}${r}`;this.fetchFileData(c).then(p=>{this.createIndividualDataElement(p),t()}).catch(()=>n())})}createDirectoryElement(e){let t=document.createElement("li");return t.dataset.drive_id=this.currentDirectoryID,t.dataset.file_path=e,t.dataset.file_type="directory",t.dataset.ext="null",t}refresh(e){let t=this;return new Promise(function(n,r){let c=t.createDirectoryElement(e.getCurrentDirectory());t.openFolderHandler(c,e).then(function(){n()})})}createFolder(e,t){let n=this;return new Promise(function(r,c){let p={filename:t.name,uploadTo:e.getCurrentDirectory(),uploadToID:n.currentDirectoryID},g=`${n.fqdn}${$.CreateFolder}`;n.defaultXHR({}).Post(g,JSON.stringify(p),function(f,w){f&&(f=JSON.parse(f),c()),w&&(w=JSON.parse(w),w.hasOwnProperty("status")&&w.status==200&&r())})})}openFolderHandler(e,t){let n=this;return new Promise(function(r,c){if(e.dataset.file_type=="directory"&&e.dataset.ext=="null"){let p=encodeURIComponent(e.dataset.file_path),g=e.dataset.drive_id,f=`${n.fqdn}${$.GetFileFromPath}${p}${$.IDQuery}${g}`;n.fetchFileData(f).then(function(w){n.createIndividualDataElement(w),r()})}})}getStorageFileData(){return this.storageData}defaultXHR(e={}){let t={Authorization:`Bearer ${this.bearerToken}`,"Tonics-CSRF-Token":`${qt(["tonics_csrf_token","csrf_token"])}`};return new Ci(yi(yi({},t),e))}headers(){let e=this.bearerToken;return new Headers([["Content-Type","application/json; charset=utf-8"],["Authorization",`Bearer ${e}`],["Tonics-CSRF-Token",`${qt(["tonics_csrf_token","csrf_token"])}`]])}fetchFileData(e){return ne(this,null,function*(){let t=this,n=this.headers(),r=new Request(e,{method:"GET",headers:n,cache:"default",mode:"cors"});return new At(r).run().then(function(c){return t.processResponse(c)}).then(function(c){if(t.fetchInfo.lastStatus.response=c,t.fetchInfo.lastStatus.ok)return c;console.log(t.fetchInfo.lastStatus)})})}uploadFile(e,t,n){let r=e.fileObject,c=e.preFlightData,p=this;if(c.dataToFill!==null)c.dataToFill.length>0&&!e.uploaded&&(e.pause||p.throttleSend(e,t,n));else{let g=this.defaultXHR({UploadTo:e.uploadTo,Filename:r.name,Filetype:r.type,Chunkstosend:c.chunksToSend,Totalblobsize:c.Totalblobsize,Byteperchunk:c.Byteperchunk}),f=`${this.fqdn}${$.PreFlight}`;g.Get(f,function(w,v){v&&(e.fetched=!0,e.preFlightData.dataToFill=JSON.parse(v).data,e.preFlightData.filename=JSON.parse(v).more.filename,n.setUploadFileObject(t,e),c.dataToFill.length>0&&!e.uploaded&&(e.pause||p.throttleSend(e,t,n)))})}}throttleSend(e,t,n){let r=this,c=e.preFlightData,p=e.preFlightData.dataToFill,g=e.fileObject;for(let f=c.nextIndex,w=p.length;f<w;f++)if(p){let v=p[f],a=JSON.parse(v.moreBlobInfo),o=g.slice(a.startSlice,a.endSlice),u={id:v.id,filename:e.preFlightData.filename,filetype:g.type,uploadTo:e.uploadTo,uploadToID:r.currentDirectoryID,chunkPart:v.blob_chunk_part,chunkSize:v.blob_chunk_size,mbRate:4*1048576,totalChunks:c.chunksToSend,totalBlobSize:g.size,startSlice:a.startSlice,newFile:e.newFile};if(c.throttleSwitch)break;e.preFlightData.sentApi=e.preFlightData.sentApi+1,n.setUploadFileObject(t,e),r.uploadBlob(o,u,t,n),e.preFlightData.nextIndex=e.preFlightData.nextIndex+1,n.setUploadFileObject(t,e)}}uploadBlob(e,t,n,r){let c=this,p=this.bearerToken,g=this.defaultXHR({BlobDataInfo:JSON.stringify(t)}),f=r.getUploadFileObject(n,this.driveSignature);f.preFlightData.sentApi>=f.preFlightData.maxRequestToSend&&(f.preFlightData.throttleSwitch=!0,r.$uploadedFilesObject.set(n,f));let w=`${this.fqdn}${$.PostFiles}`;g.Post(w,e,function(v,a){if(a){let o=JSON.parse(a),u=Math.round(o.data.uploadPercentage);return f.preFlightData.noOfReceivedResponse=f.preFlightData.noOfReceivedResponse+1,r.setUploadFileObject(n,f),o.data.isUploadCompleted||r.updateFileProgress(n,u,c.driveSignature),f.preFlightData.noOfReceivedResponse===f.preFlightData.maxRequestToSend&&(r.releaseThrottle(n,c.driveSignature),!o.data.isUploadCompleted&&!f.uploaded&&c.uploadFile(f,n,r)),f.uploaded||o.data.isUploadCompleted&&(r.setUploadCompleted(n,c.driveSignature),r.isUploadingSequentially()&&(r.setSequenceDone(n,c.driveSignature),r.uploadFileNextSequence(c.driveSignature))),o}})}cancelFileUploadHandler(e,t){let n=this;e.pause=!0,e.uploaded=!0,e.preFlightData.throttleSwitch=!0;let r=this.driveSignature+"_"+e.fileObject.name;return t.setUploadFileObject(r,e),new Promise(function(c,p){let g=e.preFlightData,f={filename:e.preFlightData.filename,totalChunks:g.chunksToSend,uploadTo:e.uploadTo,totalBlobSize:e.fileObject.size},w=n.defaultXHR({}),v=JSON.stringify(f),a=`${n.fqdn}${$.CancelUpload}`;w.Delete(a,v,function(o,u){o&&p(),u&&(u=JSON.parse(u),u.hasOwnProperty("status")&&u.status==200&&c(u.message))})})}renameFileHandler(e,t){let n=this;return new Promise(function(r,c){let p=e.querySelector(".tonics-file-filename-input");e.dataset.filename_new=p.value;let g=JSON.stringify(e.dataset),f=n.headers(),w=`${n.fqdn}${$.RenameFile}`,v=new Request(w,{method:"PUT",headers:f,cache:"default",mode:"cors",body:g});new At(v).run().then(function(a){return n.processResponse(a)}).then(function(a){if(a.status>200)return c();if(a.hasOwnProperty("data")){p.style.width=175+"px";let o=a.data;return p.value=o.filename,p.ariaLabel=o.filename,e.dataset.drive_id=o.drive_id,e.dataset.filename=o.filename,e.dataset.file_path=o.file_path,e.dataset.time_modified=o.time_modified,r(e)}})})}editImageHandler(e){let t=this;return new Promise(function(n,r){let c=e.getFileContainerEvent().getSelectedFile(),p=`${t.fqdn}${$.ServeFile}`+c.dataset.drive_unique_id+"?render",g={translations:{en:{"toolbar.save":"Save","toolbar.apply":"Apply","toolbar.download":"Save Changes"}}};if(c){let f=d(function(w){w.canvas.toBlob(function(v){let a=new File([v],c.dataset.filename),o=e.getFileContainerEvent().getCurrentDirectory(),u=e.byteToSendPerChunk,m={fileObject:a,driveSignature:e.getFileContainerEvent().currentDrive.driveSignature,preFlightData:{filename:a.name,dataToFill:null,chunksToSend:Math.ceil(a.size/u),Byteperchunk:u,Totalblobsize:a.size,maxRequestToSend:e.maxRequestToSend,noOfReceivedResponse:0,throttleSwitch:!1,sentApi:0,nextIndex:0},newFile:!1,uploadTo:o,fetched:!1,pause:!1,uploaded:!1};e.updateFileProgress(a.name,0,t.driveSignature," \u22EF Updating"),e.setUploadFileObject(a.name,m),t.uploadFile(m,a.name,e)})},"onBeforeComplete");new FilerobotImageEditor(g,{onBeforeComplete:f}).open(p)}})}copyLinkHandler(e,t){let n=this;return new Promise((r,c)=>{t===null&&(t=e.getSelectedFile());let p=`${n.fqdn}${$.ServeFile}`+t.dataset.drive_unique_id;return ue(p).then(()=>{r(p)}).catch(()=>{c()})})}copyPreviewLinkHandler(e,t){let n=this;return new Promise((r,c)=>{t===null&&(t=e.getSelectedFile());let p=`${n.fqdn}${$.ServeFile}`+t.dataset.drive_unique_id+"?render";return ue(p).then(()=>{r(p)}).catch(()=>{c()})})}moveFileHandler(e,t){let n=this;return new Promise(function(r,c){let p=[],g=e.dataset;g.hasOwnProperty("drive_id")||(g.drive_id=n._currentDirectoryID),t.getCutFiles().forEach(a=>{if(a.dataset.drive_id==g.drive_id)throw c(`Destination Folder \`${g.filename}\` is a subfolder of the source folder`),new DOMException(`Destination Folder \`${g.filename}\` is a subfolder of the source folder, you can't paste the same folder into the same folder`);p.push(a.dataset)});let f=JSON.stringify({files:p,destination:g}),w=n.defaultXHR({}),v=`${n.fqdn}${$.MoveFiles}`;w.Put(v,f,function(a,o){if(a)return a=JSON.parse(a),c();o&&(o=JSON.parse(o),o.hasOwnProperty("status")&&o.status==200&&n.refresh(t).then(function(){r()}))})})}deleteFileHandler(e,t){let n=this;return new Promise(function(r,c){let p=n.defaultXHR({}),g=JSON.stringify({files:e}),f=`${n.fqdn}${$.DeleteFiles}`;p.Delete(f,g,function(w,v){w&&c(),v&&(v=JSON.parse(v),v.hasOwnProperty("status")&&v.status==200&&n.refresh(t).then(function(){r(v.message)}))})})}processResponse(e){return ne(this,null,function*(){return this.fetchInfo.lastStatus.ok=e.ok,this.fetchInfo.lastStatus.status=e.status,this.fetchInfo.lastStatus.statusText=e.statusText,this.fetchInfo.lastStatus.response=null,this.fetchInfo.lastStatus.ok?yield e.json():yield e.json()})}setFqdn(e){let t=this.isValidURL(e);if(!t)throw new DOMException(`${e} is not a valid domain address, an example of a valid domain is https://google.com`);this.fqdn=t}isValidURL(e){let t=document.createElement("input");return t.setAttribute("type","url"),t.value=e,t.validity.valid?e:!1}},"Rt");d(Qi,"LocalDiskDrive");var Ye=y(class{constructor(e,t,n=!1){this.commands=e,this.fileData=t,this.append=n}getCommands(){return this.commands}getFileData(){return this.fileData}placeFileByExtension(){let e=this,t=this.getCommands().getList();this.append||document.querySelectorAll(A.FILES.SINGLE_FILE).forEach(c=>c.remove());let n,r=this.getFileData();for(n in r){let c=r[n],p;c.hasOwnProperty("metadata")&&(c=c.metadata.metadata),document.querySelector("[data-list_id]:last-of-type")?p=parseInt(document.querySelector("[data-list_id]:last-of-type").dataset.list_id)+1:p=n,c.list_id=p;let g=!1,f=Ui(c.name);t.forEach((w,v)=>{typeof w.extensions=="function"&&typeof w.run=="function"&&(c[".tag"]==="folder"?w.extensions().includes(null)&&(g=!0,w.run(c,"null",function(a,o,u){return e.createFile(a,o,u)})):w.extensions().includes(f)&&(g=!0,w.run(c,f,function(a,o,u){return e.createFile(a,o,u)})))}),g||new nt().run(c,f,function(w,v,a){return e.createFile(w,v,a)})}}createFile(e,t,n){let r=document.querySelector(A.FILES.FILE_CONTAINER),c="",p="";n.hasOwnProperty("size")&&(c=n.size),n.hasOwnProperty("server_modified")&&(p=n.server_modified);let g=n[".tag"]==="folder"?"directory":n[".tag"],f=`
        <li class="tonics-file" 
                    data-list_id="${n.list_id}"
                    data-drive_id="${n.id}"
                    data-filename="${n.name}" 
                    data-file_type="${g}"
                    data-size="${c}"
                    data-file_path="${n.path_lower}"
                    data-time_modified="${p}"
                    data-ext="${t}">
          <button class="tonics-fm-link remove-button-styles">
           ${e}
            <div class="tonics-file-filename">
              <input onkeyup="event.preventDefault()" class="tonics-file-filename-input" type="text" value="${n.name}" readonly="" aria-label="${n.name}">
            </div>
            <span class="svg-per-file-loading display-none"></span>
          </button>
        </li>
        `;return r==null||r.insertAdjacentHTML("beforeend",f),r==null?void 0:r.lastElementChild}},"Ie");d(Ye,"DropboxFileExtensionCommands");var et={FileRobotImageEditor:{ID:"filerobot-image-editor",PATH:"/serve_module_file_path_987654321/Core?path=/js/media/filerobot-image-editor.js"},DropboxSDK:{ID:"dropbox-sdk",PATH:"/serve_module_file_path_987654321/Core?path=/js/media/dropbox.min.js"}},Xi=y(class{constructor(e="",t=""){this._sharedLink=new Map,e&&(this.driveSignature=e),t&&(this.accessToken=t)}get isSearch(){return this._isSearch}set isSearch(e){this._isSearch=e}get driveSignature(){return this._driveSignature}set driveSignature(e){this._driveSignature=e}get accessToken(){return this._accessToken}set accessToken(e){this._accessToken=e}get sharedLink(){return this._sharedLink}get storageData(){return this._storageData}set storageData(e){this._storageData=e}get nextCursor(){return this._nextCursor}set nextCursor(e){this._nextCursor=e}get appendNewFiles(){return this._appendNewFiles}set appendNewFiles(e){this._appendNewFiles=e}getMaxRequestToSend(){return 1}getDriveIcon(){return"#tonics-dropbox"}getDriveName(){return"Dropbox"}coldBootStorageDisk(){let e=this;return new Promise(function(t,n){tn(et.DropboxSDK.PATH,et.DropboxSDK.ID).then(function(){e.listFolder("").then(()=>{t()}).catch(()=>{n()})}.bind(e))})}addCrumbNavigationPathTrail(e){var t;let n=e.split("/"),r=document.querySelector(".breadcrumb"),c="",p="";r.innerHTML="Navigating:  ",n.forEach(g=>{c=c.concat(`/${g}`),g?p=Zt(g):(c="",p="Root"),r==null||r.insertAdjacentHTML("beforeend",`<a data-pathtrail="${c}" data-filename="${g}"  href="javascript:void(0);">${p}</a><span class="delimiter"> \xBB </span>`)}),(t=r==null?void 0:r.lastElementChild)==null||t.remove()}getStorageFileData(){return this.storageData}createIndividualDataElement(e){let t=new Gt(an.FileByExtensions);if(e.result.has_more?(this.nextCursor=e.result.cursor,Ee()):Ee(!1,!1),e.result.hasOwnProperty("matches")){this.isSearch=!0;let n=e.result.matches;return new Ye(t,n).placeFileByExtension()}else{this.isSearch=!1;let n=e.result.entries;return this.appendNewFiles?new Ye(t,n,!0).placeFileByExtension():new Ye(t,n).placeFileByExtension()}}listFolder(e=""){let t=this;return new Promise((n,r)=>{let c=t.getDropbox().filesListFolder({path:e,include_media_info:!0,recursive:!1,limit:20});t.storageData=c,c.then(p=>{t.addCrumbNavigationPathTrail(e),t.createIndividualDataElement(p),n()}).catch(function(p){console.log(p),r(p)})})}loadMoreFiles(e){return new Promise((t,n)=>{this.isSearch&&this.getDropbox().filesSearchContinueV2({cursor:this.nextCursor}).then(r=>{this.appendNewFiles=!0,this.createIndividualDataElement(r),this.appendNewFiles=!1,t()}),this.getDropbox().filesListFolderContinue({cursor:this.nextCursor}).then(r=>{this.appendNewFiles=!0,this.createIndividualDataElement(r),this.appendNewFiles=!1,t()})})}searchFiles(e,t){return new Promise((n,r)=>{this.getDropbox().filesSearchV2({query:e}).then(c=>{this.createIndividualDataElement(c),n()})})}cancelFileUploadHandler(e,t){e.pause=!0,e.uploaded=!0,e.preFlightData.throttleSwitch=!0;let n=this.driveSignature+"_"+e.fileObject.name;return t.setUploadFileObject(n,e),new Promise(function(r,c){localStorage.getItem(n)&&(localStorage.removeItem(n),r()),c()})}moveFileHandler(e,t){let n=this,r=[],c=e.dataset;return t.getCutFiles().forEach(p=>{if(p.dataset.drive_id==c.drive_id)throw new DOMException(`Destination Folder \`${c.filename}\` is a subfolder of the source folder, you can't paste the same folder into the same folder`);{let g={from_path:p.dataset.file_path,to_path:c.file_path+p.dataset.file_path};c.file_path||(g={from_path:p.dataset.file_path,to_path:"/"+p.dataset.filename}),r.push(g)}}),new Promise(function(p,g){let f=n.getDropbox();f.filesMoveBatchV2({entries:r,autorename:!0,allow_ownership_transfer:!0}).then(function(w){return w}).then(function(w){f.filesMoveBatchCheckV2({async_job_id:w.result.async_job_id}).then(v=>{console.log(v),p("Move Operation is Progressing, Refresh After Few Seconds (Might Take Longer)")})}).catch(function(w){console.log(w),g()})})}renameFileHandler(e,t){let n=this;return new Promise(function(r,c){let p=e.querySelector(".tonics-file-filename-input"),g=e.dataset.file_path,f=Hi(g,"/"),w=e.dataset.ext,v=p.value,a=f+v;f!=="/"&&(a=f+"/"+v),g.endsWith(w)&&(v.endsWith(w)?a=f+v:a=f+v+"."+w),n.getDropbox().filesMoveV2({from_path:g,to_path:a}).then(function(o){if(o){p.style.width=175+"px";let u=o.result.metadata;p.value=u.name,e.dataset.filename=u.name,e.dataset.file_path=u.path_lower,e.dataset.time_modified=u.server_modified,r(e)}}).catch(function(o){console.log(o),c()})})}editImageHandler(e){let t=this;return new Promise(function(n,r){let c=e.getFileContainerEvent().getSelectedFile();if(c){let p=t.getDropbox();p.filesGetTemporaryLink({path:c.dataset.file_path}).then(function(g){return g.result.link}).then(function(g){let f={translations:{en:{"toolbar.save":"Save","toolbar.apply":"Apply","toolbar.download":"Save Changes"}}},w=d(function(v){v.canvas.toBlob(function(a){let o=new File([a],c.dataset.filename);p.filesUpload({path:c.dataset.file_path,contents:o,mode:"overwrite"}).then(function(u){e.updateFileProgress(o.name,100,t.driveSignature," \u2713 Updated")}).catch(function(u){console.log(u),r()})})},"onBeforeComplete");new FilerobotImageEditor(f,{onBeforeComplete:w}).open(g)}).catch(function(g){r()})}})}deleteFileHandler(e,t){let n=this,r=[];return e.forEach(function(c,p,g){let f={path:c.file_path};r.push(f)}),new Promise(function(c,p){n.getDropbox().filesDeleteBatch({entries:r}).then(g=>{g.status!==200&&p(),c("File(s) Deletion Is In Progress, Refresh After Few Seconds (Might Take Longer)")}).catch(function(g){console.log(g),p()})})}openFolderHandler(e,t){let n=this;return new Promise(function(r,c){e.dataset.file_type==="directory"&&n.listFolder(e.dataset.file_path).then(function(){r()}).catch(function(p){console.log(p),c()})})}parseDropboxSharedLink(e,t="?dl=1"){let n=document.createElement("a");return n.href=e,n.origin+n.pathname+t}copyLinkHandler(e,t){let n=this;return new Promise((r,c)=>ne(this,null,function*(){let p=n.getDropbox();t===null&&(t=e.getSelectedFile());let g=t.dataset.file_path,f;if(f=n.sharedLink.get(g)){let w=n.parseDropboxSharedLink(f);yield ue(w).then(()=>{r(w)})}else p.sharingCreateSharedLinkWithSettings({path:g,settings:{audience:"public",access:"viewer",requested_visibility:"public",allow_download:!0}}).then(w=>ne(this,null,function*(){let v=n.parseDropboxSharedLink(w.result.url);n.sharedLink.set(g,w.result.url),yield ue(v).then(()=>{r(v)})})).catch(function(w){return w.error||c(),w.error}).then(w=>{w.error&&w.error[".tag"]==="shared_link_already_exists"&&p.sharingListSharedLinks({path:g,direct_only:!0}).then(v=>ne(this,null,function*(){let a=n.parseDropboxSharedLink(v.result.links[0].url);n.sharedLink.set(g,v.result.links[0].url),yield ue(a).then(()=>{n.sharedLink.set(g,v.result.links[0].url),r(a)})}))}).catch(()=>{c()})}))}copyPreviewLinkHandler(e,t){let n=this;return new Promise((r,c)=>ne(this,null,function*(){let p=n.getDropbox();t===null&&(t=e.getSelectedFile());let g=t.dataset.file_path,f;if(f=n.sharedLink.get(g)){let w=n.parseDropboxSharedLink(f,"?raw=1");yield ue(w).then(()=>r(w))}else p.sharingCreateSharedLinkWithSettings({path:g,settings:{audience:"public",access:"viewer",requested_visibility:"public",allow_download:!0}}).then(w=>ne(this,null,function*(){let v=n.parseDropboxSharedLink(w.result.url,"?raw=1");n.sharedLink.set(g,w.result.url),yield ue(v).then(()=>{r(v)})})).catch(w=>(w.error||c(),w.error)).then(w=>{w.error&&w.error[".tag"]==="shared_link_already_exists"&&p.sharingListSharedLinks({path:g,direct_only:!0}).then(v=>ne(this,null,function*(){let a=n.parseDropboxSharedLink(v.result.links[0].url,"?raw=1");n.sharedLink.set(g,v.result.links[0].url),yield ue(a).then(()=>{n.sharedLink.set(g,v.result.links[0].url),r(a)})}))}).catch(()=>{c()})}))}createFolder(e,t){let n=this;return new Promise(function(r,c){let p=n.getDropbox(),g=e.getCurrentDirectory()+"/"+t.name;p.filesCreateFolderV2({path:g}).then(function(f){f.status===200&&r()}).catch(function(f){console.log(f),c()})})}refresh(e){let t=this;return new Promise(function(n,r){t.listFolder(e.getCurrentDirectory()).then(function(){n()}).catch(function(c){console.log(c),r()})})}getDropbox(){return new Dropbox.Dropbox({accessToken:`${this.accessToken}`})}uploadFile(e,t,n){let r=e.preFlightData,c=this;this.createPreflightData(e,r.chunksToSend,r.Byteperchunk,r.Totalblobsize).then(function(p){e.preFlightData.dataToFill=p,e.preFlightData.dataToFill&&e.preFlightData.dataToFill.length>0&&!e.uploaded&&(e.pause||c.throttleSend(e,t,n))})}throttleSend(e,t,n){let r=e.preFlightData,c=e.preFlightData.dataToFill,p=e.fileObject;for(let g=0,f=c.length;g<f;g++)if(c){let w=p.slice(c[g].startSlice,c[g].endSlice);if(r.throttleSwitch)break;e.preFlightData.sentApi=e.preFlightData.sentApi+1,n.$uploadedFilesObject.set(t,e);let v=c[g].startSlice;this.uploadBlob(w,t,n,v)}}uploadBlob(e,t,n,r){let c=this.getDropbox(),p=this.getSessionID(t),g={session_id:p,offset:r},f=this,w=n.getUploadFileObject(t,f.driveSignature);if(w.preFlightData.sentApi===w.preFlightData.maxRequestToSend&&(w.preFlightData.throttleSwitch=!0,n.$uploadedFilesObject.set(t,w)),this.isLastOffset(t,r)){let v={path:n.getFileContainerEvent().getCurrentDirectory()+"/"+w.fileObject.name,mode:"add",autorename:!0,mute:!1};return c.filesUploadSessionFinish({cursor:{session_id:p,offset:w.fileObject.size},commit:v,contents:e}).then(function(){n.setUploadCompleted(t,f.driveSignature),localStorage.removeItem(t),n.isUploadingSequentially()&&(n.setSequenceDone(t,f.driveSignature),n.uploadFileNextSequence(f.driveSignature))})}else c.filesUploadSessionAppendV2({cursor:g,close:!1,contents:e}).then(()=>{f.updateOffsetDone(t,r),w.preFlightData.noOfReceivedResponse=w.preFlightData.noOfReceivedResponse+1,n.$uploadedFilesObject.set(t,w);let v=Math.round(f.uploadPercentage(t));w.preFlightData.noOfReceivedResponse===w.preFlightData.maxRequestToSend&&(n.releaseThrottle(t,f.driveSignature),w.uploaded||(f.uploadFile(w,t,n),n.updateFileProgress(t,v,f.driveSignature)))}).catch(v=>{if(v=v.error,v.error.hasOwnProperty("correct_offset")){let a=v.error.correct_offset;f.repairOffsetPosition(t,a),n.releaseThrottle(t,f.driveSignature),f.uploadFile(w,t,n)}})}createPreflightData(e,t,n,r){let c=this,p=c.driveSignature+"_"+e.fileObject.name;return new Promise(function(g,f){return ne(this,null,function*(){let w=c.getDropbox(),v;if(v=JSON.parse(localStorage.getItem(p)))return v=v.dataToFill.filter(m=>!m.done),g(v);let a=0,o=n,u=e.fileObject;v={session_id:"",dataToFill:[]};for(let m=0;m<=t;m++)m===0?yield w.filesUploadSessionStart({close:!1,contents:u.slice(a,o)}).then(_=>{v.dataToFill.push({startSlice:a,endSlice:o,done:!0}),v.session_id=_.result.session_id}).catch(function(){f()}):v.dataToFill.push({startSlice:a,endSlice:o,done:!1}),r=r-n,a=o,o=a+n;return localStorage.setItem(p,JSON.stringify(v)),v=v.dataToFill.filter(m=>!m.done),g(v)})})}isLastOffset(e,t){let n=JSON.parse(localStorage.getItem(e));return n?(n=n.dataToFill,n[n.length-1].startSlice===t):!1}updateOffsetDone(e,t,n=!0){let r=JSON.parse(localStorage.getItem(e));if(r){let c=r.dataToFill;for(let p=0,g=c.length;p<g;p++)if(c[p].startSlice===t){c[p].done=n,localStorage.setItem(e,JSON.stringify({session_id:r.session_id,dataToFill:c}));break}}}getSessionID(e){let t=JSON.parse(localStorage.getItem(e));return t?t.session_id:!1}uploadPercentage(e){let t=JSON.parse(localStorage.getItem(e));if(t){let n=t.dataToFill.length;return t.dataToFill.filter(r=>r.done).length/n*100}}repairOffsetPosition(e,t){let n=JSON.parse(localStorage.getItem(e));if(n){let r=n.dataToFill;for(let c=0,p=r.length;c<p&&!(r[c].endSlice>t);c++)r[c].endSlice<=t&&(r[c].done=!0,localStorage.setItem(e,JSON.stringify({session_id:n.session_id,dataToFill:r})))}}breadCrumbClickNavigationHandler(e){return new Promise((t,n)=>{this.listFolder(e).then(()=>t()).catch(()=>n())})}},"Nt");d(Xi,"DropboxDiskDrive");var sn=y(class{constructor(){this._$driveSystem=new Map}get $driveSystem(){return this._$driveSystem}attachDriveStorage(e){return this.$driveSystem.set(e.driveSignature,e),this}detachDriveStorage(e){this.$driveSystem.has(e)&&this.$driveSystem.delete(e)}getDriveStorage(e){if(this.$driveSystem.has(e))return this.$driveSystem.get(e);throw new DOMException(`DriveStorage "${e}" doesn't exist`)}getFirstDriveStorage(){return[...this.$driveSystem][0][1]}},"rt");d(sn,"StorageDriversManager");window.hasOwnProperty("TonicsMedia")||(window.TonicsMedia={});window.TonicsMedia.StorageDriversManager=()=>new sn;var Ki=y(class{constructor(e){this.removePreviousCutFiles(e),this.cutSelectedFiles(e),e.removeContextMenu()}removePreviousCutFiles(e){e.cutFile=[]}cutSelectedFiles(e){let t=e.getAllSelectedFiles();t.length>0&&(e.cutFile=t)}},"Ut");d(Ki,"CutFileEvent");var on=y(class{constructor(e){this.fileContainerEvent=e,this.copiedLinkFile=e.getSelectedFile(),this.copiedLink=""}getFileContainerEvent(){return this.fileContainerEvent}handleCopyLink(e=null){let t=this;return this.getFileContainerEvent().currentDrive.copyPreviewLinkHandler(this.fileContainerEvent,e)}onSuccess(e){this.setCopiedLink(e),this.fileContainerEvent.removeContextMenu(),ae(D.Link.Copy.Preview.Success).then(),this.fileContainerEvent.dispatchEventToHandlers(this,on)}onError(e=null){W(D.Link.Copy.Preview.Error).then()}getCopiedLinkFile(){return this.copiedLinkFile}setCopiedLink(e){this.copiedLink=e}getCopiedLink(){return this.copiedLink}},"Oe");d(on,"CopyPreviewLinkEvent");var rn=y(class{get renamedFile(){return this._renamedFile}set renamedFile(e){this._renamedFile=e}constructor(e){this.fileContainerEvent=e}handleRenameFile(){let e=this.fileContainerEvent.getSelectedFile();if(e){let t=e.querySelector(".tonics-file-filename-input");this.fileContainerEvent.removeContextMenu(),en("Rename File To: ",t.value).then(n=>{n.isConfirmed&&(t.value=n.value,this.fileContainerEvent.currentDrive.renameFileHandler(e,this.fileContainerEvent).then(r=>{this.onSuccess(r)}).catch(()=>{this.onError()}))})}}onSuccess(e=""){ae(D.Rename.Success).then(),this.renamedFile=e,this.fileContainerEvent.clearSelection(),this.fileContainerEvent.dispatchEventToHandlers(this,rn)}onError(e=""){W(D.Rename.Error).then()}},"_e");d(rn,"RenameFileEvent");var ln=y(class{constructor(e){this.fileContainerEvent=e}handleDeleteFile(){return ne(this,null,function*(){let e=this.fileContainerEvent;e.removeDeletionMark(e.getAllFiles());let t=e.getAllSelectedFiles(),n=[];return t.length>0&&(e.markForDeletion(t),e.getFilesToBeDeleted().forEach(r=>{n.push(r.dataset)})),e.removeContextMenu(),e.currentDrive.deleteFileHandler(n,e)})}onSuccess(e=""){this.fileContainerEvent.resetPreviousFilesState(),e||(e=D.Deleted.Success),ae(e).then(),this.fileContainerEvent.dispatchEventToHandlers(this,ln)}onError(e=""){W(D.Deleted.Error).then()}},"Me");d(ln,"DeleteFileEvent");var un=y(class{constructor(e){this.fileContainerEvent=e}handlePasteFile(){let e=this.fileContainerEvent;e.removeContextMenu();let t=e.getSelectedFile();return t||(t=document.createElement("li"),t.dataset.file_type="directory",t.dataset.file_path=e.getCurrentDirectory(),t.dataset.filename=e.getCurrentDirectoryFilename(),t.dataset.ext="null"),t&&t.dataset.ext=="null"&&t.dataset.file_type=="directory"?(t.dataset.paste="true",e.currentDrive.moveFileHandler(t,e)):!1}onSuccess(e=""){this.fileContainerEvent.resetPreviousFilesState(),this.fileContainerEvent.cutFile=[],e||(e=D.Move.Success),ae(e).then(),this.fileContainerEvent.dispatchEventToHandlers(this,un)}onError(e=""){e?W(e).then():W(D.Move.Error).then()}},"Ae");d(un,"PasteFileEvent");var Wi=y(class{constructor(e){this.fileContainerEvent=e,this.handleEditImageFile()}handleEditImageFile(){let e=this;tn(et.FileRobotImageEditor.PATH,et.FileRobotImageEditor.ID).then(function(){return e.fileContainerEvent.currentDrive.editImageHandler(new it(e.fileContainerEvent,null,null))}.bind(e))}},"jt");d(Wi,"EditImageFileEvent");var Vt=y(class{constructor(e,t,n){this._cutFile=[],this._pasteTo=null,this.fileContainer=e,this.loadDriveEventClass=t,this.currentDrive=n}get currentDrive(){return this._currentDrive}set currentDrive(e){this._currentDrive=e}get cutFile(){return this._cutFile}set cutFile(e){this._cutFile=e}get pasteTo(){return this._pasteTo}set pasteTo(e){this._pasteTo=e}getFileContainer(){return this.fileContainer}getLoadDriveEventClass(){return this.loadDriveEventClass}getCurrentDirectory(){var e,t;return(t=(e=document.querySelector(".breadcrumb"))==null?void 0:e.lastElementChild)==null?void 0:t.getAttribute("data-pathtrail")}getCurrentDirectoryFilename(){var e,t;return(t=(e=document.querySelector(".breadcrumb"))==null?void 0:e.lastElementChild)==null?void 0:t.getAttribute("data-filename")}getBreadCrumbElement(){return document.querySelector(".breadcrumb")}titleCase(e){return e.toLowerCase().replace(/\b(\w)/g,function(t){return t.toLocaleUpperCase()})}getSelectedFile(){return document.querySelector('[data-selected="true"]')}getAllSelectedFiles(){return document.querySelectorAll('[data-selected="true"]')}getAllFiles(){return document.querySelectorAll("li.tonics-file")}getCutFiles(){return this.cutFile}getFilesToBeDeleted(){return document.querySelectorAll('[data-delete="true"]')}getFileByListID(e){return document.querySelector(`[data-list_id="${e}"]`)}getCopiedFiles(){return document.querySelectorAll('[data-copied="true"]')}getContextMenu(){return document.querySelector(A.FILES.CONTEXT)}getDiskDrives(){return document.querySelector(A.DRIVE.FILE_DISK_DRIVES)}removeContextMenu(){this.getContextMenu().classList.remove("show")}highlightFile(e){e.classList.add("selected-file"),e.dataset.selected="true";let t=document.querySelector(A.HEAD.PARENT);switch(t.style.top="0",e.dataset.file_type){case"directory":return this.cutFile.length>0?De([C().PASTE_FILE,C().RENAME_FILE,C().CUT_FILE,C().DELETE_FILE]):De([C().RENAME_FILE,C().CUT_FILE,C().DELETE_FILE]);case"file":if(this.cutFile.length>0)return De([C().PASTE_FILE,C().RENAME_FILE,C().CUT_FILE,C().DELETE_FILE]);De([C().RENAME_FILE,C().CUT_FILE,C().DELETE_FILE,C().COPY_PREVIEW_LINK,C().COPY_LINK])}}unHighlightFile(e){e.classList.remove("selected-file"),e.dataset.selected="false",e.setAttribute("readonly","true"),this.getAllSelectedFiles().length<1&&Rt([C().RENAME_FILE,C().CUT_FILE,C().DELETE_FILE,C().PASTE_FILE,C().COPY_PREVIEW_LINK,C().COPY_LINK])}resetPreviousFilesState(){let e=A.FILES.SINGLE_FILE,t=document.querySelector(A.HEAD.PARENT),n=t==null?void 0:t.getBoundingClientRect().height;if(t.style.top=`-${n}px`,document.querySelectorAll(e).forEach(r=>{var c;r.classList.remove("selected-file"),r.setAttribute("data-selected","false"),(c=r.querySelector(".tonics-file-filename-input"))==null||c.setAttribute("readonly","true")}),Rt([C().RENAME_FILE,C().CUT_FILE,C().DELETE_FILE,C().PASTE_FILE,C().COPY_PREVIEW_LINK,C().COPY_LINK]),this.cutFile.length>0)return De([C().PASTE_FILE])}removeAllDriveSelectionMark(){this.loadDriveEventClass.removeAllDriveSelectionMark()}removeDeletionMark(e){e.length>0&&e.forEach(t=>{t.dataset.delete="false"})}markForDeletion(e){e.length>0&&e.forEach(t=>{t.dataset.delete="true"})}clearSelection(){var e;(e=window==null?void 0:window.getSelection())==null||e.empty()}menuEventAction(e){let t=this;if(Ze.hasOwnProperty(e)){let n=C(),r;for(r in n){let c=n[r];if(c==e)switch(c){case"EditImageFileEvent":return t.editImageFileEvent();case"DeleteFileEvent":return t.deleteFileEvent();case"RenameFileEvent":return t.renameFileEvent();case"PasteFileEvent":return t.pasteFileEvent();case"UploadFileEvent":return t.uploadFileEvent();case"CopyLinkEvent":return t.copyLinkEvent();case"CopyPreviewLinkEvent":return t.copyPreviewLinkEvent();case"CutFileEvent":return new Ki(this);case"NewFolderEvent":en("Folder Name").then(p=>{if(this.removeContextMenu(),p.isConfirmed){let g={name:p.value};return t.currentDrive.createFolder(this,g).then(function(){ae(D.Folder.Success).then(),t.currentDrive.refresh(t).then()}.bind(t)).catch(function(){W(D.Folder.Error).then()})}});return;case"RefreshFolderEvent":return t.refreshFolderEvent();default:break}}}}dispatchEventToHandlers(e,t){ce(e,t)}editImageFileEvent(){new Wi(this)}refreshFolderEvent(){return this.currentDrive.refresh(this).then(()=>{this.removeContextMenu(),ae(D.Refresh.Success).then()})}deleteFileEvent(){let e=new ln(this);ji("Are You Sure You Want To Delete File(s) ?","Delete",()=>{e.handleDeleteFile().then(t=>{e.onSuccess(t)}).catch(function(){e.onError()})})}pasteFileEvent(){let e=new un(this),t=e.handlePasteFile();t instanceof Promise&&t.then(n=>{e.onSuccess(n)}).catch(function(){e.onError()}),t===!1&&e.onError("Failed To Paste Into Directory")}copyLinkEvent(){let e=new at(this);e.handleCopyLink(this.getSelectedFile()).then(t=>{e.onSuccess(t)}).catch(t=>{e.onError()})}copyPreviewLinkEvent(){let e=new on(this);e.handleCopyLink(this.getSelectedFile()).then(t=>{e.onSuccess(t)}).catch(function(){e.onError()})}renameFileEvent(){new rn(this).handleRenameFile()}uploadFileEvent(){let e=this,t=document.createElement("input");t.type="file",t.multiple=!0,t.click(),t.onchange=function(n){let r=n.target.files,c=e.getCurrentDirectory();new it(e,r,c)}}},"st");d(Vt,"FileContainerEvent");var tt=y(class{constructor(e,t){this.data=e,this.loadDriveEventClass=t}getData(){return this.data}getLoadDriveEventClass(){return this.loadDriveEventClass}getFiles(){var e;return(e=this.getData())==null?void 0:e.data}getCurrentPath(){var e;return(e=this.getData())==null?void 0:e.more}getBreadCrumbElement(){return document.querySelector(".breadcrumb")}},"He");d(tt,"LoadDriveDataEvent");window.hasOwnProperty("TonicsScript")||(window.TonicsMedia={});window.TonicsMedia.LoadDriveDataEvent=(e,t)=>new tt(e,t);var cn=y(class{get appURL(){return this._appURL}set appURL(e){this._appURL=e}get eventsConfig(){return this._eventsConfig}set eventsConfig(e){this._eventsConfig=e}get driveStorageManager(){return this._driveStorageManager}set driveStorageManager(e){this._driveStorageManager=e}constructor(e,t=""){window.TonicsFileManager={events:{}},this._eventsConfig=Ze,this.driveStorageManager=e;let n=document.querySelector(".tonics-files-parent"),r=n==null?void 0:n.querySelector(".tonics-files-container");if(this._appURL=t,this.processDriveRootFolder(),r){let c=Te(this.eventsConfig,Vt),p=new Vt(r,this,this.driveStorageManager.getFirstDriveStorage());window.TonicsFileManager.events.fileContainerEvent=p,window.TonicsFileManager.events.loadDriveEvent=this,this.getEventDispatcher().setHandler(c).dispatch(p)}}processDriveRootFolder(){let e=document.querySelector(A.DRIVE.DISK_DRIVE_CONTAINER);e==null||e.replaceChildren(),this.driveStorageManager.$driveSystem.forEach(function(t,n){let r=t.getDriveIcon();e==null||e.insertAdjacentHTML("beforeend",`
            <li class="tonics-individual-drive" data-drivename=${n}>
          <a href="javascript:void(0);" class="drive-link">
              <button class="drive-toggle" aria-expanded="false" aria-label="Expand child menu">
                  <svg class="icon tonics-drive-icon">
                      <use class="svgUse" xlink:href=${r}></use>
                  </svg>
              </button>
              <span class="tonics-drive-selected display-none"> \u2713 </span>
              &nbsp;
              <!-- DRIVE NAME -->
              <span class="drive-name"> ${n} Drive</span>
          </a>
      </li>`)})}processFiles(e){let t=Te(Ze,tt);this.getEventDispatcher().setHandler(t).dispatch(new tt(e,this))}bootDiskDrive(e){if(!this.driveStorageManager.$driveSystem.has(e))throw new DOMException(`Couldn't Boot Drive "${e}", Perhaps, It Doesn't Exit?`);Nt(),this.driveStorageManager.getDriveStorage(e).coldBootStorageDisk().then(()=>{Nt(!1),this.removeAllDriveSelectionMark(),document.querySelector(`[data-drivename="${e}"]`).querySelector(A.DRIVE.DRIVE_SELECTED).classList.remove("display-none")})}removeAllDriveSelectionMark(){let e=A.DRIVE.DRIVE_SELECTED;document.querySelectorAll(e).forEach(t=>{t.classList.add("display-none")})}successMessage(e){return ae(e)}errorMessage(e){return W(e)}getEventDispatcher(){return new st}},"at");d(cn,"LoadDriveEvent");window.hasOwnProperty("TonicsScript")||(window.TonicsMedia={});window.TonicsMedia.LoadDriveEvent=(e,t="")=>new cn(e,t);var Yi=y(class{constructor(e){if(e==="LocalDiskDrive")return(t,n="",r)=>new Qi(t,n,r);if(e==="DropboxDiskDrive")return(t,n)=>new Xi(t,n);if(e==="StorageDriversManager")return new sn;if(e==="LoadDriveEvent")return(t,n="")=>new cn(t,n)}},"dn");d(Yi,"TonicsFileManagerExcrete");window.hasOwnProperty("TonicsMedia")||(window.TonicsMedia={});window.TonicsMedia.TonicsFileManagerExcrete=e=>new Yi(e);function dn(e,t,n,r=null){let c,p,g,f;c=n.left-t.getBoundingClientRect().left,p=n.top-t.getBoundingClientRect().top,g=t.getBoundingClientRect().left-n.left,f=t.getBoundingClientRect().top-n.top,e.classList.add("draggable-transition"),t.classList.add("draggable-transition"),t.style.transform="translate("+c+"px,"+p+"px)",e.style.transform="translate("+g+"px,"+f+"px)";function w(){e.classList.remove("draggable-transition"),t.classList.remove("draggable-transition"),e.removeAttribute("style"),t.removeAttribute("style");let v=document.createElement("div");e.parentNode.insertBefore(v,e),t.parentNode.insertBefore(e,t),v.parentNode.insertBefore(t,v),v.parentNode.removeChild(v)}y(w,"swap"),t.addEventListener("transitionend",()=>{w(),r&&r()},{once:!0})}y(dn,"swapNodes");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.swapNodes=(e,t,n,r=null)=>dn(e,t,n,r);(function(){"use strict";var e=y(function(){this.init()},"e");e.prototype={init:function(){var a=this||t;return a._counter=1e3,a._html5AudioPool=[],a.html5PoolSize=10,a._codecs={},a._howls=[],a._muted=!1,a._volume=1,a._canPlayEvent="canplaythrough",a._navigator=typeof window!="undefined"&&window.navigator?window.navigator:null,a.masterGain=null,a.noAudio=!1,a.usingWebAudio=!0,a.autoSuspend=!0,a.ctx=null,a.autoUnlock=!0,a._setup(),a},volume:function(a){var o=this||t;if(a=parseFloat(a),o.ctx||v(),a!==void 0&&a>=0&&a<=1){if(o._volume=a,o._muted)return o;o.usingWebAudio&&o.masterGain.gain.setValueAtTime(a,t.ctx.currentTime);for(var u=0;u<o._howls.length;u++)if(!o._howls[u]._webAudio)for(var m=o._howls[u]._getSoundIds(),_=0;_<m.length;_++){var k=o._howls[u]._soundById(m[_]);k&&k._node&&(k._node.volume=k._volume*a)}return o}return o._volume},mute:function(a){var o=this||t;o.ctx||v(),o._muted=a,o.usingWebAudio&&o.masterGain.gain.setValueAtTime(a?0:o._volume,t.ctx.currentTime);for(var u=0;u<o._howls.length;u++)if(!o._howls[u]._webAudio)for(var m=o._howls[u]._getSoundIds(),_=0;_<m.length;_++){var k=o._howls[u]._soundById(m[_]);k&&k._node&&(k._node.muted=!!a||k._muted)}return o},stop:function(){for(var a=this||t,o=0;o<a._howls.length;o++)a._howls[o].stop();return a},unload:function(){for(var a=this||t,o=a._howls.length-1;o>=0;o--)a._howls[o].unload();return a.usingWebAudio&&a.ctx&&a.ctx.close!==void 0&&(a.ctx.close(),a.ctx=null,v()),a},codecs:function(a){return(this||t)._codecs[a.replace(/^x-/,"")]},_setup:function(){var a=this||t;if(a.state=a.ctx&&a.ctx.state||"suspended",a._autoSuspend(),!a.usingWebAudio)if(typeof Audio!="undefined")try{var o=new Audio;o.oncanplaythrough===void 0&&(a._canPlayEvent="canplay")}catch(u){a.noAudio=!0}else a.noAudio=!0;try{var o=new Audio;o.muted&&(a.noAudio=!0)}catch(u){}return a.noAudio||a._setupCodecs(),a},_setupCodecs:function(){var a=this||t,o=null;try{o=typeof Audio!="undefined"?new Audio:null}catch(R){return a}if(!o||typeof o.canPlayType!="function")return a;var u=o.canPlayType("audio/mpeg;").replace(/^no$/,""),m=a._navigator?a._navigator.userAgent:"",_=m.match(/OPR\/([0-6].)/g),k=_&&parseInt(_[0].split("/")[1],10)<33,b=m.indexOf("Safari")!==-1&&m.indexOf("Chrome")===-1,x=m.match(/Version\/(.*?) /),L=b&&x&&parseInt(x[1],10)<15;return a._codecs={mp3:!(k||!u&&!o.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!u,opus:!!o.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!o.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!o.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(o.canPlayType('audio/wav; codecs="1"')||o.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!o.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!o.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(o.canPlayType("audio/x-m4a;")||o.canPlayType("audio/m4a;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(o.canPlayType("audio/x-m4b;")||o.canPlayType("audio/m4b;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(o.canPlayType("audio/x-mp4;")||o.canPlayType("audio/mp4;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(L||!o.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(L||!o.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!o.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(o.canPlayType("audio/x-flac;")||o.canPlayType("audio/flac;")).replace(/^no$/,"")},a},_unlockAudio:function(){var a=this||t;if(!a._audioUnlocked&&a.ctx){a._audioUnlocked=!1,a.autoUnlock=!1,a._mobileUnloaded||a.ctx.sampleRate===44100||(a._mobileUnloaded=!0,a.unload()),a._scratchBuffer=a.ctx.createBuffer(1,1,22050);var o=y(function(u){for(;a._html5AudioPool.length<a.html5PoolSize;)try{var m=new Audio;m._unlocked=!0,a._releaseHtml5Audio(m)}catch(R){a.noAudio=!0;break}for(var _=0;_<a._howls.length;_++)if(!a._howls[_]._webAudio)for(var k=a._howls[_]._getSoundIds(),b=0;b<k.length;b++){var x=a._howls[_]._soundById(k[b]);x&&x._node&&!x._node._unlocked&&(x._node._unlocked=!0,x._node.load())}a._autoResume();var L=a.ctx.createBufferSource();L.buffer=a._scratchBuffer,L.connect(a.ctx.destination),L.start===void 0?L.noteOn(0):L.start(0),typeof a.ctx.resume=="function"&&a.ctx.resume(),L.onended=function(){L.disconnect(0),a._audioUnlocked=!0,document.removeEventListener("touchstart",o,!0),document.removeEventListener("touchend",o,!0),document.removeEventListener("click",o,!0),document.removeEventListener("keydown",o,!0);for(var R=0;R<a._howls.length;R++)a._howls[R]._emit("unlock")}},"o");return document.addEventListener("touchstart",o,!0),document.addEventListener("touchend",o,!0),document.addEventListener("click",o,!0),document.addEventListener("keydown",o,!0),a}},_obtainHtml5Audio:function(){var a=this||t;if(a._html5AudioPool.length)return a._html5AudioPool.pop();var o=new Audio().play();return o&&typeof Promise!="undefined"&&(o instanceof Promise||typeof o.then=="function")&&o.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(a){var o=this||t;return a._unlocked&&o._html5AudioPool.push(a),o},_autoSuspend:function(){var a=this;if(a.autoSuspend&&a.ctx&&a.ctx.suspend!==void 0&&t.usingWebAudio){for(var o=0;o<a._howls.length;o++)if(a._howls[o]._webAudio){for(var u=0;u<a._howls[o]._sounds.length;u++)if(!a._howls[o]._sounds[u]._paused)return a}return a._suspendTimer&&clearTimeout(a._suspendTimer),a._suspendTimer=setTimeout(function(){if(a.autoSuspend){a._suspendTimer=null,a.state="suspending";var m=y(function(){a.state="suspended",a._resumeAfterSuspend&&(delete a._resumeAfterSuspend,a._autoResume())},"n");a.ctx.suspend().then(m,m)}},3e4),a}},_autoResume:function(){var a=this;if(a.ctx&&a.ctx.resume!==void 0&&t.usingWebAudio)return a.state==="running"&&a.ctx.state!=="interrupted"&&a._suspendTimer?(clearTimeout(a._suspendTimer),a._suspendTimer=null):a.state==="suspended"||a.state==="running"&&a.ctx.state==="interrupted"?(a.ctx.resume().then(function(){a.state="running";for(var o=0;o<a._howls.length;o++)a._howls[o]._emit("resume")}),a._suspendTimer&&(clearTimeout(a._suspendTimer),a._suspendTimer=null)):a.state==="suspending"&&(a._resumeAfterSuspend=!0),a}};var t=new e,n=y(function(a){var o=this;if(!a.src||a.src.length===0)return void console.error("An array of source files must be passed with any new Howl.");o.init(a)},"o");n.prototype={init:function(a){var o=this;return t.ctx||v(),o._autoplay=a.autoplay||!1,o._format=typeof a.format!="string"?a.format:[a.format],o._html5=a.html5||!1,o._muted=a.mute||!1,o._loop=a.loop||!1,o._pool=a.pool||5,o._preload=typeof a.preload!="boolean"&&a.preload!=="metadata"||a.preload,o._rate=a.rate||1,o._sprite=a.sprite||{},o._src=typeof a.src!="string"?a.src:[a.src],o._volume=a.volume!==void 0?a.volume:1,o._xhr={method:a.xhr&&a.xhr.method?a.xhr.method:"GET",headers:a.xhr&&a.xhr.headers?a.xhr.headers:null,withCredentials:!(!a.xhr||!a.xhr.withCredentials)&&a.xhr.withCredentials},o._duration=0,o._state="unloaded",o._sounds=[],o._endTimers={},o._queue=[],o._playLock=!1,o._onend=a.onend?[{fn:a.onend}]:[],o._onfade=a.onfade?[{fn:a.onfade}]:[],o._onload=a.onload?[{fn:a.onload}]:[],o._onloaderror=a.onloaderror?[{fn:a.onloaderror}]:[],o._onplayerror=a.onplayerror?[{fn:a.onplayerror}]:[],o._onpause=a.onpause?[{fn:a.onpause}]:[],o._onplay=a.onplay?[{fn:a.onplay}]:[],o._onstop=a.onstop?[{fn:a.onstop}]:[],o._onmute=a.onmute?[{fn:a.onmute}]:[],o._onvolume=a.onvolume?[{fn:a.onvolume}]:[],o._onrate=a.onrate?[{fn:a.onrate}]:[],o._onseek=a.onseek?[{fn:a.onseek}]:[],o._onunlock=a.onunlock?[{fn:a.onunlock}]:[],o._onresume=[],o._webAudio=t.usingWebAudio&&!o._html5,t.ctx!==void 0&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(o),o._autoplay&&o._queue.push({event:"play",action:function(){o.play()}}),o._preload&&o._preload!=="none"&&o.load(),o},load:function(){var a=this,o=null;if(t.noAudio)return void a._emit("loaderror",null,"No audio support.");typeof a._src=="string"&&(a._src=[a._src]);for(var u=0;u<a._src.length;u++){var m,_;if(a._format&&a._format[u])m=a._format[u];else{if(typeof(_=a._src[u])!="string"){a._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}m=/^data:audio\/([^;,]+);/i.exec(_),m||(m=/\.([^.]+)$/.exec(_.split("?",1)[0])),m&&(m=m[1].toLowerCase())}if(m||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),m&&t.codecs(m)){o=a._src[u];break}}return o?(a._src=o,a._state="loading",window.location.protocol==="https:"&&o.slice(0,5)==="http:"&&(a._html5=!0,a._webAudio=!1),new r(a),a._webAudio&&p(a),a):void a._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(a,o){var u=this,m=null;if(typeof a=="number")m=a,a=null;else{if(typeof a=="string"&&u._state==="loaded"&&!u._sprite[a])return null;if(a===void 0&&(a="__default",!u._playLock)){for(var _=0,k=0;k<u._sounds.length;k++)u._sounds[k]._paused&&!u._sounds[k]._ended&&(_++,m=u._sounds[k]._id);_===1?a=null:m=null}}var b=m?u._soundById(m):u._inactiveSound();if(!b)return null;if(m&&!a&&(a=b._sprite||"__default"),u._state!=="loaded"){b._sprite=a,b._ended=!1;var x=b._id;return u._queue.push({event:"play",action:function(){u.play(x)}}),x}if(m&&!b._paused)return o||u._loadQueue("play"),b._id;u._webAudio&&t._autoResume();var L=Math.max(0,b._seek>0?b._seek:u._sprite[a][0]/1e3),R=Math.max(0,(u._sprite[a][0]+u._sprite[a][1])/1e3-L),X=1e3*R/Math.abs(b._rate),E=u._sprite[a][0]/1e3,se=(u._sprite[a][0]+u._sprite[a][1])/1e3;b._sprite=a,b._ended=!1;var B=y(function(){b._paused=!1,b._seek=L,b._start=E,b._stop=se,b._loop=!(!b._loop&&!u._sprite[a][2])},"p");if(L>=se)return void u._ended(b);var N=b._node;if(u._webAudio){var z=y(function(){u._playLock=!1,B(),u._refreshBuffer(b);var J=b._muted||u._muted?0:b._volume;N.gain.setValueAtTime(J,t.ctx.currentTime),b._playStart=t.ctx.currentTime,N.bufferSource.start===void 0?b._loop?N.bufferSource.noteGrainOn(0,L,86400):N.bufferSource.noteGrainOn(0,L,R):b._loop?N.bufferSource.start(0,L,86400):N.bufferSource.start(0,L,R),X!==1/0&&(u._endTimers[b._id]=setTimeout(u._ended.bind(u,b),X)),o||setTimeout(function(){u._emit("play",b._id),u._loadQueue()},0)},"v");t.state==="running"&&t.ctx.state!=="interrupted"?z():(u._playLock=!0,u.once("resume",z),u._clearTimer(b._id))}else{var q=y(function(){N.currentTime=L,N.muted=b._muted||u._muted||t._muted||N.muted,N.volume=b._volume*t.volume(),N.playbackRate=b._rate;try{var J=N.play();if(J&&typeof Promise!="undefined"&&(J instanceof Promise||typeof J.then=="function")?(u._playLock=!0,B(),J.then(function(){u._playLock=!1,N._unlocked=!0,o?u._loadQueue():u._emit("play",b._id)}).catch(function(){u._playLock=!1,u._emit("playerror",b._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),b._ended=!0,b._paused=!0})):o||(u._playLock=!1,B(),u._emit("play",b._id)),N.playbackRate=b._rate,N.paused)return void u._emit("playerror",b._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");a!=="__default"||b._loop?u._endTimers[b._id]=setTimeout(u._ended.bind(u,b),X):(u._endTimers[b._id]=function(){u._ended(b),N.removeEventListener("ended",u._endTimers[b._id],!1)},N.addEventListener("ended",u._endTimers[b._id],!1))}catch(Ve){u._emit("playerror",b._id,Ve)}},"h");N.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(N.src=u._src,N.load());var fe=window&&window.ejecta||!N.readyState&&t._navigator.isCocoonJS;if(N.readyState>=3||fe)q();else{u._playLock=!0,u._state="loading";var Pe=y(function(){u._state="loaded",q(),N.removeEventListener(t._canPlayEvent,Pe,!1)},"g");N.addEventListener(t._canPlayEvent,Pe,!1),u._clearTimer(b._id)}}return b._id},pause:function(a){var o=this;if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"pause",action:function(){o.pause(a)}}),o;for(var u=o._getSoundIds(a),m=0;m<u.length;m++){o._clearTimer(u[m]);var _=o._soundById(u[m]);if(_&&!_._paused&&(_._seek=o.seek(u[m]),_._rateSeek=0,_._paused=!0,o._stopFade(u[m]),_._node))if(o._webAudio){if(!_._node.bufferSource)continue;_._node.bufferSource.stop===void 0?_._node.bufferSource.noteOff(0):_._node.bufferSource.stop(0),o._cleanBuffer(_._node)}else isNaN(_._node.duration)&&_._node.duration!==1/0||_._node.pause();arguments[1]||o._emit("pause",_?_._id:null)}return o},stop:function(a,o){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"stop",action:function(){u.stop(a)}}),u;for(var m=u._getSoundIds(a),_=0;_<m.length;_++){u._clearTimer(m[_]);var k=u._soundById(m[_]);k&&(k._seek=k._start||0,k._rateSeek=0,k._paused=!0,k._ended=!0,u._stopFade(m[_]),k._node&&(u._webAudio?k._node.bufferSource&&(k._node.bufferSource.stop===void 0?k._node.bufferSource.noteOff(0):k._node.bufferSource.stop(0),u._cleanBuffer(k._node)):isNaN(k._node.duration)&&k._node.duration!==1/0||(k._node.currentTime=k._start||0,k._node.pause(),k._node.duration===1/0&&u._clearSound(k._node))),o||u._emit("stop",k._id))}return u},mute:function(a,o){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"mute",action:function(){u.mute(a,o)}}),u;if(o===void 0){if(typeof a!="boolean")return u._muted;u._muted=a}for(var m=u._getSoundIds(o),_=0;_<m.length;_++){var k=u._soundById(m[_]);k&&(k._muted=a,k._interval&&u._stopFade(k._id),u._webAudio&&k._node?k._node.gain.setValueAtTime(a?0:k._volume,t.ctx.currentTime):k._node&&(k._node.muted=!!t._muted||a),u._emit("mute",k._id))}return u},volume:function(){var a,o,u=this,m=arguments;if(m.length===0)return u._volume;m.length===1||m.length===2&&m[1]===void 0?u._getSoundIds().indexOf(m[0])>=0?o=parseInt(m[0],10):a=parseFloat(m[0]):m.length>=2&&(a=parseFloat(m[0]),o=parseInt(m[1],10));var _;if(!(a!==void 0&&a>=0&&a<=1))return _=o?u._soundById(o):u._sounds[0],_?_._volume:0;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"volume",action:function(){u.volume.apply(u,m)}}),u;o===void 0&&(u._volume=a),o=u._getSoundIds(o);for(var k=0;k<o.length;k++)(_=u._soundById(o[k]))&&(_._volume=a,m[2]||u._stopFade(o[k]),u._webAudio&&_._node&&!_._muted?_._node.gain.setValueAtTime(a,t.ctx.currentTime):_._node&&!_._muted&&(_._node.volume=a*t.volume()),u._emit("volume",_._id));return u},fade:function(a,o,u,m){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"fade",action:function(){_.fade(a,o,u,m)}}),_;a=Math.min(Math.max(0,parseFloat(a)),1),o=Math.min(Math.max(0,parseFloat(o)),1),u=parseFloat(u),_.volume(a,m);for(var k=_._getSoundIds(m),b=0;b<k.length;b++){var x=_._soundById(k[b]);if(x){if(m||_._stopFade(k[b]),_._webAudio&&!x._muted){var L=t.ctx.currentTime,R=L+u/1e3;x._volume=a,x._node.gain.setValueAtTime(a,L),x._node.gain.linearRampToValueAtTime(o,R)}_._startFadeInterval(x,a,o,u,k[b],m===void 0)}}return _},_startFadeInterval:function(a,o,u,m,_,k){var b=this,x=o,L=u-o,R=Math.abs(L/.01),X=Math.max(4,R>0?m/R:m),E=Date.now();a._fadeTo=u,a._interval=setInterval(function(){var se=(Date.now()-E)/m;E=Date.now(),x+=L*se,x=Math.round(100*x)/100,x=L<0?Math.max(u,x):Math.min(u,x),b._webAudio?a._volume=x:b.volume(x,a._id,!0),k&&(b._volume=x),(u<o&&x<=u||u>o&&x>=u)&&(clearInterval(a._interval),a._interval=null,a._fadeTo=null,b.volume(u,a._id),b._emit("fade",a._id))},X)},_stopFade:function(a){var o=this,u=o._soundById(a);return u&&u._interval&&(o._webAudio&&u._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(u._interval),u._interval=null,o.volume(u._fadeTo,a),u._fadeTo=null,o._emit("fade",a)),o},loop:function(){var a,o,u,m=this,_=arguments;if(_.length===0)return m._loop;if(_.length===1){if(typeof _[0]!="boolean")return!!(u=m._soundById(parseInt(_[0],10)))&&u._loop;a=_[0],m._loop=a}else _.length===2&&(a=_[0],o=parseInt(_[1],10));for(var k=m._getSoundIds(o),b=0;b<k.length;b++)(u=m._soundById(k[b]))&&(u._loop=a,m._webAudio&&u._node&&u._node.bufferSource&&(u._node.bufferSource.loop=a,a&&(u._node.bufferSource.loopStart=u._start||0,u._node.bufferSource.loopEnd=u._stop,m.playing(k[b])&&(m.pause(k[b],!0),m.play(k[b],!0)))));return m},rate:function(){var a,o,u=this,m=arguments;if(m.length===0)o=u._sounds[0]._id;else if(m.length===1){var _=u._getSoundIds(),k=_.indexOf(m[0]);k>=0?o=parseInt(m[0],10):a=parseFloat(m[0])}else m.length===2&&(a=parseFloat(m[0]),o=parseInt(m[1],10));var b;if(typeof a!="number")return b=u._soundById(o),b?b._rate:u._rate;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"rate",action:function(){u.rate.apply(u,m)}}),u;o===void 0&&(u._rate=a),o=u._getSoundIds(o);for(var x=0;x<o.length;x++)if(b=u._soundById(o[x])){u.playing(o[x])&&(b._rateSeek=u.seek(o[x]),b._playStart=u._webAudio?t.ctx.currentTime:b._playStart),b._rate=a,u._webAudio&&b._node&&b._node.bufferSource?b._node.bufferSource.playbackRate.setValueAtTime(a,t.ctx.currentTime):b._node&&(b._node.playbackRate=a);var L=u.seek(o[x]),R=(u._sprite[b._sprite][0]+u._sprite[b._sprite][1])/1e3-L,X=1e3*R/Math.abs(b._rate);!u._endTimers[o[x]]&&b._paused||(u._clearTimer(o[x]),u._endTimers[o[x]]=setTimeout(u._ended.bind(u,b),X)),u._emit("rate",b._id)}return u},seek:function(){var a,o,u=this,m=arguments;if(m.length===0)u._sounds.length&&(o=u._sounds[0]._id);else if(m.length===1){var _=u._getSoundIds(),k=_.indexOf(m[0]);k>=0?o=parseInt(m[0],10):u._sounds.length&&(o=u._sounds[0]._id,a=parseFloat(m[0]))}else m.length===2&&(a=parseFloat(m[0]),o=parseInt(m[1],10));if(o===void 0)return 0;if(typeof a=="number"&&(u._state!=="loaded"||u._playLock))return u._queue.push({event:"seek",action:function(){u.seek.apply(u,m)}}),u;var b=u._soundById(o);if(b){if(!(typeof a=="number"&&a>=0)){if(u._webAudio){var x=u.playing(o)?t.ctx.currentTime-b._playStart:0,L=b._rateSeek?b._rateSeek-b._seek:0;return b._seek+(L+x*Math.abs(b._rate))}return b._node.currentTime}var R=u.playing(o);R&&u.pause(o,!0),b._seek=a,b._ended=!1,u._clearTimer(o),u._webAudio||!b._node||isNaN(b._node.duration)||(b._node.currentTime=a);var X=y(function(){R&&u.play(o,!0),u._emit("seek",o)},"l");if(R&&!u._webAudio){var E=y(function(){u._playLock?setTimeout(E,0):X()},"c");setTimeout(E,0)}else X()}return u},playing:function(a){var o=this;if(typeof a=="number"){var u=o._soundById(a);return!!u&&!u._paused}for(var m=0;m<o._sounds.length;m++)if(!o._sounds[m]._paused)return!0;return!1},duration:function(a){var o=this,u=o._duration,m=o._soundById(a);return m&&(u=o._sprite[m._sprite][1]/1e3),u},state:function(){return this._state},unload:function(){for(var a=this,o=a._sounds,u=0;u<o.length;u++)o[u]._paused||a.stop(o[u]._id),a._webAudio||(a._clearSound(o[u]._node),o[u]._node.removeEventListener("error",o[u]._errorFn,!1),o[u]._node.removeEventListener(t._canPlayEvent,o[u]._loadFn,!1),o[u]._node.removeEventListener("ended",o[u]._endFn,!1),t._releaseHtml5Audio(o[u]._node)),delete o[u]._node,a._clearTimer(o[u]._id);var m=t._howls.indexOf(a);m>=0&&t._howls.splice(m,1);var _=!0;for(u=0;u<t._howls.length;u++)if(t._howls[u]._src===a._src||a._src.indexOf(t._howls[u]._src)>=0){_=!1;break}return c&&_&&delete c[a._src],t.noAudio=!1,a._state="unloaded",a._sounds=[],a=null,null},on:function(a,o,u,m){var _=this,k=_["_on"+a];return typeof o=="function"&&k.push(m?{id:u,fn:o,once:m}:{id:u,fn:o}),_},off:function(a,o,u){var m=this,_=m["_on"+a],k=0;if(typeof o=="number"&&(u=o,o=null),o||u)for(k=0;k<_.length;k++){var b=u===_[k].id;if(o===_[k].fn&&b||!o&&b){_.splice(k,1);break}}else if(a)m["_on"+a]=[];else{var x=Object.keys(m);for(k=0;k<x.length;k++)x[k].indexOf("_on")===0&&Array.isArray(m[x[k]])&&(m[x[k]]=[])}return m},once:function(a,o,u){var m=this;return m.on(a,o,u,1),m},_emit:function(a,o,u){for(var m=this,_=m["_on"+a],k=_.length-1;k>=0;k--)_[k].id&&_[k].id!==o&&a!=="load"||(setTimeout(function(b){b.call(this,o,u)}.bind(m,_[k].fn),0),_[k].once&&m.off(a,_[k].fn,_[k].id));return m._loadQueue(a),m},_loadQueue:function(a){var o=this;if(o._queue.length>0){var u=o._queue[0];u.event===a&&(o._queue.shift(),o._loadQueue()),a||u.action()}return o},_ended:function(a){var o=this,u=a._sprite;if(!o._webAudio&&a._node&&!a._node.paused&&!a._node.ended&&a._node.currentTime<a._stop)return setTimeout(o._ended.bind(o,a),100),o;var m=!(!a._loop&&!o._sprite[u][2]);if(o._emit("end",a._id),!o._webAudio&&m&&o.stop(a._id,!0).play(a._id),o._webAudio&&m){o._emit("play",a._id),a._seek=a._start||0,a._rateSeek=0,a._playStart=t.ctx.currentTime;var _=1e3*(a._stop-a._start)/Math.abs(a._rate);o._endTimers[a._id]=setTimeout(o._ended.bind(o,a),_)}return o._webAudio&&!m&&(a._paused=!0,a._ended=!0,a._seek=a._start||0,a._rateSeek=0,o._clearTimer(a._id),o._cleanBuffer(a._node),t._autoSuspend()),o._webAudio||m||o.stop(a._id,!0),o},_clearTimer:function(a){var o=this;if(o._endTimers[a]){if(typeof o._endTimers[a]!="function")clearTimeout(o._endTimers[a]);else{var u=o._soundById(a);u&&u._node&&u._node.removeEventListener("ended",o._endTimers[a],!1)}delete o._endTimers[a]}return o},_soundById:function(a){for(var o=this,u=0;u<o._sounds.length;u++)if(a===o._sounds[u]._id)return o._sounds[u];return null},_inactiveSound:function(){var a=this;a._drain();for(var o=0;o<a._sounds.length;o++)if(a._sounds[o]._ended)return a._sounds[o].resetTrackGroups();return new r(a)},_drain:function(){var a=this,o=a._pool,u=0,m=0;if(!(a._sounds.length<o)){for(m=0;m<a._sounds.length;m++)a._sounds[m]._ended&&u++;for(m=a._sounds.length-1;m>=0;m--){if(u<=o)return;a._sounds[m]._ended&&(a._webAudio&&a._sounds[m]._node&&a._sounds[m]._node.disconnect(0),a._sounds.splice(m,1),u--)}}},_getSoundIds:function(a){var o=this;if(a===void 0){for(var u=[],m=0;m<o._sounds.length;m++)u.push(o._sounds[m]._id);return u}return[a]},_refreshBuffer:function(a){var o=this;return a._node.bufferSource=t.ctx.createBufferSource(),a._node.bufferSource.buffer=c[o._src],a._panner?a._node.bufferSource.connect(a._panner):a._node.bufferSource.connect(a._node),a._node.bufferSource.loop=a._loop,a._loop&&(a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop||0),a._node.bufferSource.playbackRate.setValueAtTime(a._rate,t.ctx.currentTime),o},_cleanBuffer:function(a){var o=this,u=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(t._scratchBuffer&&a.bufferSource&&(a.bufferSource.onended=null,a.bufferSource.disconnect(0),u))try{a.bufferSource.buffer=t._scratchBuffer}catch(m){}return a.bufferSource=null,o},_clearSound:function(a){/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent)||(a.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var r=y(function(a){this._parent=a,this.init()},"t");r.prototype={init:function(){var a=this,o=a._parent;return a._muted=o._muted,a._loop=o._loop,a._volume=o._volume,a._rate=o._rate,a._seek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++t._counter,o._sounds.push(a),a.create(),a},create:function(){var a=this,o=a._parent,u=t._muted||a._muted||a._parent._muted?0:a._volume;return o._webAudio?(a._node=t.ctx.createGain===void 0?t.ctx.createGainNode():t.ctx.createGain(),a._node.gain.setValueAtTime(u,t.ctx.currentTime),a._node.paused=!0,a._node.connect(t.masterGain)):t.noAudio||(a._node=t._obtainHtml5Audio(),a._errorFn=a._errorListener.bind(a),a._node.addEventListener("error",a._errorFn,!1),a._loadFn=a._loadListener.bind(a),a._node.addEventListener(t._canPlayEvent,a._loadFn,!1),a._endFn=a._endListener.bind(a),a._node.addEventListener("ended",a._endFn,!1),a._node.src=o._src,a._node.preload=o._preload===!0?"auto":o._preload,a._node.volume=u*t.volume(),a._node.load()),a},reset:function(){var a=this,o=a._parent;return a._muted=o._muted,a._loop=o._loop,a._volume=o._volume,a._rate=o._rate,a._seek=0,a._rateSeek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++t._counter,a},_errorListener:function(){var a=this;a._parent._emit("loaderror",a._id,a._node.error?a._node.error.code:0),a._node.removeEventListener("error",a._errorFn,!1)},_loadListener:function(){var a=this,o=a._parent;o._duration=Math.ceil(10*a._node.duration)/10,Object.keys(o._sprite).length===0&&(o._sprite={__default:[0,1e3*o._duration]}),o._state!=="loaded"&&(o._state="loaded",o._emit("load"),o._loadQueue()),a._node.removeEventListener(t._canPlayEvent,a._loadFn,!1)},_endListener:function(){var a=this,o=a._parent;o._duration===1/0&&(o._duration=Math.ceil(10*a._node.duration)/10,o._sprite.__default[1]===1/0&&(o._sprite.__default[1]=1e3*o._duration),o._ended(a)),a._node.removeEventListener("ended",a._endFn,!1)}};var c={},p=y(function(a){var o=a._src;if(c[o])return a._duration=c[o].duration,void w(a);if(/^data:[^;]+;base64,/.test(o)){for(var u=atob(o.split(",")[1]),m=new Uint8Array(u.length),_=0;_<u.length;++_)m[_]=u.charCodeAt(_);f(m.buffer,a)}else{var k=new XMLHttpRequest;k.open(a._xhr.method,o,!0),k.withCredentials=a._xhr.withCredentials,k.responseType="arraybuffer",a._xhr.headers&&Object.keys(a._xhr.headers).forEach(function(b){k.setRequestHeader(b,a._xhr.headers[b])}),k.onload=function(){var b=(k.status+"")[0];if(b!=="0"&&b!=="2"&&b!=="3")return void a._emit("loaderror",null,"Failed loading audio file with status: "+k.status+".");f(k.response,a)},k.onerror=function(){a._webAudio&&(a._html5=!0,a._webAudio=!1,a._sounds=[],delete c[o],a.load())},g(k)}},"a"),g=y(function(a){try{a.send()}catch(o){a.onerror()}},"u"),f=y(function(a,o){var u=y(function(){o._emit("loaderror",null,"Decoding audio data failed.")},"t"),m=y(function(_){_&&o._sounds.length>0?(c[o._src]=_,w(o,_)):u()},"a");typeof Promise!="undefined"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(a).then(m).catch(u):t.ctx.decodeAudioData(a,m,u)},"d"),w=y(function(a,o){o&&!a._duration&&(a._duration=o.duration),Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,1e3*a._duration]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue())},"i"),v=y(function(){if(t.usingWebAudio){try{typeof AudioContext!="undefined"?t.ctx=new AudioContext:typeof webkitAudioContext!="undefined"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch(_){t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var a=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),o=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),u=o?parseInt(o[1],10):null;if(a&&u&&u<9){var m=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!m&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=t.ctx.createGain===void 0?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}},"_");typeof define=="function"&&define.amd&&define([],function(){return{Howler:t,Howl:n}}),typeof exports!="undefined"&&(exports.Howler=t,exports.Howl=n),typeof global!="undefined"?(global.HowlerGlobal=e,global.Howler=t,global.Howl=n,global.Sound=r):typeof window!="undefined"&&(window.HowlerGlobal=e,window.Howler=t,window.Howl=n,window.Sound=r)})();var Je=class{constructor(t=!0){te(this,"audioPlayerSettings",new Map);te(this,"playlist",null);te(this,"currentGroupID","");te(this,"playlistIndex",null);te(this,"currentHowl",null);te(this,"tonicsAudioPlayerGroups",null);te(this,"groupKeyToMapKey",new Map);te(this,"repeatSong",!1);te(this,"repeatMarkerSong",null);te(this,"originalTracksInQueueBeforeShuffle",null);t?document.body.dataset.audio_player_onetime="true":document.body.dataset.audio_player_onetime="false",this.playlistIndex=0,this.currentHowl=null,this.tonicsAudioPlayerGroups=document.querySelectorAll("[data-tonics-audioplayer-group]"),this.resetAudioPlayerSettings(),this.progressContainer=document.querySelector(".progress-container"),this.songSlider=null,this.progressContainer&&(this.songSlider=this.progressContainer.querySelector(".song-slider")),this.userIsSeekingSongSlider=!1,document.querySelector(".audio-player-queue")&&(this.originalTracksInQueueBeforeShuffle=document.querySelector(".audio-player-queue").innerHTML),navigator.mediaSession.setActionHandler("play",()=>{this.play()}),navigator.mediaSession.setActionHandler("pause",()=>{this.pause()}),navigator.mediaSession.setActionHandler("previoustrack",()=>{this.prev()}),navigator.mediaSession.setActionHandler("nexttrack",()=>{this.next()}),this.mutationObserver()}mutationHandlerFunc(t){let n=this;t&&!t.dataset.hasOwnProperty("trackloaded")&&(t.dataset.trackloaded="false",n.resetAudioPlayerSettings(),n.originalTracksInQueueBeforeShuffle=document.querySelector(".audio-player-queue").innerHTML,n.resetQueue())}mutationObserver(){new MutationObserver((n,r)=>{for(let c of n){let p=!1;for(let g=0;g<c.addedNodes.length;g++){let f=c.addedNodes[g];if(f.nodeType===Node.ELEMENT_NODE){let w=f.querySelector("[data-tonics-audioplayer-track]");if(w){this.mutationHandlerFunc(w),p=!0;break}}}if(p)return;if(c.attributeName==="data-tonics-audioplayer-track"){let g=c.target;this.mutationHandlerFunc(g)}}}).observe(document,{attributes:!0,childList:!0,subtree:!0})}run(){let t=this,n=t.getAudioPlayerGlobalContainer();if(n){let p=function(){r&&(t.currentHowl.seek(t.currentHowl.seek()+1),setTimeout(p,100))},g=function(){if(r){let v=t.currentHowl.seek()-1;v>=0&&t.currentHowl.seek(v),setTimeout(g,100)}},f=function(){r=!1,clearTimeout(c)};y(p,"seekForward"),y(g,"seekBackward"),y(f,"removeSeeking"),this.onPageReload();let r=!1,c;document.addEventListener("mousedown",w=>{let v=w.target,a=this;v.dataset.hasOwnProperty("audioplayer_next")&&(c=setTimeout(()=>{r=!0,p()},600)),v.dataset.hasOwnProperty("audioplayer_prev")&&(c=setTimeout(()=>{r=!0,g()},600))}),document.addEventListener("click",w=>{let v=w.target;if(v.dataset.hasOwnProperty("audioplayer_play"))if(v.dataset.audioplayer_play==="false")if(v.dataset.audioplayer_play="true",v.dataset.hasOwnProperty("audioplayer_songurl")){let a=v.dataset.audioplayer_songurl;v.dataset.hasOwnProperty("audioplayer_groupid")&&(n.dataset.audioplayer_groupid=v.dataset.audioplayer_groupid),t.loadPlaylist();let o=null;t.audioPlayerSettings.has(t.currentGroupID)&&(o=t.audioPlayerSettings.get(t.currentGroupID),o.has(a)&&(t.playlistIndex=o.get(a).songID,t.play()))}else this.loadPlaylist()&&this.play();else v.dataset.audioplayer_play="false",this.audioPaused=!0,t.pause();if(v.dataset.hasOwnProperty("audioplayer_next")&&r===!1&&v.dataset.audioplayer_next==="true"&&this.next(),v.dataset.hasOwnProperty("audioplayer_prev")&&r===!1&&v.dataset.audioplayer_prev==="true"&&this.prev(),f(),v.dataset.hasOwnProperty("audioplayer_repeat")&&(v.dataset.audioplayer_repeat==="true"?(t.repeatSong=!1,v.dataset.audioplayer_repeat="false"):(t.repeatSong=!0,v.dataset.audioplayer_repeat="true")),v.dataset.hasOwnProperty("audioplayer_marker_repeat")&&(v.dataset.audioplayer_marker_repeat==="true"?(t.repeatMarkerSong=null,v.dataset.audioplayer_marker_repeat="false"):(document.querySelectorAll("[data-audioplayer_marker_repeat]").forEach(o=>{o.dataset.audioplayer_marker_repeat="false"}),t.repeatMarkerSong={start:v.dataset.audioplayer_marker_start,start_percentage:v.dataset.audioplayer_marker_start_percentage,end:v.dataset.audioplayer_marker_end},v.dataset.audioplayer_marker_repeat="true")),v.dataset.hasOwnProperty("audioplayer_marker_play_jump")){let a=v.dataset.audioplayer_marker_play_jump;this.seek(a)}if(v.dataset.hasOwnProperty("audioplayer_shuffle"))if(v.dataset.audioplayer_shuffle==="true"){if(v.dataset.audioplayer_shuffle="false",document.querySelector(".audio-player-queue")&&this.originalTracksInQueueBeforeShuffle&&(document.querySelector(".audio-player-queue").innerHTML=this.originalTracksInQueueBeforeShuffle,this.currentHowl!==null)){let a=t.currentHowl._src;t.resetQueue(),t.setSongUrlPlayAttribute(a[0],"true","Pause")}}else{v.dataset.audioplayer_shuffle="true";let a=document.querySelectorAll(".track-in-queue");if(a)for(let o=a.length-1;o>0;o--){let u=Math.floor(Math.random()*(o+1));dn(a[u],a[o],a[u].getBoundingClientRect(),()=>{t.resetQueue()})}}}),document.addEventListener("pointerdown",t.sliderThumbMouseDown.bind(t)),document.addEventListener("pointerup",t.sliderThumbMouseUp.bind(t)),document.addEventListener("input",t.volume.bind(t))}}onPageReload(){let t=this,n=localStorage.getItem("HowlerJSVolume");if(n){Howler.volume(parseFloat(n));let p=document.querySelector(".volume-slider");p&&(p.value=n)}let r=window.location.href,c=localStorage.getItem(r);if(c){c=JSON.parse(c),t.loadPlaylist();let p=null;t.audioPlayerSettings.has(c.currentGroupID)&&(p=t.audioPlayerSettings.get(c.currentGroupID),p.has(c.songKey)&&(t.playlistIndex=p.get(c.songKey).songID,t.play(),t.currentHowl.once("load",()=>{let g=c.currentPos/t.currentHowl.duration()*100;this.songSlider&&(this.songSlider.value=g,t.seek(g))})))}}bootPlaylistAndSongs(t=!1){let n=this,r=document.querySelectorAll("[data-tonics-audioplayer-track]");t&&(r=document.querySelector(".audio-player-queue-list").querySelectorAll("[data-tonics-audioplayer-track]")),this.tonicsAudioPlayerGroups.length>0&&this.tonicsAudioPlayerGroups.forEach(p=>{let g=p;g.dataset.hasOwnProperty("audioplayer_groupid")&&n.audioPlayerSettings.set(g.dataset.audioplayer_groupid,new Map)});let c=[];if(r.length>0){let p=0;for(let g=0;g<r.length;g++){let f=r[g],w=p,v,a;if(f.dataset.trackloaded="true",f.dataset.hasOwnProperty("audioplayer_groupid")?v=f.dataset.audioplayer_groupid:v="GLOBAL_GROUP",f.dataset.hasOwnProperty("audioplayer_songurl")&&f.dataset.audioplayer_songurl){a=n.audioPlayerSettings.get(v);let o=f.dataset.audioplayer_songurl,u={songID:w,songtitle:f.dataset.audioplayer_title,songimage:f.dataset.audioplayer_image,songurl:o,url_page:f.dataset.url_page,howl:null,format:f.dataset.hasOwnProperty("audioplayer_format")?f.dataset.audioplayer_format:null,license:f.dataset.hasOwnProperty("licenses")?JSON.parse(f.dataset.licenses):null,_dataset:f.dataset};a.set(o,u),c.push(o),n.groupKeyToMapKey.set(v,c),n.audioPlayerSettings.set(v,a),++p}}}}resetAudioPlayerSettings(){let t=this;if(this.audioPlayerSettings=new Map,this.audioPlayerSettings.set("GLOBAL_GROUP",new Map),this.groupKeyToMapKey=new Map,this.bootPlaylistAndSongs(),this.loadPlaylist(),this.loadToQueue(this.audioPlayerSettings.get(this.currentGroupID)),this.setCorrectPlaylistIndex(),this.groupKeyToMapKey.size>0){let n=document.querySelector(".audio-player");n&&n.classList.contains("d:none")&&n.classList.remove("d:none")}}resetQueue(){this.audioPlayerSettings=new Map,this.audioPlayerSettings.set("GLOBAL_GROUP",new Map),this.groupKeyToMapKey=new Map,this.bootPlaylistAndSongs(!0),this.loadPlaylist(),this.setCorrectPlaylistIndex()}loadToQueue(t){let n=document.querySelector(".audio-player-queue-list");n&&(n.innerHTML="",t.forEach(r=>{let c=[];c.icon="",c.data="",r.license!==null&&(c.icon=`
                            <button class="dropdown-toggle bg:transparent border:none" aria-expanded="false" aria-label="Expand child menu" data-menutoggle_click_outside="true">
                                <svg class="icon:audio color:black tonics-widget cursor:pointer act-like-button">
                                    <use class="svgUse" xlink:href="#tonics-shopping-cart"></use>
                                </svg>
                            </button>`,c.length>0&&c.forEach(g=>{c.data+=`
<li class="d:flex flex-d:column align-items:center">
        <span class="license-name">${g.name}</span>
        <span class="license-price">$${g.price}</span>
</li>`}));let p;this.currentHowl!==null&&this.currentHowl._src[0]===r.songurl?p="true":p="false",n.insertAdjacentHTML("beforeend",`
<li tabindex="0" class="color:black cursor:move draggable track-in-queue bg:white-one border-width:default border:black position:relative">
                    <div class="queue-song-info d:flex align-items:center flex-gap:small">
                        <div title="${r.songtitle}" class="cursor:text text:no-wrap width:80px text-overflow:ellipsis">${r.songtitle}</div>
                        ${c.icon}
                    </div>
                    
<button type="button" title="Play" data-tonics-audioplayer-track="" 
data-trackloaded
data-audioplayer_songurl="${r.songurl}" 
data-audioplayer_title="${r.songtitle}" 
data-audioplayer_image="${r.songimage}" 
data-audioplayer_format="${r.format}" 
data-url_page="${r.url_page}" 
data-audioplayer_play="${p}" class="audioplayer-track border:none act-like-button icon:audio bg:transparent cursor:pointer color:black">
    <svg class="audio-play icon:audio tonics-widget pointer-events:none">
        <use class="svgUse" xlink:href="#tonics-audio-play"></use>
    </svg>
    <svg class="audio-pause icon:audio tonics-widget pointer-events:none">
        <use class="svgUse" xlink:href="#tonics-audio-pause"></use>
    </svg>
</button>

<ul class="cursor:pointer track-license d:none z-index:audio-sticky-footer:license-in-queue flex-d:column width:100% position:absolute flex-gap left:0 top:46px color:black bg:white-one border-width:default border:black">
    ${c.data}
</ul>
                </li>
`)}))}setCorrectPlaylistIndex(){let t=document.querySelector('.audio-player-queue [data-audioplayer_play="true"]');if(t){let n=t.dataset.audioplayer_songurl,r="GLOBAL_GROUP";if(t.dataset.hasOwnProperty("audioplayer_groupid")&&(r=t.dataset.audioplayer_groupid),this.groupKeyToMapKey.has(r)){let p=this.groupKeyToMapKey.get(r).indexOf(n);p!==-1&&(this.playlistIndex=p)}}}setSongUrlPlayAttribute(t,n,r=null){let c=document.querySelectorAll(`[data-audioplayer_songurl="${t}"]`),p=document.querySelector(".global-play");c.length>0&&c.forEach(g=>{g.dataset.hasOwnProperty("audioplayer_play")&&g!==p&&(g.dataset.audioplayer_play=n,r&&(g.title=r))})}getAudioPlayerGlobalContainer(){return document.querySelector(".audio-player-global-container")}loadPlaylist(){let t=this,n=t.getAudioPlayerGlobalContainer();if(n&&n.dataset.hasOwnProperty("audioplayer_groupid")){let r=n.dataset.audioplayer_groupid;if(t.audioPlayerSettings===null&&this.bootPlaylistAndSongs(),t.audioPlayerSettings.has(r))return this.playlist=t.groupKeyToMapKey.get(r),this.currentGroupID=r,!0}return!1}getSongData(){let t=this.playlist[this.playlistIndex],n=this.audioPlayerSettings.get(this.currentGroupID);if(n.has(t)){let r=n.get(t);return r._self=this,r}return!1}volume(t){let n=t.target;n.classList.contains("volume-slider")&&(Howler.volume(n.value),localStorage.setItem("HowlerJSVolume",n.value))}sliderThumbMouseDown(t){let n=t.target,r=this;n.classList.contains("song-slider")&&(r.userIsSeekingSongSlider=!0)}sliderThumbMouseUp(t){let n=t.target,r=this;n.classList.contains("song-slider")&&(r.userIsSeekingSongSlider=!1,r.seek(n.value))}pause(){let t=this,n=t.currentHowl,r=document.querySelector(".global-play");r&&r.dataset.hasOwnProperty("audioplayer_play")&&(r.dataset.audioplayer_play="false",r.title="Play"),n!==null&&(n.pause(),this.setSongUrlPlayAttribute(this.getSongData().songurl,"false","Play"))}handlePlayElementSettings(){let t=this.getSongData(),n=document.querySelector(".global-play"),r=document.querySelectorAll('[data-audioplayer_play="true"]');this.currentHowl&&this.currentHowl.pause(),r&&r.length>0&&r.forEach(c=>{c.dataset.audioplayer_play="false"}),n&&n.dataset.hasOwnProperty("audioplayer_play")&&(n.dataset.audioplayer_play="true",n.title="Pause"),this.setSongUrlPlayAttribute(t.songurl,"true","Pause")}play(){let t=this,n=t.getSongData().howl;Howler.volume(document.querySelector(".volume-slider").value),t.handlePlayElementSettings(),n===null&&(t.getSongData().howl=t.newHowlPlay(),n=t.getSongData().howl);try{n.play()}catch(r){t.getSongData().howl=t.newHowlPlay(),n=t.getSongData().howl,n.play()}t.currentHowl=n,this.updateGlobalSongProp(t.getSongData().songtitle,t.getSongData().songimage)}newHowlPlay(t=null){let n=this,r=n.getSongData(),c=new Howl({preload:!0,src:[r.songurl],html5:!0,onplay:()=>{n.repeatMarkerSong||n.handleMarkerUpdating(),requestAnimationFrame(n.step.bind(n))},onseek:()=>{requestAnimationFrame(n.step.bind(n))},onend:()=>{n.repeatSong?(n.pause(),n.play()):n.next(),n.removeMarker()}}),p=!1;return c.on("play",function(){p=!1;let g=new $e(n.getSongData());n.getEventDispatcher().dispatchEventToHandlers(window.TonicsEvent.EventConfig,g,$e)}),c.on("pause",function(){if(!p){p=!0;let g=new He(n.getSongData());n.getEventDispatcher().dispatchEventToHandlers(window.TonicsEvent.EventConfig,g,He)}}),c}getMarkerPercentageAndSeconds(t,n){if(!t||!/^\d{1,2}:\d{1,2}(:\d{1,2})?$/.test(t)){console.error(`Invalid time format: ${t}. Should be in format "00:00" or "00:00:00"`);return}let r=t.split(":"),c=r.length>2?parseInt(r[0],10):0,p=parseInt(r[r.length-2],10),g=(r.length>2,parseInt(r[r.length-1],10)),f=c*3600+p*60+g;if(!n||n<=0){console.error("audioTrackLength is not defined or is <= 0");return}return{percentage:f/n*100,seconds:f}}updateMarker(t,n){let r=n._track_marker_start_info,c=n._track_marker_end_info,g=document.querySelector(".tonics-audio-marker").innerHTML;g=g.replace(/Marker_Percentage/g,r.percentage),g=g.replace(/Marker_Text/g,r.text),g=g.replace(/MARKER_START/g,r.seconds),g=g.replace(/MARKER_END/g,c.seconds);let f=document.querySelector(t);f&&f.insertAdjacentHTML("afterend",g)}handleMarkerUpdating(){var n;let t=this.getSongData();((n=t==null?void 0:t.markers)==null?void 0:n.length)>0&&(document.querySelectorAll("div[data-audioplayer_marker]").forEach(c=>c.remove()),t.markers.forEach(c=>{c._track_marker_start_info&&this.updateMarker(".song-slider",c)}))}storeSongPosition(){let t=this.getCurrentHowl(),n=window.location.href,r=t.seek();localStorage.setItem(n,JSON.stringify({currentPos:r,songKey:this.playlist[this.playlistIndex],currentGroupID:this.currentGroupID}))}prev(){let t=this;t.removeMarker(),t.playlist===null&&t.loadPlaylist();let n=t.playlistIndex-1;n<0&&(n=0),this.skipTo(n)}next(){let t=this;t.removeMarker(),t.playlist===null&&t.loadPlaylist();let n=t.playlistIndex+1;n>=t.playlist.length&&(n=0),this.skipTo(n)}skipTo(t){let n=this;n.getCurrentHowl()&&n.getCurrentHowl().stop(),n.playlistIndex=t,n.play()}seek(t){let r=this.getCurrentHowl(),c=r.duration()*t/100;r&&(r.seek(c),this.moveSlider())}moveSlider(){let t=this,n=t.getCurrentHowl(),c=(n.seek()||0)/n.duration()*100||0;c=Math.round(c),t.userIsSeekingSongSlider===!1&&(t.songSlider.value=c)}step(){let t=this,n=t.getCurrentHowl();if(n.playing()){if(t.repeatMarkerSong){let r=Math.round(n.seek()),c=parseInt(t.repeatMarkerSong.start),p=parseInt(t.repeatMarkerSong.end);r>=p&&n.seek(c)}this.moveSlider(),t.storeSongPosition(),requestAnimationFrame(this.step.bind(t))}}removeMarker(){this.repeatMarkerSong=null}updateGlobalSongProp(t="",n=""){let r=document.querySelector("[data-audioplayer_globaltitle]"),c=document.querySelector("[data-audioplayer_globalart]");r&&(r.innerText=t,r.title=t),c&&(c.src=n),"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:t,artwork:[{src:n,sizes:"100x100",type:"image/png"}]}))}getCurrentHowl(){return this.currentHowl}getEventDispatcher(){return window.TonicsEvent.EventDispatcher}};y(Je,"AudioPlayer");var Be=class{constructor(t){this._songData=t}get songData(){return this._songData}set songData(t){this._songData=t}};y(Be,"AudioPlayerEventAbstract");var $e=class extends Be{};y($e,"OnAudioPlayerPlayEvent");var He=class extends Be{};y(He,"OnAudioPlayerPauseEvent");if(document.querySelector(".audio-player")){let e=new Je;e.run();let t=".audio-player-queue-list",n=".track-in-queue",r=!1,c=!1,p=0,g=5;window!=null&&window.TonicsScript.hasOwnProperty("Draggables")&&window.TonicsScript.Draggables(t).settings(n,[".track-license"],!1).onDragDrop(function(f,w){let v=w.getDroppedTarget().closest(n),a=w.getDragging().closest(n);(v!==a&&r||c)&&(dn(a,v,w.draggingOriginalRect,()=>{e.resetQueue()}),p=0,r=!1,c=!1)}).onDragTop(f=>{if(p++>=g){let w=f.previousElementSibling;w&&w.classList.contains("track-in-queue")&&(r=!0)}}).onDragBottom(f=>{if(p++>=g){let w=f.nextElementSibling;w&&w.classList.contains("track-in-queue")&&(c=!0)}}).run(),(window==null?void 0:window.TonicsScript.hasOwnProperty("MenuToggle"))&&(window==null?void 0:window.TonicsScript.hasOwnProperty("Query"))&&(window.TonicsScript.MenuToggle(".audio-player",window.TonicsScript.Query()).settings(".audio-player-global-container",".dropdown-toggle",".audio-player-queue").buttonIcon("#tonics-arrow-down","#tonics-arrow-up").menuIsOff(["swing-out-top-fwd","d:none"],["swing-in-top-fwd","d:flex"]).menuIsOn(["swing-in-top-fwd","d:flex"],["swing-out-top-fwd","d:none"]).stopPropagation(!1).closeOnClickOutSide(!1).run(),window.TonicsScript.MenuToggle(".time-progress",window.TonicsScript.Query()).settings(".time-progress-marker",".marker-dropdown-toggle",".audio-player-marker-data").buttonIcon("#tonics-arrow-down","#tonics-arrow-up").menuIsOff(["swing-out-top-fwd","d:none"],["swing-in-top-fwd","d:flex"]).menuIsOn(["swing-in-top-fwd","d:flex"],["swing-out-top-fwd","d:none"]).stopPropagation(!1).closeOnClickOutSide(!1).run(),window.TonicsScript.MenuToggle(".audio-player-queue",window.TonicsScript.Query()).settings(".track-in-queue",".dropdown-toggle",".track-license").menuIsOff(["swing-out-top-fwd","d:none"],["swing-in-top-fwd","d:flex"]).menuIsOn(["swing-in-top-fwd","d:flex"],["swing-out-top-fwd","d:none"]).stopPropagation(!1).closeOnClickOutSide(!1).run())}function zt(e={}){let t={};return new XHRApi(Dt(Dt({},t),e))}y(zt,"defaultXHR");var Ne=document.querySelector("main"),Tt=new Map,bi=null,Pt=null,be=null,_e=null;if(Ne){Ne.addEventListener("click",t=>{let n=t.target;if(n.classList.contains("more-button")){t.preventDefault();let r=n.dataset.action,c=n.dataset.morepageurl;zt(n.dataset).Get(c,function(p,g){if(g&&(g=JSON.parse(g),g.hasOwnProperty("status")&&g.status===200)){let f=n.closest(".menu-box-radiobox-items"),w=f.querySelector(".more-button"),v=f.querySelector("li:nth-last-of-type(1)");w&&w.remove(),v.insertAdjacentHTML("afterend",g.data)}})}if(n.classList.contains("upload-license-download-url")&&(Pt=n.parentElement.querySelector(".input-license-download-url"),tonicsFileManagerURL)){let r="left=95,top=100";bi=window.open(tonicsFileManagerURL,"Tonics File Manager",r)}}),window.addEventListener("message",t=>{if(t.origin!==siteURL)return;let n=t.data;n.hasOwnProperty("cmd")&&n.cmd==="tonics:RegularLink"&&Pt&&(Pt.value=n.value,bi.close())});let e=[];Ne.addEventListener("keydown",t=>{let n=t.target;if(n.classList.contains("menu-box-item-search")){let r=n;if(t.code==="Enter"){e[n.dataset.menuboxname]=n.parentElement.cloneNode(!0),t.preventDefault();let c=r.value;if(c=c.trim(),c.length>0&&r.dataset.hasOwnProperty("searchvalue")){r.dataset.searchvalue=c;let p=r.dataset.query+encodeURIComponent(c);zt(r.dataset).Get(p,function(g,f){if(f&&(f=JSON.parse(f),f.hasOwnProperty("status")&&f.status===200)){let w=r.parentElement,v=r.cloneNode(!0);r.parentElement.innerHTML=f.data,w.prepend(v)}})}}}}),Ne.addEventListener("change",t=>{let n=t.target;n.classList.contains("license-selector")&&Ji(n)}),Ne.addEventListener("input",t=>{let n=t.target,r=n;if(n.classList.contains("menu-box-item-search")){t.preventDefault();let c=r.value;if(c=c.trim(),c===""){let p=r.parentElement.querySelectorAll('input[type="checkbox"]:checked');if(p.length>0){let g="";for(let a=0;a<p.length;a++){let o=p[a].value,u=e[r.dataset.menuboxname].querySelector(`input[type="checkbox"][value="${o}"]`);u?u&&!u.checked&&(g+=p[a].parentElement.outerHTML):g+=p[a].parentElement.outerHTML}let f=e[r.dataset.menuboxname];f.querySelector("li").insertAdjacentHTML("beforebegin",g);let v=r.parentElement;v.innerHTML=f.innerHTML}}}})}var Lt=document.querySelector(".license-selector");Lt&&Lt.dataset.new==="true"&&Ji(Lt);function Ji(e){if(_e=e.closest("li").querySelector(".license-downloads"),be=e.options[e.selectedIndex],be.dataset.licenseID=be.value,Tt.has(be.value)&&_e){_e.innerHTML="",_e.innerHTML=Tt.get(be.value);return}zt(be.dataset).Get(window.location.href,function(t,n){n&&(n=JSON.parse(n),n.hasOwnProperty("status")&&n.status===200&&_e&&(_e.innerHTML="",_e.innerHTML=n.data,Tt.set(be.value,n.data)))})}y(Ji,"getLicenseDownloadInfo");export{Je as AudioPlayer,_i as Draggables,Ei as MenuToggle,ki as Query,Yi as TonicsFileManagerExcrete,dn as swapNodes};
/*!
* sweetalert2 v11.1.10
* Released under the MIT License.
*/
/*! howler.js v2.2.3 | (c) 2013-2020, James Simpson of GoldFire Studios | MIT License | howlerjs.com */
