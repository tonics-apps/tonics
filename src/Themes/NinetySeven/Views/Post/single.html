[[import("Themes::NinetySeven/Views/Block/base")]]

[[- POST BLOCKS -]]

[[b('Post::Single::Header')
<header class="owl overflow:hidden text-align:center padding:default bg:gray-two">
    <h1 class="entry-title"> [[v('Data.post_title')]]</h1>
    <div class="entry-meta d:flex align-items:center justify-content:center flex-d:column flex-gap:small">
        <nav>
            <ul style="gap: 5px; font-size: 85%;" class="d:flex flex-wrap:wrap justify-content:center list:style:none">
                [[each("cat in Data.categories")
                <style>
                    .box {
                        display: flex;
                        flex-direction: row;
                        padding: 5px clamp(20px, 2vw, 25px);
                        align-items: center;
                        border-radius: 5px;
                        text-decoration: none;
                    }
                </style>
                <li class="menu-block">
                    <a href="/[[v('cat.path')]]" class="box flex-gap:small color:black border-width:default border:black" title="[[v('cat.cat_name')]]">
                        <div class="text:no-wrap">[[v('cat.cat_name')]]</div>
                    </a>
                </li>
                ]]
            </ul>
        </nav>
        <div class="by-line-and-date d:flex justify-content:center flex-gap:small">
            <div class="by-line d:flex align-items:center flex-gap:small">
                <span class="posted-by">
                    By [[v('Data.user_name')]]
                </span>
            </div>
            |
            <div class="date-published d:flex align-items:center flex-gap:small">
                <span class="date">
                    On [[v('Data.created_at_words')]]
                </span>
            </div>
        </div>
    </div>
    <figure class="featured-image full-bleed">
        <div class="post-thumbnail">
            [[if("v[Data.image_url] !== block[empty]")
            <img width="2000" height="1200"
                 loading="lazy"
                 decoding="async"
                 src="[[v('Data.image_url')]]"
                 class="" alt="[[v('Data.post_title')]]">
            ]]
        </div><!-- .post-thumbnail -->
    </figure>
</header>
]]

[[b('NinetySevenPostSingleEntry')
    [[- Loads MarkUp -]]
    [[trigger_block('BaseMarkup')]]

    [[hook_into('in_head')
        <title>[[v('InputText_seo_title.Value .. Data.post_title')]]</title>
        <meta name="description" content='[[v("Data.seo_description .. Data.og_description")]]'>
        <meta property="og:title" content='[[v("Data.seo_title .. Data.post_title")]]'>
        <meta property="og:description" content='[[v("Data.seo_description .. Data.og_description")]]'>
        <meta property="og:url" content='[[v("URL.FULL_URL")]]'>
        <meta property="og:type" content="article" />
        [[if('v[Data.image_url]')
            <meta property="og:image" content='[[v("Data.image_url")]]'>
        ]]
    ]]

    [[trigger_block('reusable_hooks')]]

    [[hook_into('in_main')
        <article class="owl" id="post_slug_id_[[v('Data.slug_id')]]">
        [[_use("Post::Single::Header")]]

        <section class="content-body bg:pure-white d:flex justify-content:space-evenly flex-wrap:wrap">
            <article class="owl entry-content">
                [[_v('Data.post_content')]]
            </article>
            [[if("v[Widget_sidebar_widget.Data] !== block[empty]")
            <aside>
                <div class="owl sidebar-widget position:sticky top:0">
                    <h4 style="text-transform: capitalize;">[[_v('Widget_sidebar_widget.Name')]]</h4>
                    <ul class="owl list:style:none">
                        [[each("widgetData in Widget_sidebar_widget.Data")
                            <li style="margin-top: clamp(3rem, 2.5vw, 2rem);" tabindex="0" class="owl width:100% padding:default menu-arranger-li color:black bg:white-one border-width:default border:black position:relative">
                                <span class="widget-title bg:pure-black color:white padding:small">[[v('widgetData.options.widgetName')]]</span>
                                [[_v('widgetData.htmlFrag')]]
                            </li>
                        ]]
                    </ul>
                </div>
            </aside>
            ]]
        </section>
    </article>
    ]]
]]
