var _t=Object.defineProperty;var s=(p,d)=>_t(p,"name",{value:d,configurable:!0});var kt=Object.defineProperty,Ot=s((p,d)=>kt(p,"name",{value:d,configurable:!0}),"__name"),st=s(class{constructor(p={}){this.$callbacks={},this.http=new XMLHttpRequest,this.headers=p,this.settings()}getCallbacks(){return this.$callbacks}settings(){this.getCallbacks().callbacks={onProgress:null}}checkIfCallbackIsSet(){if(!this.getCallbacks().callbacks)throw new DOMException("No Callbacks exist");return!0}onProgress(p){if(this.checkIfCallbackIsSet())return this.getCallbacks().callbacks.onProgress=p,this}Get(p,d){this.getHttp().open("GET",p,!0),this.setHeaders(),this.getHttp().send();let v=this;this.getHttp().onreadystatechange=function(){try{v.http.readyState===XMLHttpRequest.DONE&&(v.http.status===200?d(null,v.http.response):d(v.http.response))}catch(l){d("Something Went Wrong: "+l.description)}}}Post(p,d,v){this.getHttp().open("POST",p,!0),this.setHeaders(),this.getHttp().send(d);let l=this,m=l.getCallbacks().callbacks.onProgress;m!==null&&typeof m=="function"&&this.getHttp().upload.addEventListener("progress",function(_){m(_)}),this.getHttp().onreadystatechange=function(){try{l.http.onload=function(){v(null,l.http.responseText)}}catch(_){v("Something Went Wrong: "+_.description)}}}Put(p,d,v){this.getHttp().open("PUT",p,!0),this.setHeaders(),this.getHttp().send(d);let l=this,m=l.getCallbacks().callbacks.onProgress;m!==null&&typeof m=="function"&&this.getHttp().upload.addEventListener("progress",function(_){m(_)});try{this.http.onload=function(){l.http.status===200?v(null,l.http.response):v(l.http.response)}}catch(_){v("Something Went Wrong: "+_.description)}}Delete(p,d=null,v){this.http.open("DELETE",p,!0),this.setHeaders(),d?this.http.send(d):this.http.send();let l=this;try{this.http.onload=function(){l.http.status===200?v(null,l.http.response):v(l.http.response)}}catch(m){v("Something Went Wrong: "+m.description)}}getHeaders(){return this.headers}setHeaders(){if(this.getHeaders())for(let p in this.getHeaders())this.getHttp().setRequestHeader(p,this.getHeaders()[p])}getHttp(){return this.http}},"XHRApi");Ot(st,"XHRApi");window.hasOwnProperty("TonicsScript")||(window.TonicsScript={});window.TonicsScript.XHRApi=(p={})=>new st(p);console.log(window);(function(p,d){typeof exports=="object"&&typeof module=="object"?module.exports=d():typeof define=="function"&&define.amd?define("Navigo",[],d):typeof exports=="object"?exports.Navigo=d():p.Navigo=d()})(typeof self!="undefined"?self:void 0,function(){return function(){"use strict";var p={407:function(l,m,_){_.d(m,{default:function(){return vt}});var ct=/([:*])(\w+)/g,ut=/\*/g,ht=/\/\?/g;function z(t){return t===void 0&&(t="/"),W()?location.pathname+location.search+location.hash:t}s(z,"a");function g(t){return t.replace(/\/+$/,"").replace(/^\/+/,"")}s(g,"s");function j(t){return typeof t=="string"}s(j,"c");function N(t){return t&&t.indexOf("#")>=0&&t.split("#").pop()||""}s(N,"u");function T(t){var n=g(t).split(/\?(.*)?$/);return[g(n[0]),n.slice(1).join("")]}s(T,"h");function U(t){for(var n={},r=t.split("&"),i=0;i<r.length;i++){var a=r[i].split("=");if(a[0]!==""){var c=decodeURIComponent(a[0]);n[c]?(Array.isArray(n[c])||(n[c]=[n[c]]),n[c].push(decodeURIComponent(a[1]||""))):n[c]=decodeURIComponent(a[1]||"")}}return n}s(U,"f");function X(t,n){var r,i=T(g(t.currentLocationPath)),a=i[0],c=i[1],k=c===""?null:U(c),y=[];if(j(n.path)){if(r="(?:/^|^)"+g(n.path).replace(ct,function(H,A,w){return y.push(w),"([^/]+)"}).replace(ut,"?(?:.*)").replace(ht,"/?([^/]+|)")+"$",g(n.path)===""&&g(a)==="")return{url:a,queryString:c,hashString:N(t.to),route:n,data:null,params:k}}else r=n.path;var P=new RegExp(r,""),S=a.match(P);if(S){var E=j(n.path)?function(H,A){return A.length===0?null:H?H.slice(1,H.length).reduce(function(w,I,q){return w===null&&(w={}),w[A[q]]=decodeURIComponent(I),w},null):null}(S,y):S.groups?S.groups:S.slice(1);return{url:g(a.replace(new RegExp("^"+t.instance.root),"")),queryString:c,hashString:N(t.to),route:n,data:E,params:k}}return!1}s(X,"l");function G(){return!(typeof window=="undefined"||!window.history||!window.history.pushState)}s(G,"p");function R(t,n){return t[n]===void 0||t[n]===!0}s(R,"d");function W(){return typeof window!="undefined"}s(W,"v");function lt(t,n){return t===void 0&&(t=[]),n===void 0&&(n={}),t.filter(function(r){return r}).forEach(function(r){["before","after","already","leave"].forEach(function(i){r[i]&&(n[i]||(n[i]=[]),n[i].push(r[i]))})}),n}s(lt,"g");function b(t,n,r){var i=n||{},a=0;s(function c(){t[a]?Array.isArray(t[a])?(t.splice.apply(t,[a,1].concat(t[a][0](i)?t[a][1]:t[a][2])),c()):t[a](i,function(k){k===void 0||k===!0?(a+=1,c()):r&&r(i)}):r&&r(i)},"n")()}s(b,"m");function K(t,n){t.currentLocationPath===void 0&&(t.currentLocationPath=t.to=z(t.instance.root)),t.currentLocationPath=t.instance._checkForAHash(t.currentLocationPath),n()}s(K,"y");function F(t,n){for(var r=0;r<t.instance.routes.length;r++){var i=X(t,t.instance.routes[r]);if(i&&(t.matches||(t.matches=[]),t.matches.push(i),t.resolveOptions.strategy==="ONE"))return void n()}n()}s(F,"_");function ft(t,n){t.navigateOptions&&(t.navigateOptions.shouldResolve!==void 0&&console.warn('"shouldResolve" is deprecated. Please check the documentation.'),t.navigateOptions.silent!==void 0&&console.warn('"silent" is deprecated. Please check the documentation.')),n()}s(ft,"k");function pt(t,n){t.navigateOptions.force===!0?(t.instance._setCurrent([t.instance._pathToMatchObject(t.to)]),n(!1)):n()}s(pt,"O"),b.if=function(t,n,r){return Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]),[t,n,r]};var J=W(),dt=G();function gt(t,n){if(R(t.navigateOptions,"updateBrowserURL")){var r=("/"+t.to).replace(/\/\//g,"/"),i=J&&t.resolveOptions&&t.resolveOptions.hash===!0;dt?(history[t.navigateOptions.historyAPIMethod||"pushState"](t.navigateOptions.stateObj||{},t.navigateOptions.title||"",i?"#"+r:r),location&&location.hash&&(t.instance.__freezeListening=!0,setTimeout(function(){if(!i){var a=location.hash;location.hash="",location.hash=a}t.instance.__freezeListening=!1},1))):J&&(window.location.href=t.to)}n()}s(gt,"b");function Q(t,n){var r=t.instance;r.lastResolved()?b(r.lastResolved().map(function(i){return function(a,c){if(i.route.hooks&&i.route.hooks.leave){var k=!1,y=t.instance.matchLocation(i.route.path,t.currentLocationPath,!1);k=i.route.path!=="*"?!y:!(t.matches&&t.matches.find(function(P){return i.route.path===P.route.path})),R(t.navigateOptions,"callHooks")&&k?b(i.route.hooks.leave.map(function(P){return function(S,E){return P(function(H){H===!1?t.instance.__markAsClean(t):E()},t.matches&&t.matches.length>0?t.matches.length===1?t.matches[0]:t.matches:void 0)}}).concat([function(){return c()}])):c()}else c()}}),{},function(){return n()}):n()}s(Q,"A");function V(t,n){R(t.navigateOptions,"updateState")&&t.instance._setCurrent(t.matches),n()}s(V,"P");var Y=[function(t,n){var r=t.instance.lastResolved();if(r&&r[0]&&r[0].route===t.match.route&&r[0].url===t.match.url&&r[0].queryString===t.match.queryString)return r.forEach(function(i){i.route.hooks&&i.route.hooks.already&&R(t.navigateOptions,"callHooks")&&i.route.hooks.already.forEach(function(a){return a(t.match)})}),void n(!1);n()},function(t,n){t.match.route.hooks&&t.match.route.hooks.before&&R(t.navigateOptions,"callHooks")?b(t.match.route.hooks.before.map(function(r){return function(i,a){return r(function(c){c===!1?t.instance.__markAsClean(t):a()},t.match)}}).concat([function(){return n()}])):n()},function(t,n){R(t.navigateOptions,"callHandler")&&t.match.route.handler(t.match),t.instance.updatePageLinks(),n()},function(t,n){t.match.route.hooks&&t.match.route.hooks.after&&R(t.navigateOptions,"callHooks")&&t.match.route.hooks.after.forEach(function(r){return r(t.match)}),n()}],Z=[Q,function(t,n){var r=t.instance._notFoundRoute;if(r){t.notFoundHandled=!0;var i=T(t.currentLocationPath),a=i[0],c=i[1],k=N(t.to);r.path=g(a);var y={url:r.path,queryString:c,hashString:k,data:null,route:r,params:c!==""?U(c):null};t.matches=[y],t.match=y}n()},b.if(function(t){return t.notFoundHandled},Y.concat([V]),[function(t,n){t.resolveOptions&&t.resolveOptions.noMatchWarning!==!1&&t.resolveOptions.noMatchWarning!==void 0||console.warn('Navigo: "'+t.currentLocationPath+`" didn't match any of the registered routes.`),n()},function(t,n){t.instance._setCurrent(null),n()}])];function B(){return(B=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}s(B,"E");function tt(t,n){var r=0;Q(t,s(function i(){r!==t.matches.length?b(Y,B({},t,{match:t.matches[r]}),function(){r+=1,i()}):V(t,n)},"o"))}s(tt,"x");function D(t){t.instance.__markAsClean(t)}s(D,"H");function et(){return(et=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}s(et,"j");var nt="[data-navigo]";function vt(t,n){var r,i=n||{strategy:"ONE",hash:!1,noMatchWarning:!1,linksSelector:nt},a=this,c="/",k=null,y=[],P=!1,S=G(),E=W();function H(e){return e.indexOf("#")>=0&&(e=i.hash===!0?e.split("#")[1]||"/":e.split("#")[0]),e}s(H,"R");function A(e){return g(c+"/"+g(e))}s(A,"E");function w(e,o,u,f){return e=j(e)?A(e):e,{name:f||g(String(e)),path:e,handler:o,hooks:lt(u)}}s(w,"N");function I(e,o){if(!a.__dirty){a.__dirty=!0,e=e?g(c)+"/"+g(e):void 0;var u={instance:a,to:e,currentLocationPath:e,navigateOptions:{},resolveOptions:et({},i,o)};return b([K,F,b.if(function(f){var h=f.matches;return h&&h.length>0},tt,Z)],u,D),!!u.matches&&u.matches}a.__waiting.push(function(){return a.resolve(e,o)})}s(I,"U");function q(e,o){if(a.__dirty)a.__waiting.push(function(){return a.navigate(e,o)});else{a.__dirty=!0,e=g(c)+"/"+g(e);var u={instance:a,to:e,navigateOptions:o||{},resolveOptions:o&&o.resolveOptions?o.resolveOptions:i,currentLocationPath:H(e)};b([ft,pt,F,b.if(function(f){var h=f.matches;return h&&h.length>0},tt,Z),gt,D],u,D)}}s(q,"q");function rt(){if(E)return(E?[].slice.call(document.querySelectorAll(i.linksSelector||nt)):[]).forEach(function(e){e.getAttribute("data-navigo")!=="false"&&e.getAttribute("target")!=="_blank"?e.hasListenerAttached||(e.hasListenerAttached=!0,e.navigoHandler=function(o){if((o.ctrlKey||o.metaKey)&&o.target.tagName.toLowerCase()==="a")return!1;var u=e.getAttribute("href");if(u==null)return!1;if(u.match(/^(http|https)/)&&typeof URL!="undefined")try{var f=new URL(u);u=f.pathname+f.search}catch(L){}var h=function(L){if(!L)return{};var O,$=L.split(","),C={};return $.forEach(function(mt){var x=mt.split(":").map(function(yt){return yt.replace(/(^ +| +$)/g,"")});switch(x[0]){case"historyAPIMethod":C.historyAPIMethod=x[1];break;case"resolveOptionsStrategy":O||(O={}),O.strategy=x[1];break;case"resolveOptionsHash":O||(O={}),O.hash=x[1]==="true";break;case"updateBrowserURL":case"callHandler":case"updateState":case"force":C[x[0]]=x[1]==="true"}}),O&&(C.resolveOptions=O),C}(e.getAttribute("data-navigo-options"));P||(o.preventDefault(),o.stopPropagation(),a.navigate(g(u),h))},e.addEventListener("click",e.navigoHandler)):e.hasListenerAttached&&e.removeEventListener("click",e.navigoHandler)}),a}s(rt,"F");function ot(e,o,u){var f=y.find(function(O){return O.name===e}),h=null;if(f){if(h=f.path,o)for(var L in o)h=h.replace(":"+L,o[L]);h=h.match(/^\//)?h:"/"+h}return h&&u&&!u.includeRoot&&(h=h.replace(new RegExp("^/"+c),"")),h}s(ot,"I");function it(e){var o=T(g(e)),u=o[0],f=o[1],h=f===""?null:U(f);return{url:u,queryString:f,hashString:N(e),route:w(u,function(){},[r],u),data:null,params:h}}s(it,"M");function M(e,o,u){return typeof o=="string"&&(o=at(o)),o?(o.hooks[e]||(o.hooks[e]=[]),o.hooks[e].push(u),function(){o.hooks[e]=o.hooks[e].filter(function(f){return f!==u})}):(console.warn("Route doesn't exists: "+o),function(){})}s(M,"T");function at(e){return typeof e=="string"?y.find(function(o){return o.name===A(e)}):y.find(function(o){return o.handler===e})}s(at,"z"),t?c=g(t):console.warn('Navigo requires a root path in its constructor. If not provided will use "/" as default.'),this.root=c,this.routes=y,this.destroyed=P,this.current=k,this.__freezeListening=!1,this.__waiting=[],this.__dirty=!1,this.__markAsClean=function(e){e.instance.__dirty=!1,e.instance.__waiting.length>0&&e.instance.__waiting.shift()()},this.on=function(e,o,u){var f=this;return typeof e!="object"||e instanceof RegExp?(typeof e=="function"&&(u=o,o=e,e=c),y.push(w(e,o,[r,u])),this):(Object.keys(e).forEach(function(h){if(typeof e[h]=="function")f.on(h,e[h]);else{var L=e[h],O=L.uses,$=L.as,C=L.hooks;y.push(w(h,O,[r,C],$))}}),this)},this.off=function(e){return this.routes=y=y.filter(function(o){return j(e)?g(o.path)!==g(e):typeof e=="function"?e!==o.handler:String(o.path)!==String(e)}),this},this.resolve=I,this.navigate=q,this.navigateByName=function(e,o,u){var f=ot(e,o);return f!==null&&(q(f.replace(new RegExp("^/?"+c),""),u),!0)},this.destroy=function(){this.routes=y=[],S&&window.removeEventListener("popstate",this.__popstateListener),this.destroyed=P=!0},this.notFound=function(e,o){return a._notFoundRoute=w("*",e,[r,o],"__NOT_FOUND__"),this},this.updatePageLinks=rt,this.link=function(e){return"/"+c+"/"+g(e)},this.hooks=function(e){return r=e,this},this.extractGETParameters=function(e){return T(H(e))},this.lastResolved=function(){return k},this.generate=ot,this.getLinkPath=function(e){return e.getAttribute("href")},this.match=function(e){var o={instance:a,currentLocationPath:e,to:e,navigateOptions:{},resolveOptions:i};return F(o,function(){}),!!o.matches&&o.matches},this.matchLocation=function(e,o,u){o===void 0||u!==void 0&&!u||(o=A(o));var f={instance:a,to:o,currentLocationPath:o};return K(f,function(){}),typeof e=="string"&&(e=u===void 0||u?A(e):e),X(f,{name:String(e),path:e,handler:function(){},hooks:{}})||!1},this.getCurrentLocation=function(){return it(g(z(c)).replace(new RegExp("^"+c),""))},this.addBeforeHook=M.bind(this,"before"),this.addAfterHook=M.bind(this,"after"),this.addAlreadyHook=M.bind(this,"already"),this.addLeaveHook=M.bind(this,"leave"),this.getRoute=at,this._pathToMatchObject=it,this._clean=g,this._checkForAHash=H,this._setCurrent=function(e){return k=a.current=e},function(){S&&(this.__popstateListener=function(){a.__freezeListening||I()},window.addEventListener("popstate",this.__popstateListener))}.call(this),rt.call(this)}s(vt,"N")}},d={};function v(l){if(d[l])return d[l].exports;var m=d[l]={exports:{}};return p[l](m,m.exports,v),m.exports}return s(v,"e"),v.d=function(l,m){for(var _ in m)v.o(m,_)&&!v.o(l,_)&&Object.defineProperty(l,_,{enumerable:!0,get:m[_]})},v.o=function(l,m){return Object.prototype.hasOwnProperty.call(l,m)},v(407)}().default});export{st as XHRApi};
